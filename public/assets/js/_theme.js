!function(t){t.jCryption=function(e,n){var i=this;i.$el=t(e),i.el=e,i.$el.data("jCryption",i),i.$el.data("key",null),i.init=function(){if(i.options=t.extend({},t.jCryption.defaultOptions,n),$encryptedElement=t("<input />",{type:"hidden",name:i.options.postVariable}),i.options.submitElement!==!1)var e=i.options.submitElement;else var e=i.$el.find(":input:submit");e.bind(i.options.submitEvent,function(){return t(this).attr("disabled",!0),i.options.beforeEncryption()&&i.authenticate(function(n){var r=i.$el.serialize();e.is(":submit")&&(r=r+"&"+e.attr("name")+"="+e.val()),$encryptedElement.val(t.jCryption.encrypt(r,n)),t(i.$el).find(i.options.formFieldSelector).attr("disabled",!0).end().append($encryptedElement).submit()},function(){confirm("Authentication with Server failed, are you sure you want to submit this form unencrypted?",function(){t(i.$el).submit()})}),!1})},i.init(),i.getKey=function(){if(null!==i.$el.data("key"))return i.$el.data("key");var t;if(window.crypto&&window.crypto.getRandomValues){var e=new Uint32Array(8);window.crypto.getRandomValues(e),t=CryptoJS.lib.WordArray.create(e)}else t=CryptoJS.lib.WordArray.random(32);return CryptoJS.lib.WordArray.random(16),i.$el.data("key",t.toString()),i.getKey()},i.authenticate=function(e,n){var r=i.getKey();t.jCryption.authenticate(r,i.options.getKeysURL,i.options.handshakeURL,e,n)}},t.jCryption.authenticate=function(e,n,i,r,a){t.jCryption.getPublicKey(n,function(){t.jCryption.encryptKey(e,function(n){t.jCryption.handshake(i,n,function(n){t.jCryption.challenge(n.challenge,e)?r.call(this,e):a.call(this)})})})},t.jCryption.getPublicKey=function(e,n){t.getJSON(e,function(e){t.jCryption.crypt.setKey(e.publickey),t.isFunction(n)&&n.call(this)})},t.jCryption.decrypt=function(e,n){return t.jCryption.hex2string(CryptoJS.AES.decrypt(e,n)+"")},t.jCryption.encrypt=function(t,e){return CryptoJS.AES.encrypt(t,e)+""},t.jCryption.challenge=function(e,n){var i=t.jCryption.decrypt(e,n);return i==n?!0:!1},t.jCryption.hex2string=function(t){for(var e="",n=0;n<t.length;n+=2)e+=String.fromCharCode(parseInt(t.substr(n,2),16));return e},t.jCryption.handshake=function(e,n,i){t.ajax({url:e,dataType:"json",type:"POST",data:{key:n},success:function(t){i.call(this,t)}})},t.jCryption.encryptKey=function(e,n){var i=t.jCryption.crypt.encrypt(e);return t.isFunction(n)?void n(i):i},t.jCryption.defaultOptions={submitElement:!1,submitEvent:"click",getKeysURL:"jcryption.php?getPublicKey=true",handshakeURL:"jcryption.php?handshake=true",beforeEncryption:function(){return!0},postVariable:"jCryption",formFieldSelector:":input"},t.fn.jCryption=function(e){return this.each(function(){new t.jCryption(this,e)})}}(jQuery);var JSEncryptExports={};!function(t){function e(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function n(){return new e(null)}function i(t,e,n,i,r,a){for(;--a>=0;){var o=e*this[t++]+n[i]+r;r=Math.floor(o/67108864),n[i++]=67108863&o}return r}function r(t,e,n,i,r,a){for(var o=32767&e,s=e>>15;--a>=0;){var l=32767&this[t],d=this[t++]>>15,u=s*l+d*o;l=o*l+((32767&u)<<15)+n[i]+(1073741823&r),r=(l>>>30)+(u>>>15)+s*d+(r>>>30),n[i++]=1073741823&l}return r}function a(t,e,n,i,r,a){for(var o=16383&e,s=e>>14;--a>=0;){var l=16383&this[t],d=this[t++]>>14,u=s*l+d*o;l=o*l+((16383&u)<<14)+n[i]+r,r=(l>>28)+(u>>14)+s*d,n[i++]=268435455&l}return r}function o(t){return Re.charAt(t)}function s(t,e){var n=Fe[t.charCodeAt(e)];return null==n?-1:n}function l(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function d(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function u(t){var e=n();return e.fromInt(t),e}function h(t,n){var i;if(16==n)i=4;else if(8==n)i=3;else if(256==n)i=8;else if(2==n)i=1;else if(32==n)i=5;else{if(4!=n)return void this.fromRadix(t,n);i=2}this.t=0,this.s=0;for(var r=t.length,a=!1,o=0;--r>=0;){var l=8==i?255&t[r]:s(t,r);0>l?"-"==t.charAt(r)&&(a=!0):(a=!1,0==o?this[this.t++]=l:o+i>this.DB?(this[this.t-1]|=(l&(1<<this.DB-o)-1)<<o,this[this.t++]=l>>this.DB-o):this[this.t-1]|=l<<o,o+=i,o>=this.DB&&(o-=this.DB))}8==i&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),a&&e.ZERO.subTo(this,this)}function c(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function f(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,i=(1<<e)-1,r=!1,a="",s=this.t,l=this.DB-s*this.DB%e;if(s-->0)for(l<this.DB&&(n=this[s]>>l)>0&&(r=!0,a=o(n));s>=0;)e>l?(n=(this[s]&(1<<l)-1)<<e-l,n|=this[--s]>>(l+=this.DB-e)):(n=this[s]>>(l-=e)&i,0>=l&&(l+=this.DB,--s)),n>0&&(r=!0),r&&(a+=o(n));return r?a:"0"}function p(){var t=n();return e.ZERO.subTo(this,t),t}function g(){return this.s<0?this.negate():this}function m(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function b(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function y(){return this.t<=0?0:this.DB*(this.t-1)+b(this[this.t-1]^this.s&this.DM)}function w(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function x(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function C(t,e){var n,i=t%this.DB,r=this.DB-i,a=(1<<r)-1,o=Math.floor(t/this.DB),s=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)e[n+o+1]=this[n]>>r|s,s=(this[n]&a)<<i;for(n=o-1;n>=0;--n)e[n]=0;e[o]=s,e.t=this.t+o+1,e.s=this.s,e.clamp()}function T(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)return void(e.t=0);var i=t%this.DB,r=this.DB-i,a=(1<<i)-1;e[0]=this[n]>>i;for(var o=n+1;o<this.t;++o)e[o-n-1]|=(this[o]&a)<<r,e[o-n]=this[o]>>i;i>0&&(e[this.t-n-1]|=(this.s&a)<<r),e.t=this.t-n,e.clamp()}function S(t,e){for(var n=0,i=0,r=Math.min(t.t,this.t);r>n;)i+=this[n]-t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i-=t[n],e[n++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=0>i?-1:0,-1>i?e[n++]=this.DV+i:i>0&&(e[n++]=i),e.t=n,e.clamp()}function D(t,n){var i=this.abs(),r=t.abs(),a=i.t;for(n.t=a+r.t;--a>=0;)n[a]=0;for(a=0;a<r.t;++a)n[a+i.t]=i.am(0,r[a],n,a,0,i.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)}function k(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var i=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,i,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function _(t,i,r){var a=t.abs();if(!(a.t<=0)){var o=this.abs();if(o.t<a.t)return null!=i&&i.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=n());var s=n(),l=this.s,d=t.s,u=this.DB-b(a[a.t-1]);u>0?(a.lShiftTo(u,s),o.lShiftTo(u,r)):(a.copyTo(s),o.copyTo(r));var h=s.t,c=s[h-1];if(0!=c){var f=c*(1<<this.F1)+(h>1?s[h-2]>>this.F2:0),p=this.FV/f,g=(1<<this.F1)/f,m=1<<this.F2,v=r.t,y=v-h,w=null==i?n():i;for(s.dlShiftTo(y,w),r.compareTo(w)>=0&&(r[r.t++]=1,r.subTo(w,r)),e.ONE.dlShiftTo(h,w),w.subTo(s,s);s.t<h;)s[s.t++]=0;for(;--y>=0;){var x=r[--v]==c?this.DM:Math.floor(r[v]*p+(r[v-1]+m)*g);if((r[v]+=s.am(0,x,r,y,0,h))<x)for(s.dlShiftTo(y,w),r.subTo(w,r);r[v]<--x;)r.subTo(w,r)}null!=i&&(r.drShiftTo(h,i),l!=d&&e.ZERO.subTo(i,i)),r.t=h,r.clamp(),u>0&&r.rShiftTo(u,r),0>l&&e.ZERO.subTo(r,r)}}}function E(t){var i=n();return this.abs().divRemTo(t,null,i),this.s<0&&i.compareTo(e.ZERO)>0&&t.subTo(i,i),i}function R(t){this.m=t}function F(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function A(t){return t}function M(t){t.divRemTo(this.m,null,t)}function I(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function O(t,e){t.squareTo(e),this.reduce(e)}function U(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function N(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function P(t){var i=n();return t.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),t.s<0&&i.compareTo(e.ZERO)>0&&this.m.subTo(i,i),i}function B(t){var e=n();return t.copyTo(e),this.reduce(e),e}function z(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],i=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,i,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function V(t,e){t.squareTo(e),this.reduce(e)}function L(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function j(){return 0==(this.t>0?1&this[0]:this.s)}function H(t,i){if(t>4294967295||1>t)return e.ONE;var r=n(),a=n(),o=i.convert(this),s=b(t)-1;for(o.copyTo(r);--s>=0;)if(i.sqrTo(r,a),(t&1<<s)>0)i.mulTo(a,o,r);else{var l=r;r=a,a=l}return i.revert(r)}function q(t,e){var n;return n=256>t||e.isEven()?new R(e):new N(e),this.exp(t,n)}function K(){var t=n();return this.copyTo(t),t}function $(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function J(){return 0==this.t?this.s:this[0]<<24>>24}function W(){return 0==this.t?this.s:this[0]<<16>>16}function Y(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function G(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Z(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var e=this.chunkSize(t),i=Math.pow(t,e),r=u(i),a=n(),o=n(),s="";for(this.divRemTo(r,a,o);a.signum()>0;)s=(i+o.intValue()).toString(t).substr(1)+s,a.divRemTo(r,a,o);return o.intValue().toString(t)+s}function Q(t,n){this.fromInt(0),null==n&&(n=10);for(var i=this.chunkSize(n),r=Math.pow(n,i),a=!1,o=0,l=0,d=0;d<t.length;++d){var u=s(t,d);0>u?"-"==t.charAt(d)&&0==this.signum()&&(a=!0):(l=n*l+u,++o>=i&&(this.dMultiply(r),this.dAddOffset(l,0),o=0,l=0))}o>0&&(this.dMultiply(Math.pow(n,o)),this.dAddOffset(l,0)),a&&e.ZERO.subTo(this,this)}function X(t,n,i){if("number"==typeof n)if(2>t)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),st,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var r=new Array,a=7&t;r.length=(t>>3)+1,n.nextBytes(r),a>0?r[0]&=(1<<a)-1:r[0]=0,this.fromString(r,256)}}function tt(){var t=this.t,e=new Array;e[0]=this.s;var n,i=this.DB-t*this.DB%8,r=0;if(t-->0)for(i<this.DB&&(n=this[t]>>i)!=(this.s&this.DM)>>i&&(e[r++]=n|this.s<<this.DB-i);t>=0;)8>i?(n=(this[t]&(1<<i)-1)<<8-i,n|=this[--t]>>(i+=this.DB-8)):(n=this[t]>>(i-=8)&255,0>=i&&(i+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==r&&(128&this.s)!=(128&n)&&++r,(r>0||n!=this.s)&&(e[r++]=n);return e}function et(t){return 0==this.compareTo(t)}function nt(t){return this.compareTo(t)<0?this:t}function it(t){return this.compareTo(t)>0?this:t}function rt(t,e,n){var i,r,a=Math.min(t.t,this.t);for(i=0;a>i;++i)n[i]=e(this[i],t[i]);if(t.t<this.t){for(r=t.s&this.DM,i=a;i<this.t;++i)n[i]=e(this[i],r);n.t=this.t}else{for(r=this.s&this.DM,i=a;i<t.t;++i)n[i]=e(r,t[i]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()}function at(t,e){return t&e}function ot(t){var e=n();return this.bitwiseTo(t,at,e),e}function st(t,e){return t|e}function lt(t){var e=n();return this.bitwiseTo(t,st,e),e}function dt(t,e){return t^e}function ut(t){var e=n();return this.bitwiseTo(t,dt,e),e}function ht(t,e){return t&~e}function ct(t){var e=n();return this.bitwiseTo(t,ht,e),e}function ft(){for(var t=n(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function pt(t){var e=n();return 0>t?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function gt(t){var e=n();return 0>t?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function mt(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function vt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+mt(this[t]);return this.s<0?this.t*this.DB:-1}function bt(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function yt(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=bt(this[n]^e);return t}function wt(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function xt(t,n){var i=e.ONE.shiftLeft(t);return this.bitwiseTo(i,n,i),i}function Ct(t){return this.changeBit(t,st)}function Tt(t){return this.changeBit(t,ht)}function St(t){return this.changeBit(t,dt)}function Dt(t,e){for(var n=0,i=0,r=Math.min(t.t,this.t);r>n;)i+=this[n]+t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i+=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i+=t[n],e[n++]=i&this.DM,i>>=this.DB;i+=t.s}e.s=0>i?-1:0,i>0?e[n++]=i:-1>i&&(e[n++]=this.DV+i),e.t=n,e.clamp()}function kt(t){var e=n();return this.addTo(t,e),e}function _t(t){var e=n();return this.subTo(t,e),e}function Et(t){var e=n();return this.multiplyTo(t,e),e}function Rt(){var t=n();return this.squareTo(t),t}function Ft(t){var e=n();return this.divRemTo(t,e,null),e}function At(t){var e=n();return this.divRemTo(t,null,e),e}function Mt(t){var e=n(),i=n();return this.divRemTo(t,e,i),new Array(e,i)}function It(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Ot(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Ut(){}function Nt(t){return t}function Pt(t,e,n){t.multiplyTo(e,n)}function Bt(t,e){t.squareTo(e)}function zt(t){return this.exp(t,new Ut)}function Vt(t,e,n){var i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;var r;for(r=n.t-this.t;r>i;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);r>i;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()}function Lt(t,e,n){--e;var i=n.t=this.t+t.t-e;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(e-this.t,0);i<t.t;++i)n[this.t+i-e]=this.am(e-i,t[i],n,0,0,this.t+i-e);n.clamp(),n.drShiftTo(1,n)}function jt(t){this.r2=n(),this.q3=n(),e.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Ht(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=n();return t.copyTo(e),this.reduce(e),e}function qt(t){return t}function Kt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function $t(t,e){t.squareTo(e),this.reduce(e)}function Jt(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function Wt(t,e){var i,r,a=t.bitLength(),o=u(1);if(0>=a)return o;i=18>a?1:48>a?3:144>a?4:768>a?5:6,r=8>a?new R(e):e.isEven()?new jt(e):new N(e);var s=new Array,l=3,d=i-1,h=(1<<i)-1;if(s[1]=r.convert(this),i>1){var c=n();for(r.sqrTo(s[1],c);h>=l;)s[l]=n(),r.mulTo(c,s[l-2],s[l]),l+=2}var f,p,g=t.t-1,m=!0,v=n();for(a=b(t[g])-1;g>=0;){for(a>=d?f=t[g]>>a-d&h:(f=(t[g]&(1<<a+1)-1)<<d-a,g>0&&(f|=t[g-1]>>this.DB+a-d)),l=i;0==(1&f);)f>>=1,--l;if((a-=l)<0&&(a+=this.DB,--g),m)s[f].copyTo(o),m=!1;else{for(;l>1;)r.sqrTo(o,v),r.sqrTo(v,o),l-=2;l>0?r.sqrTo(o,v):(p=o,o=v,v=p),r.mulTo(v,s[f],o)}for(;g>=0&&0==(t[g]&1<<a);)r.sqrTo(o,v),p=o,o=v,v=p,--a<0&&(a=this.DB-1,--g)}return r.revert(o)}function Yt(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var i=e;e=n,n=i}var r=e.getLowestSetBit(),a=n.getLowestSetBit();if(0>a)return e;for(a>r&&(a=r),a>0&&(e.rShiftTo(a,e),n.rShiftTo(a,n));e.signum()>0;)(r=e.getLowestSetBit())>0&&e.rShiftTo(r,e),(r=n.getLowestSetBit())>0&&n.rShiftTo(r,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return a>0&&n.lShiftTo(a,n),n}function Gt(t){if(0>=t)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var i=this.t-1;i>=0;--i)n=(e*n+this[i])%t;return n}function Zt(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var i=t.clone(),r=this.clone(),a=u(1),o=u(0),s=u(0),l=u(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),n?(a.isEven()&&o.isEven()||(a.addTo(this,a),o.subTo(t,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),n?(s.isEven()&&l.isEven()||(s.addTo(this,s),l.subTo(t,l)),s.rShiftTo(1,s)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);i.compareTo(r)>=0?(i.subTo(r,i),n&&a.subTo(s,a),o.subTo(l,o)):(r.subTo(i,r),n&&s.subTo(a,s),l.subTo(o,l))}return 0!=r.compareTo(e.ONE)?e.ZERO:l.compareTo(t)>=0?l.subtract(t):l.signum()<0?(l.addTo(t,l),l.signum()<0?l.add(t):l):l}function Qt(t){var e,n=this.abs();if(1==n.t&&n[0]<=Ae[Ae.length-1]){for(e=0;e<Ae.length;++e)if(n[0]==Ae[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<Ae.length;){for(var i=Ae[e],r=e+1;r<Ae.length&&Me>i;)i*=Ae[r++];for(i=n.modInt(i);r>e;)if(i%Ae[e++]==0)return!1}return n.millerRabin(t)}function Xt(t){var i=this.subtract(e.ONE),r=i.getLowestSetBit();if(0>=r)return!1;var a=i.shiftRight(r);t=t+1>>1,t>Ae.length&&(t=Ae.length);for(var o=n(),s=0;t>s;++s){o.fromInt(Ae[Math.floor(Math.random()*Ae.length)]);var l=o.modPow(a,this);if(0!=l.compareTo(e.ONE)&&0!=l.compareTo(i)){for(var d=1;d++<r&&0!=l.compareTo(i);)if(l=l.modPowInt(2,this),0==l.compareTo(e.ONE))return!1;if(0!=l.compareTo(i))return!1}}return!0}function te(){this.i=0,this.j=0,this.S=new Array}function ee(t){var e,n,i;for(e=0;256>e;++e)this.S[e]=e;for(n=0,e=0;256>e;++e)n=n+this.S[e]+t[e%t.length]&255,i=this.S[e],this.S[e]=this.S[n],this.S[n]=i;this.i=0,this.j=0}function ne(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}function ie(){return new te}function re(t){Oe[Ue++]^=255&t,Oe[Ue++]^=t>>8&255,Oe[Ue++]^=t>>16&255,Oe[Ue++]^=t>>24&255,Ue>=Ne&&(Ue-=Ne)}function ae(){re((new Date).getTime())}function oe(){if(null==Ie){for(ae(),Ie=ie(),Ie.init(Oe),Ue=0;Ue<Oe.length;++Ue)Oe[Ue]=0;Ue=0}return Ie.next()}function se(t){var e;for(e=0;e<t.length;++e)t[e]=oe()}function le(){}function de(t,n){return new e(t,n)}function ue(t,n){if(n<t.length+11)return console.error("Message too long for RSA"),null;for(var i=new Array,r=t.length-1;r>=0&&n>0;){var a=t.charCodeAt(r--);128>a?i[--n]=a:a>127&&2048>a?(i[--n]=63&a|128,i[--n]=a>>6|192):(i[--n]=63&a|128,i[--n]=a>>6&63|128,i[--n]=a>>12|224)}i[--n]=0;for(var o=new le,s=new Array;n>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);i[--n]=s[0]}return i[--n]=2,i[--n]=0,new e(i)}function he(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ce(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=de(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")}function fe(t){return t.modPowInt(this.e,this.n)}function pe(t){var e=ue(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i}function ge(t,e){for(var n=t.toByteArray(),i=0;i<n.length&&0==n[i];)++i;if(n.length-i!=e-1||2!=n[i])return null;for(++i;0!=n[i];)if(++i>=n.length)return null;for(var r="";++i<n.length;){var a=255&n[i];128>a?r+=String.fromCharCode(a):a>191&&224>a?(r+=String.fromCharCode((31&a)<<6|63&n[i+1]),++i):(r+=String.fromCharCode((15&a)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return r}function me(t,e,n){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=de(t,16),this.e=parseInt(e,16),this.d=de(n,16)):console.error("Invalid RSA private key")}function ve(t,e,n,i,r,a,o,s){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=de(t,16),this.e=parseInt(e,16),this.d=de(n,16),this.p=de(i,16),this.q=de(r,16),this.dmp1=de(a,16),this.dmq1=de(o,16),this.coeff=de(s,16)):console.error("Invalid RSA private key")}function be(t,n){var i=new le,r=t>>1;this.e=parseInt(n,16);for(var a=new e(n,16);;){for(;this.p=new e(t-r,1,i),0!=this.p.subtract(e.ONE).gcd(a).compareTo(e.ONE)||!this.p.isProbablePrime(10););for(;this.q=new e(r,1,i),0!=this.q.subtract(e.ONE).gcd(a).compareTo(e.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var s=this.p.subtract(e.ONE),l=this.q.subtract(e.ONE),d=s.multiply(l);if(0==d.gcd(a).compareTo(e.ONE)){this.n=this.p.multiply(this.q),this.d=a.modInverse(d),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(l),this.coeff=this.q.modInverse(this.p);break}}}function ye(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(n)<0;)e=e.add(this.p);return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)}function we(t){var e=de(t,16),n=this.doPrivate(e);return null==n?null:ge(n,this.n.bitLength()+7>>3)}function xe(t){var e,n,i="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),i+=ze.charAt(n>>6)+ze.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),i+=ze.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),i+=ze.charAt(n>>2)+ze.charAt((3&n)<<4));(3&i.length)>0;)i+=Ve;return i}function Ce(t){var e,n,i="",r=0;for(e=0;e<t.length&&t.charAt(e)!=Ve;++e)v=ze.indexOf(t.charAt(e)),v<0||(0==r?(i+=o(v>>2),n=3&v,r=1):1==r?(i+=o(n<<2|v>>4),n=15&v,r=2):2==r?(i+=o(n),i+=o(v>>2),n=3&v,r=3):(i+=o(n<<2|v>>4),i+=o(15&v),r=0));return 1==r&&(i+=o(n<<2)),i}var Te,Se=0xdeadbeefcafe,De=15715070==(16777215&Se);De&&"Microsoft Internet Explorer"==navigator.appName?(e.prototype.am=r,Te=30):De&&"Netscape"!=navigator.appName?(e.prototype.am=i,Te=26):(e.prototype.am=a,Te=28),e.prototype.DB=Te,e.prototype.DM=(1<<Te)-1,e.prototype.DV=1<<Te;var ke=52;e.prototype.FV=Math.pow(2,ke),e.prototype.F1=ke-Te,e.prototype.F2=2*Te-ke;var _e,Ee,Re="0123456789abcdefghijklmnopqrstuvwxyz",Fe=new Array;for(_e="0".charCodeAt(0),Ee=0;9>=Ee;++Ee)Fe[_e++]=Ee;for(_e="a".charCodeAt(0),Ee=10;36>Ee;++Ee)Fe[_e++]=Ee;for(_e="A".charCodeAt(0),Ee=10;36>Ee;++Ee)Fe[_e++]=Ee;R.prototype.convert=F,R.prototype.revert=A,R.prototype.reduce=M,R.prototype.mulTo=I,R.prototype.sqrTo=O,N.prototype.convert=P,N.prototype.revert=B,N.prototype.reduce=z,N.prototype.mulTo=L,N.prototype.sqrTo=V,e.prototype.copyTo=l,e.prototype.fromInt=d,e.prototype.fromString=h,e.prototype.clamp=c,e.prototype.dlShiftTo=w,e.prototype.drShiftTo=x,e.prototype.lShiftTo=C,e.prototype.rShiftTo=T,e.prototype.subTo=S,e.prototype.multiplyTo=D,e.prototype.squareTo=k,e.prototype.divRemTo=_,e.prototype.invDigit=U,e.prototype.isEven=j,e.prototype.exp=H,e.prototype.toString=f,e.prototype.negate=p,e.prototype.abs=g,e.prototype.compareTo=m,e.prototype.bitLength=y,e.prototype.mod=E,e.prototype.modPowInt=q,e.ZERO=u(0),e.ONE=u(1),Ut.prototype.convert=Nt,Ut.prototype.revert=Nt,Ut.prototype.mulTo=Pt,Ut.prototype.sqrTo=Bt,jt.prototype.convert=Ht,jt.prototype.revert=qt,jt.prototype.reduce=Kt,jt.prototype.mulTo=Jt,jt.prototype.sqrTo=$t;var Ae=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Me=(1<<26)/Ae[Ae.length-1];e.prototype.chunkSize=Y,e.prototype.toRadix=Z,e.prototype.fromRadix=Q,e.prototype.fromNumber=X,e.prototype.bitwiseTo=rt,e.prototype.changeBit=xt,e.prototype.addTo=Dt,e.prototype.dMultiply=It,e.prototype.dAddOffset=Ot,e.prototype.multiplyLowerTo=Vt,e.prototype.multiplyUpperTo=Lt,e.prototype.modInt=Gt,e.prototype.millerRabin=Xt,e.prototype.clone=K,e.prototype.intValue=$,e.prototype.byteValue=J,e.prototype.shortValue=W,e.prototype.signum=G,e.prototype.toByteArray=tt,e.prototype.equals=et,e.prototype.min=nt,e.prototype.max=it,e.prototype.and=ot,e.prototype.or=lt,e.prototype.xor=ut,e.prototype.andNot=ct,e.prototype.not=ft,e.prototype.shiftLeft=pt,e.prototype.shiftRight=gt,e.prototype.getLowestSetBit=vt,e.prototype.bitCount=yt,e.prototype.testBit=wt,e.prototype.setBit=Ct,e.prototype.clearBit=Tt,e.prototype.flipBit=St,e.prototype.add=kt,e.prototype.subtract=_t,e.prototype.multiply=Et,e.prototype.divide=Ft,e.prototype.remainder=At,e.prototype.divideAndRemainder=Mt,e.prototype.modPow=Wt,e.prototype.modInverse=Zt,e.prototype.pow=zt,e.prototype.gcd=Yt,e.prototype.isProbablePrime=Qt,e.prototype.square=Rt,te.prototype.init=ee,te.prototype.next=ne;var Ie,Oe,Ue,Ne=256;if(null==Oe){Oe=new Array,Ue=0;var Pe;if("Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto){var Be=window.crypto.random(32);for(Pe=0;Pe<Be.length;++Pe)Oe[Ue++]=255&Be.charCodeAt(Pe)}for(;Ne>Ue;)Pe=Math.floor(65536*Math.random()),Oe[Ue++]=Pe>>>8,Oe[Ue++]=255&Pe;Ue=0,ae()}le.prototype.nextBytes=se,he.prototype.doPublic=fe,he.prototype.setPublic=ce,he.prototype.encrypt=pe,he.prototype.doPrivate=ye,he.prototype.setPrivate=me,he.prototype.setPrivateEx=ve,he.prototype.generate=be,he.prototype.decrypt=we,function(){var t=function(t,i,r){var a=new le,o=t>>1;this.e=parseInt(i,16);var s=new e(i,16),l=this,d=function(){var i=function(){if(l.p.compareTo(l.q)<=0){var t=l.p;l.p=l.q,l.q=t}var n=l.p.subtract(e.ONE),i=l.q.subtract(e.ONE),a=n.multiply(i);0==a.gcd(s).compareTo(e.ONE)?(l.n=l.p.multiply(l.q),l.d=s.modInverse(a),l.dmp1=l.d.mod(n),l.dmq1=l.d.mod(i),l.coeff=l.q.modInverse(l.p),setTimeout(function(){r()},0)):setTimeout(d,0)},u=function(){l.q=n(),l.q.fromNumberAsync(o,1,a,function(){l.q.subtract(e.ONE).gcda(s,function(t){0==t.compareTo(e.ONE)&&l.q.isProbablePrime(10)?setTimeout(i,0):setTimeout(u,0)})})},h=function(){l.p=n(),l.p.fromNumberAsync(t-o,1,a,function(){l.p.subtract(e.ONE).gcda(s,function(t){0==t.compareTo(e.ONE)&&l.p.isProbablePrime(10)?setTimeout(u,0):setTimeout(h,0)})})};setTimeout(h,0)};setTimeout(d,0)};he.prototype.generateAsync=t;var i=function(t,e){var n=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(n.compareTo(i)<0){var r=n;n=i,i=r}var a=n.getLowestSetBit(),o=i.getLowestSetBit();if(0>o)return void e(n);o>a&&(o=a),o>0&&(n.rShiftTo(o,n),i.rShiftTo(o,i));var s=function(){(a=n.getLowestSetBit())>0&&n.rShiftTo(a,n),(a=i.getLowestSetBit())>0&&i.rShiftTo(a,i),n.compareTo(i)>=0?(n.subTo(i,n),n.rShiftTo(1,n)):(i.subTo(n,i),i.rShiftTo(1,i)),n.signum()>0?setTimeout(s,0):(o>0&&i.lShiftTo(o,i),setTimeout(function(){e(i)},0))};setTimeout(s,10)};e.prototype.gcda=i;var r=function(t,n,i,r){if("number"==typeof n)if(2>t)this.fromInt(1);else{this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),st,this),this.isEven()&&this.dAddOffset(1,0);var a=this,o=function(){a.dAddOffset(2,0),a.bitLength()>t&&a.subTo(e.ONE.shiftLeft(t-1),a),a.isProbablePrime(n)?setTimeout(function(){r()},0):setTimeout(o,0)};setTimeout(o,0)}else{var s=new Array,l=7&t;s.length=(t>>3)+1,n.nextBytes(s),l>0?s[0]&=(1<<l)-1:s[0]=0,this.fromString(s,256)}};e.prototype.fromNumberAsync=r}();var ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve="=",Le=Le||{};Le.env=Le.env||{};var je=Le,He=Object.prototype,qe="[object Function]",Ke=["toString","valueOf"];Le.env.parseUA=function(t){var e,n=function(t){var e=0;return parseFloat(t.replace(/\./g,function(){return 1==e++?"":"."}))},i=navigator,r={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:i&&i.cajaVersion,secure:!1,os:null},a=t||navigator&&navigator.userAgent,o=window&&window.location,s=o&&o.href;return r.secure=s&&0===s.toLowerCase().indexOf("https"),a&&(/windows|win32/i.test(a)?r.os="windows":/macintosh/i.test(a)?r.os="macintosh":/rhino/i.test(a)&&(r.os="rhino"),/KHTML/.test(a)&&(r.webkit=1),e=a.match(/AppleWebKit\/([^\s]*)/),e&&e[1]&&(r.webkit=n(e[1]),/ Mobile\//.test(a)?(r.mobile="Apple",e=a.match(/OS ([^\s]*)/),e&&e[1]&&(e=n(e[1].replace("_","."))),r.ios=e,r.ipad=r.ipod=r.iphone=0,e=a.match(/iPad|iPod|iPhone/),e&&e[0]&&(r[e[0].toLowerCase()]=r.ios)):(e=a.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),e&&(r.mobile=e[0]),/webOS/.test(a)&&(r.mobile="WebOS",e=a.match(/webOS\/([^\s]*);/),e&&e[1]&&(r.webos=n(e[1]))),/ Android/.test(a)&&(r.mobile="Android",e=a.match(/Android ([^\s]*);/),e&&e[1]&&(r.android=n(e[1])))),e=a.match(/Chrome\/([^\s]*)/),e&&e[1]?r.chrome=n(e[1]):(e=a.match(/AdobeAIR\/([^\s]*)/),e&&(r.air=e[0]))),r.webkit||(e=a.match(/Opera[\s\/]([^\s]*)/),e&&e[1]?(r.opera=n(e[1]),e=a.match(/Version\/([^\s]*)/),e&&e[1]&&(r.opera=n(e[1])),e=a.match(/Opera Mini[^;]*/),e&&(r.mobile=e[0])):(e=a.match(/MSIE\s([^;]*)/),e&&e[1]?r.ie=n(e[1]):(e=a.match(/Gecko\/([^\s]*)/),e&&(r.gecko=1,e=a.match(/rv:([^\s\)]*)/),e&&e[1]&&(r.gecko=n(e[1]))))))),r},Le.env.ua=Le.env.parseUA(),Le.isFunction=function(t){return"function"==typeof t||He.toString.apply(t)===qe},Le._IEEnumFix=Le.env.ua.ie?function(t,e){var n,i,r;for(n=0;n<Ke.length;n+=1)i=Ke[n],r=e[i],je.isFunction(r)&&r!=He[i]&&(t[i]=r)}:function(){},Le.extend=function(t,e,n){if(!e||!t)throw new Error("extend failed, please check that all dependencies are included.");var i,r=function(){};if(r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==He.constructor&&(e.prototype.constructor=e),n){for(i in n)je.hasOwnProperty(n,i)&&(t.prototype[i]=n[i]);je._IEEnumFix(t.prototype,n)}},"undefined"!=typeof KJUR&&KJUR||(KJUR={}),"undefined"!=typeof KJUR.asn1&&KJUR.asn1||(KJUR.asn1={}),KJUR.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var n=t.toString(16);if("-"!=n.substr(0,1))n.length%2==1?n="0"+n:n.match(/^[0-7]/)||(n="00"+n);else{var i=n.substr(1),r=i.length;r%2==1?r+=1:n.match(/^[0-7]/)||(r+=2);for(var a="",o=0;r>o;o++)a+="f";var s=new e(a,16),l=s.xor(t).add(e.ONE);n=l.toString(16).replace(/^-/,"")}return n},this.getPEMStringFromHex=function(t,e){var n=CryptoJS.enc.Hex.parse(t),i=CryptoJS.enc.Base64.stringify(n),r=i.replace(/(.{64})/g,"$1\r\n");return r=r.replace(/\r\n$/,""),"-----BEGIN "+e+"-----\r\n"+r+"\r\n-----END "+e+"-----\r\n"}},KJUR.asn1.ASN1Object=function(){var t="";this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+t.length+",v="+this.hV;var e=this.hV.length/2,n=e.toString(16);if(n.length%2==1&&(n="0"+n),128>e)return n;var i=n.length/2;if(i>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);var r=128+i;return r.toString(16)+n},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},KJUR.asn1.DERAbstractString=function(t){KJUR.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.str?this.setString(t.str):"undefined"!=typeof t.hex&&this.setStringHex(t.hex))},Le.extend(KJUR.asn1.DERAbstractString,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractTime=function(){KJUR.asn1.DERAbstractTime.superclass.constructor.call(this),
this.localDateToUTC=function(t){utc=t.getTime()+6e4*t.getTimezoneOffset();var e=new Date(utc);return e},this.formatDate=function(t,e){var n=this.zeroPadding,i=this.localDateToUTC(t),r=String(i.getFullYear());"utc"==e&&(r=r.substr(2,2));var a=n(String(i.getMonth()+1),2),o=n(String(i.getDate()),2),s=n(String(i.getHours()),2),l=n(String(i.getMinutes()),2),d=n(String(i.getSeconds()),2);return r+a+o+s+l+d+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setByDateValue=function(t,e,n,i,r,a){var o=new Date(Date.UTC(t,e-1,n,i,r,a,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},Le.extend(KJUR.asn1.DERAbstractTime,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractStructured=function(t){KJUR.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,"undefined"!=typeof t&&"undefined"!=typeof t.array&&(this.asn1Array=t.array)},Le.extend(KJUR.asn1.DERAbstractStructured,KJUR.asn1.ASN1Object),KJUR.asn1.DERBoolean=function(){KJUR.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Le.extend(KJUR.asn1.DERBoolean,KJUR.asn1.ASN1Object),KJUR.asn1.DERInteger=function(t){KJUR.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var n=new e(String(t),10);this.setByBigInteger(n)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.bigint?this.setByBigInteger(t.bigint):"undefined"!=typeof t["int"]?this.setByInteger(t["int"]):"undefined"!=typeof t.hex&&this.setValueHex(t.hex))},Le.extend(KJUR.asn1.DERInteger,KJUR.asn1.ASN1Object),KJUR.asn1.DERBitString=function(t){KJUR.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(0>t||t>7)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){t=t.replace(/0+$/,"");var e=8-t.length%8;8==e&&(e=0);for(var n=0;e>=n;n++)t+="0";for(var i="",n=0;n<t.length-1;n+=8){var r=t.substr(n,8),a=parseInt(r,2).toString(16);1==a.length&&(a="0"+a),i+=a}this.hTLV=null,this.isModified=!0,this.hV="0"+e+i},this.setByBooleanArray=function(t){for(var e="",n=0;n<t.length;n++)e+=1==t[n]?"1":"0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;t>n;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.hex?this.setHexValueIncludingUnusedBits(t.hex):"undefined"!=typeof t.bin?this.setByBinaryString(t.bin):"undefined"!=typeof t.array&&this.setByBooleanArray(t.array))},Le.extend(KJUR.asn1.DERBitString,KJUR.asn1.ASN1Object),KJUR.asn1.DEROctetString=function(t){KJUR.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},Le.extend(KJUR.asn1.DEROctetString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNull=function(){KJUR.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Le.extend(KJUR.asn1.DERNull,KJUR.asn1.ASN1Object),KJUR.asn1.DERObjectIdentifier=function(t){var n=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},i=function(t){var i="",r=new e(t,10),a=r.toString(2),o=7-a.length%7;7==o&&(o=0);for(var s="",l=0;o>l;l++)s+="0";a=s+a;for(var l=0;l<a.length-1;l+=7){var d=a.substr(l,7);l!=a.length-7&&(d="1"+d),i+=n(parseInt(d,2))}return i};KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var e="",r=t.split("."),a=40*parseInt(r[0])+parseInt(r[1]);e+=n(a),r.splice(0,2);for(var o=0;o<r.length;o++)e+=i(r[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueName=function(t){if("undefined"==typeof KJUR.asn1.x509.OID.name2oidList[t])throw"DERObjectIdentifier oidName undefined: "+t;var e=KJUR.asn1.x509.OID.name2oidList[t];this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.oid?this.setValueOidString(t.oid):"undefined"!=typeof t.hex?this.setValueHex(t.hex):"undefined"!=typeof t.name&&this.setValueName(t.name))},Le.extend(KJUR.asn1.DERObjectIdentifier,KJUR.asn1.ASN1Object),KJUR.asn1.DERUTF8String=function(t){KJUR.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},Le.extend(KJUR.asn1.DERUTF8String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNumericString=function(t){KJUR.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},Le.extend(KJUR.asn1.DERNumericString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERPrintableString=function(t){KJUR.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},Le.extend(KJUR.asn1.DERPrintableString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERTeletexString=function(t){KJUR.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},Le.extend(KJUR.asn1.DERTeletexString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERIA5String=function(t){KJUR.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},Le.extend(KJUR.asn1.DERIA5String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERUTCTime=function(t){KJUR.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},"undefined"!=typeof t&&("undefined"!=typeof t.str?this.setString(t.str):"undefined"!=typeof t.hex?this.setStringHex(t.hex):"undefined"!=typeof t.date&&this.setByDate(t.date))},Le.extend(KJUR.asn1.DERUTCTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERGeneralizedTime=function(t){KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen"),this.hV=stohex(this.s)},"undefined"!=typeof t&&("undefined"!=typeof t.str?this.setString(t.str):"undefined"!=typeof t.hex?this.setStringHex(t.hex):"undefined"!=typeof t.date&&this.setByDate(t.date))},Le.extend(KJUR.asn1.DERGeneralizedTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERSequence=function(t){KJUR.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t+=n.getEncodedHex()}return this.hV=t,this.hV}},Le.extend(KJUR.asn1.DERSequence,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERSet=function(t){KJUR.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t.push(n.getEncodedHex())}return t.sort(),this.hV=t.join(""),this.hV}},Le.extend(KJUR.asn1.DERSet,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERTaggedObject=function(t){KJUR.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,n){this.hT=e,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.tag&&(this.hT=t.tag),"undefined"!=typeof t.explicit&&(this.isExplicit=t.explicit),"undefined"!=typeof t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Le.extend(KJUR.asn1.DERTaggedObject,KJUR.asn1.ASN1Object),function(t){"use strict";var e,n={};n.decode=function(n){var i;if(e===t){var r="0123456789ABCDEF",a=" \f\n\r	 \u2028\u2029";for(e=[],i=0;16>i;++i)e[r.charAt(i)]=i;for(r=r.toLowerCase(),i=10;16>i;++i)e[r.charAt(i)]=i;for(i=0;i<a.length;++i)e[a.charAt(i)]=-1}var o=[],s=0,l=0;for(i=0;i<n.length;++i){var d=n.charAt(i);if("="==d)break;if(d=e[d],-1!=d){if(d===t)throw"Illegal character at offset "+i;s|=d,++l>=2?(o[o.length]=s,s=0,l=0):s<<=4}}if(l)throw"Hex encoding incomplete: 4 bits missing";return o},window.Hex=n}(),function(t){"use strict";var e,n={};n.decode=function(n){var i;if(e===t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="= \f\n\r	 \u2028\u2029";for(e=[],i=0;64>i;++i)e[r.charAt(i)]=i;for(i=0;i<a.length;++i)e[a.charAt(i)]=-1}var o=[],s=0,l=0;for(i=0;i<n.length;++i){var d=n.charAt(i);if("="==d)break;if(d=e[d],-1!=d){if(d===t)throw"Illegal character at offset "+i;s|=d,++l>=4?(o[o.length]=s>>16,o[o.length]=s>>8&255,o[o.length]=255&s,s=0,l=0):s<<=6}}switch(l){case 1:throw"Base64 encoding incomplete: at least 2 bits missing";case 2:o[o.length]=s>>10;break;case 3:o[o.length]=s>>16,o[o.length]=s>>8&255}return o},n.re=/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,n.unarmor=function(t){var e=n.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw"RegExp out of sync";t=e[2]}return n.decode(t)},window.Base64=n}(),function(t){"use strict";function e(t,n){t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=n)}function n(t,e,n,i,r){this.stream=t,this.header=e,this.length=n,this.tag=i,this.sub=r}var i=100,r="…",a={tag:function(t,e){var n=document.createElement(t);return n.className=e,n},text:function(t){return document.createTextNode(t)}};e.prototype.get=function(e){if(e===t&&(e=this.pos++),e>=this.enc.length)throw"Requesting byte offset "+e+" on a stream of length "+this.enc.length;return this.enc[e]},e.prototype.hexDigits="0123456789ABCDEF",e.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},e.prototype.hexDump=function(t,e,n){for(var i="",r=t;e>r;++r)if(i+=this.hexByte(this.get(r)),n!==!0)switch(15&r){case 7:i+="  ";break;case 15:i+="\n";break;default:i+=" "}return i},e.prototype.parseStringISO=function(t,e){for(var n="",i=t;e>i;++i)n+=String.fromCharCode(this.get(i));return n},e.prototype.parseStringUTF=function(t,e){for(var n="",i=t;e>i;){var r=this.get(i++);n+=String.fromCharCode(128>r?r:r>191&&224>r?(31&r)<<6|63&this.get(i++):(15&r)<<12|(63&this.get(i++))<<6|63&this.get(i++))}return n},e.prototype.parseStringBMP=function(t,e){for(var n="",i=t;e>i;i+=2){var r=this.get(i),a=this.get(i+1);n+=String.fromCharCode((r<<8)+a)}return n},e.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,e.prototype.parseTime=function(t,e){var n=this.parseStringISO(t,e),i=this.reTime.exec(n);return i?(n=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(n+=":"+i[5],i[6]&&(n+=":"+i[6],i[7]&&(n+="."+i[7]))),i[8]&&(n+=" UTC","Z"!=i[8]&&(n+=i[8],i[9]&&(n+=":"+i[9]))),n):"Unrecognized time: "+n},e.prototype.parseInteger=function(t,e){var n=e-t;if(n>4){n<<=3;var i=this.get(t);if(0===i)n-=8;else for(;128>i;)i<<=1,--n;return"("+n+" bit)"}for(var r=0,a=t;e>a;++a)r=r<<8|this.get(a);return r},e.prototype.parseBitString=function(t,e){var n=this.get(t),i=(e-t-1<<3)-n,r="("+i+" bit)";if(20>=i){var a=n;r+=" ";for(var o=e-1;o>t;--o){for(var s=this.get(o),l=a;8>l;++l)r+=s>>l&1?"1":"0";a=0}}return r},e.prototype.parseOctetString=function(t,e){var n=e-t,a="("+n+" byte) ";n>i&&(e=t+i);for(var o=t;e>o;++o)a+=this.hexByte(this.get(o));return n>i&&(a+=r),a},e.prototype.parseOID=function(t,e){for(var n="",i=0,r=0,a=t;e>a;++a){var o=this.get(a);if(i=i<<7|127&o,r+=7,!(128&o)){if(""===n){var s=80>i?40>i?0:1:2;n=s+"."+(i-40*s)}else n+="."+(r>=31?"bigint":i);i=r=0}}return n},n.prototype.typeName=function(){if(this.tag===t)return"unknown";var e=this.tag>>6,n=(this.tag>>5&1,31&this.tag);switch(e){case 0:switch(n){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+n.toString(16)}case 1:return"Application_"+n.toString(16);case 2:return"["+n+"]";case 3:return"Private_"+n.toString(16)}},n.prototype.reSeemsASCII=/^[ -~]+$/,n.prototype.content=function(){if(this.tag===t)return null;var e=this.tag>>6,n=31&this.tag,a=this.posContent(),o=Math.abs(this.length);if(0!==e){if(null!==this.sub)return"("+this.sub.length+" elem)";var s=this.stream.parseStringISO(a,a+Math.min(o,i));return this.reSeemsASCII.test(s)?s.substring(0,2*i)+(s.length>2*i?r:""):this.stream.parseOctetString(a,a+o)}switch(n){case 1:return 0===this.stream.get(a)?"false":"true";case 2:return this.stream.parseInteger(a,a+o);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(a,a+o);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(a,a+o);case 6:return this.stream.parseOID(a,a+o);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(a,a+o);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(a,a+o);case 30:return this.stream.parseStringBMP(a,a+o);case 23:case 24:return this.stream.parseTime(a,a+o)}return null},n.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},n.prototype.print=function(e){if(e===t&&(e=""),document.writeln(e+this),null!==this.sub){e+="  ";for(var n=0,i=this.sub.length;i>n;++n)this.sub[n].print(e)}},n.prototype.toPrettyString=function(e){e===t&&(e="");var n=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(n+="+"),n+=this.length,32&this.tag?n+=" (constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(n+=" (encapsulates)"),n+="\n",null!==this.sub){e+="  ";for(var i=0,r=this.sub.length;r>i;++i)n+=this.sub[i].toPrettyString(e)}return n},n.prototype.toDOM=function(){var t=a.tag("div","node");t.asn1=this;var e=a.tag("div","head"),n=this.typeName().replace(/_/g," ");e.innerHTML=n;var i=this.content();if(null!==i){i=String(i).replace(/</g,"&lt;");var r=a.tag("span","preview");r.appendChild(a.text(i)),e.appendChild(r)}t.appendChild(e),this.node=t,this.head=e;var o=a.tag("div","value");if(n="Offset: "+this.stream.pos+"<br/>",n+="Length: "+this.header+"+",n+=this.length>=0?this.length:-this.length+" (undefined)",32&this.tag?n+="<br/>(constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(n+="<br/>(encapsulates)"),null!==i&&(n+="<br/>Value:<br/><b>"+i+"</b>","object"==typeof oids&&6==this.tag)){var s=oids[i];s&&(s.d&&(n+="<br/>"+s.d),s.c&&(n+="<br/>"+s.c),s.w&&(n+="<br/>(warning!)"))}o.innerHTML=n,t.appendChild(o);var l=a.tag("div","sub");if(null!==this.sub)for(var d=0,u=this.sub.length;u>d;++d)l.appendChild(this.sub[d].toDOM());return t.appendChild(l),e.onclick=function(){t.className="node collapsed"==t.className?"node":"node collapsed"},t},n.prototype.posStart=function(){return this.stream.pos},n.prototype.posContent=function(){return this.stream.pos+this.header},n.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},n.prototype.fakeHover=function(t){this.node.className+=" hover",t&&(this.head.className+=" hover")},n.prototype.fakeOut=function(t){var e=/ ?hover/;this.node.className=this.node.className.replace(e,""),t&&(this.head.className=this.head.className.replace(e,""))},n.prototype.toHexDOM_sub=function(t,e,n,i,r){if(!(i>=r)){var o=a.tag("span",e);o.appendChild(a.text(n.hexDump(i,r))),t.appendChild(o)}},n.prototype.toHexDOM=function(e){var n=a.tag("span","hex");if(e===t&&(e=n),this.head.hexNode=n,this.head.onmouseover=function(){this.hexNode.className="hexCurrent"},this.head.onmouseout=function(){this.hexNode.className="hex"},n.asn1=this,n.onmouseover=function(){var t=!e.selected;t&&(e.selected=this.asn1,this.className="hexCurrent"),this.asn1.fakeHover(t)},n.onmouseout=function(){var t=e.selected==this.asn1;this.asn1.fakeOut(t),t&&(e.selected=null,this.className="hex")},this.toHexDOM_sub(n,"tag",this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(n,this.length>=0?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent()),null===this.sub)n.appendChild(a.text(this.stream.hexDump(this.posContent(),this.posEnd())));else if(this.sub.length>0){var i=this.sub[0],r=this.sub[this.sub.length-1];this.toHexDOM_sub(n,"intro",this.stream,this.posContent(),i.posStart());for(var o=0,s=this.sub.length;s>o;++o)n.appendChild(this.sub[o].toHexDOM(e));this.toHexDOM_sub(n,"outro",this.stream,r.posEnd(),this.posEnd())}return n},n.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},n.decodeLength=function(t){var e=t.get(),n=127&e;if(n==e)return n;if(n>3)throw"Length over 24 bits not supported at position "+(t.pos-1);if(0===n)return-1;e=0;for(var i=0;n>i;++i)e=e<<8|t.get();return e},n.hasContent=function(t,i,r){if(32&t)return!0;if(3>t||t>4)return!1;var a=new e(r);3==t&&a.get();var o=a.get();if(o>>6&1)return!1;try{var s=n.decodeLength(a);return a.pos-r.pos+s==i}catch(l){return!1}},n.decode=function(t){t instanceof e||(t=new e(t,0));var i=new e(t),r=t.get(),a=n.decodeLength(t),o=t.pos-i.pos,s=null;if(n.hasContent(r,a,t)){var l=t.pos;if(3==r&&t.get(),s=[],a>=0){for(var d=l+a;t.pos<d;)s[s.length]=n.decode(t);if(t.pos!=d)throw"Content size is not correct for container starting at offset "+l}else try{for(;;){var u=n.decode(t);if(0===u.tag)break;s[s.length]=u}a=l-t.pos}catch(h){throw"Exception while decoding undefined length content: "+h}}else t.pos+=a;return new n(i,o,a,r,s)},n.test=function(){for(var t=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}],i=0,r=t.length;r>i;++i){var a=new e(t[i].value,0),o=n.decodeLength(a);o!=t[i].expected&&document.write("In test["+i+"] expected "+t[i].expected+" got "+o+"\n")}},window.ASN1=n}(),ASN1.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,n=2*this.length;return t.substr(e,n)},he.prototype.parseKey=function(t){try{var e=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,n=e.test(t)?Hex.decode(t):Base64.unarmor(t),i=ASN1.decode(n);if(9===i.sub.length){var r=i.sub[1].getHexStringValue();this.n=de(r,16);var a=i.sub[2].getHexStringValue();this.e=parseInt(a,16);var o=i.sub[3].getHexStringValue();this.d=de(o,16);var s=i.sub[4].getHexStringValue();this.p=de(s,16);var l=i.sub[5].getHexStringValue();this.q=de(l,16);var d=i.sub[6].getHexStringValue();this.dmp1=de(d,16);var u=i.sub[7].getHexStringValue();this.dmq1=de(u,16);var h=i.sub[8].getHexStringValue();this.coeff=de(h,16)}else{if(2!==i.sub.length)return!1;var c=i.sub[1],f=c.sub[0],r=f.sub[0].getHexStringValue();this.n=de(r,16);var a=f.sub[1].getHexStringValue();this.e=parseInt(a,16)}return!0}catch(p){return!1}},he.prototype.getPrivateBaseKey=function(){var t={array:[new KJUR.asn1.DERInteger({"int":0}),new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e}),new KJUR.asn1.DERInteger({bigint:this.d}),new KJUR.asn1.DERInteger({bigint:this.p}),new KJUR.asn1.DERInteger({bigint:this.q}),new KJUR.asn1.DERInteger({bigint:this.dmp1}),new KJUR.asn1.DERInteger({bigint:this.dmq1}),new KJUR.asn1.DERInteger({bigint:this.coeff})]},e=new KJUR.asn1.DERSequence(t);return e.getEncodedHex()},he.prototype.getPrivateBaseKeyB64=function(){return xe(this.getPrivateBaseKey())},he.prototype.getPublicBaseKey=function(){var t={array:[new KJUR.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new KJUR.asn1.DERNull]},e=new KJUR.asn1.DERSequence(t);t={array:[new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e})]};var n=new KJUR.asn1.DERSequence(t);t={hex:"00"+n.getEncodedHex()};var i=new KJUR.asn1.DERBitString(t);t={array:[e,i]};var r=new KJUR.asn1.DERSequence(t);return r.getEncodedHex()},he.prototype.getPublicBaseKeyB64=function(){return xe(this.getPublicBaseKey())},he.prototype.wordwrap=function(t,e){if(e=e||64,!t)return t;var n="(.{1,"+e+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(n,"g")).join("\n")},he.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=this.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----"},he.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=this.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----"},he.prototype.hasPublicKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")},he.prototype.hasPrivateKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},he.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)};var $e=function(t){he.call(this),t&&("string"==typeof t?this.parseKey(t):(this.hasPrivateKeyProperty(t)||this.hasPublicKeyProperty(t))&&this.parsePropertiesFrom(t))};$e.prototype=new he,$e.prototype.constructor=$e;var Je=function(t){t=t||{},this.default_key_size=parseInt(t.default_key_size)||1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null};Je.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new $e(t)},Je.prototype.setPrivateKey=function(t){this.setKey(t)},Je.prototype.setPublicKey=function(t){this.setKey(t)},Je.prototype.decrypt=function(t){try{return this.getKey().decrypt(Ce(t))}catch(e){return!1}},Je.prototype.encrypt=function(t){try{return xe(this.getKey().encrypt(t))}catch(e){return!1}},Je.prototype.getKey=function(t){if(!this.key){if(this.key=new $e,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},Je.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},Je.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},Je.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},Je.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.JSEncrypt=Je}(JSEncryptExports);var JSEncrypt=JSEncryptExports.JSEncrypt;$.jCryption.crypt=new JSEncrypt;var CryptoJS=CryptoJS||function(t,e){var n={},i=n.lib={},r=function(){},a=i.Base={extend:function(t){r.prototype=this;var e=new r;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=i.WordArray=a.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var r=0;t>r;r++)e[i+r>>>2]|=(n[r>>>2]>>>24-8*(r%4)&255)<<24-8*((i+r)%4);else if(65535<n.length)for(r=0;t>r;r+=4)e[i+r>>>2]=n[r>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-8*(n%4),e.length=t.ceil(n/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],i=0;e>i;i+=4)n.push(4294967296*t.random()|0);return new o.init(n,e)}}),s=n.enc={},l=s.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;t>i;i++){var r=e[i>>>2]>>>24-8*(i%4)&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;e>i;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-4*(i%8);return new o.init(n,e/2)}},d=s.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;t>i;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-8*(i%4)&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;e>i;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-8*(i%4);return new o.init(n,e)}},u=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(d.stringify(t)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},h=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,r=n.sigBytes,a=this.blockSize,s=r/(4*a),s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0);if(e=s*a,r=t.min(4*e,r),e){for(var l=0;e>l;l+=a)this._doProcessBlock(i,l);l=i.splice(0,e),n.sigBytes-=r}return new o.init(l,r)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=h.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new c.HMAC.init(t,n).finalize(e)}}});var c=n.algo={};return n}(Math);!function(){var t=CryptoJS,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp(),t=[];for(var r=0;n>r;r+=3)for(var a=(e[r>>>2]>>>24-8*(r%4)&255)<<16|(e[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|e[r+2>>>2]>>>24-8*((r+2)%4)&255,o=0;4>o&&n>r+.75*o;o++)t.push(i.charAt(a>>>6*(3-o)&63));if(e=i.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var n=t.length,i=this._map,r=i.charAt(64);r&&(r=t.indexOf(r),-1!=r&&(n=r));for(var r=[],a=0,o=0;n>o;o++)if(o%4){var s=i.indexOf(t.charAt(o-1))<<2*(o%4),l=i.indexOf(t.charAt(o))>>>6-2*(o%4);r[a>>>2]|=(s|l)<<24-8*(a%4),a++}return e.create(r,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,n,i,r,a,o){return t=t+(e&n|~e&i)+r+o,(t<<a|t>>>32-a)+e}function n(t,e,n,i,r,a,o){return t=t+(e&i|n&~i)+r+o,(t<<a|t>>>32-a)+e}function i(t,e,n,i,r,a,o){return t=t+(e^n^i)+r+o,(t<<a|t>>>32-a)+e}function r(t,e,n,i,r,a,o){return t=t+(n^(e|~i))+r+o,(t<<a|t>>>32-a)+e}for(var a=CryptoJS,o=a.lib,s=o.WordArray,l=o.Hasher,o=a.algo,d=[],u=0;64>u;u++)d[u]=4294967296*t.abs(t.sin(u+1))|0;o=o.MD5=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,a){for(var o=0;16>o;o++){var s=a+o,l=t[s];t[s]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var o=this._hash.words,s=t[a+0],l=t[a+1],u=t[a+2],h=t[a+3],c=t[a+4],f=t[a+5],p=t[a+6],g=t[a+7],m=t[a+8],v=t[a+9],b=t[a+10],y=t[a+11],w=t[a+12],x=t[a+13],C=t[a+14],T=t[a+15],S=o[0],D=o[1],k=o[2],_=o[3],S=e(S,D,k,_,s,7,d[0]),_=e(_,S,D,k,l,12,d[1]),k=e(k,_,S,D,u,17,d[2]),D=e(D,k,_,S,h,22,d[3]),S=e(S,D,k,_,c,7,d[4]),_=e(_,S,D,k,f,12,d[5]),k=e(k,_,S,D,p,17,d[6]),D=e(D,k,_,S,g,22,d[7]),S=e(S,D,k,_,m,7,d[8]),_=e(_,S,D,k,v,12,d[9]),k=e(k,_,S,D,b,17,d[10]),D=e(D,k,_,S,y,22,d[11]),S=e(S,D,k,_,w,7,d[12]),_=e(_,S,D,k,x,12,d[13]),k=e(k,_,S,D,C,17,d[14]),D=e(D,k,_,S,T,22,d[15]),S=n(S,D,k,_,l,5,d[16]),_=n(_,S,D,k,p,9,d[17]),k=n(k,_,S,D,y,14,d[18]),D=n(D,k,_,S,s,20,d[19]),S=n(S,D,k,_,f,5,d[20]),_=n(_,S,D,k,b,9,d[21]),k=n(k,_,S,D,T,14,d[22]),D=n(D,k,_,S,c,20,d[23]),S=n(S,D,k,_,v,5,d[24]),_=n(_,S,D,k,C,9,d[25]),k=n(k,_,S,D,h,14,d[26]),D=n(D,k,_,S,m,20,d[27]),S=n(S,D,k,_,x,5,d[28]),_=n(_,S,D,k,u,9,d[29]),k=n(k,_,S,D,g,14,d[30]),D=n(D,k,_,S,w,20,d[31]),S=i(S,D,k,_,f,4,d[32]),_=i(_,S,D,k,m,11,d[33]),k=i(k,_,S,D,y,16,d[34]),D=i(D,k,_,S,C,23,d[35]),S=i(S,D,k,_,l,4,d[36]),_=i(_,S,D,k,c,11,d[37]),k=i(k,_,S,D,g,16,d[38]),D=i(D,k,_,S,b,23,d[39]),S=i(S,D,k,_,x,4,d[40]),_=i(_,S,D,k,s,11,d[41]),k=i(k,_,S,D,h,16,d[42]),D=i(D,k,_,S,p,23,d[43]),S=i(S,D,k,_,v,4,d[44]),_=i(_,S,D,k,w,11,d[45]),k=i(k,_,S,D,T,16,d[46]),D=i(D,k,_,S,u,23,d[47]),S=r(S,D,k,_,s,6,d[48]),_=r(_,S,D,k,g,10,d[49]),k=r(k,_,S,D,C,15,d[50]),D=r(D,k,_,S,f,21,d[51]),S=r(S,D,k,_,w,6,d[52]),_=r(_,S,D,k,h,10,d[53]),k=r(k,_,S,D,b,15,d[54]),D=r(D,k,_,S,l,21,d[55]),S=r(S,D,k,_,m,6,d[56]),_=r(_,S,D,k,T,10,d[57]),k=r(k,_,S,D,p,15,d[58]),D=r(D,k,_,S,x,21,d[59]),S=r(S,D,k,_,c,6,d[60]),_=r(_,S,D,k,y,10,d[61]),k=r(k,_,S,D,u,15,d[62]),D=r(D,k,_,S,v,21,d[63]);o[0]=o[0]+S|0,o[1]=o[1]+D|0,o[2]=o[2]+k|0,o[3]=o[3]+_|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;n[r>>>5]|=128<<24-r%32;var a=t.floor(i/4294967296);for(n[(r+64>>>9<<4)+15]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[(r+64>>>9<<4)+14]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(n.length+1),this._process(),e=this._hash,n=e.words,i=0;4>i;i++)r=n[i],n[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var t=l.clone.call(this);return t._hash=this._hash.clone(),t}}),a.MD5=l._createHelper(o),a.HmacMD5=l._createHmacHelper(o)}(Math),function(){var t=CryptoJS,e=t.lib,n=e.Base,i=e.WordArray,e=t.algo,r=e.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=n.hasher.create(),a=i.create(),o=a.words,s=n.keySize,n=n.iterations;o.length<s;){l&&r.update(l);var l=r.update(t).finalize(e);r.reset();for(var d=1;n>d;d++)l=r.finalize(l),r.reset();a.concat(l)}return a.sigBytes=4*s,a}});t.EvpKDF=function(t,e,n){return r.create(n).compute(t,e)}}(),CryptoJS.lib.Cipher||function(t){var e=CryptoJS,n=e.lib,i=n.Base,r=n.WordArray,a=n.BufferedBlockAlgorithm,o=e.enc.Base64,s=e.algo.EvpKDF,l=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,n,i){return("string"==typeof n?p:f).encrypt(t,e,n,i)},decrypt:function(e,n,i){return("string"==typeof n?p:f).decrypt(t,e,n,i)}}}});n.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var d=e.mode={},u=function(e,n,i){var r=this._iv;r?this._iv=t:r=this._prevBlock;for(var a=0;i>a;a++)e[n+a]^=r[a]},h=(n.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e;
}})).extend();h.Encryptor=h.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;u.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),h.Decryptor=h.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,r=t.slice(e,e+i);n.decryptBlock(t,e),u.call(this,t,e,i),this._prevBlock=r}}),d=d.CBC=h,h=(e.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,n=n-t.sigBytes%n,i=n<<24|n<<16|n<<8|n,a=[],o=0;n>o;o+=4)a.push(i);n=r.create(a,n),t.concat(n)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},n.BlockCipher=l.extend({cfg:l.cfg.extend({mode:d,padding:h}),reset:function(){l.reset.call(this);var t=this.cfg,e=t.iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var c=n.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),d=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return t=t.salt,(t?r.create([1398893684,1701076831]).concat(t).concat(e):e).toString(o)},parse:function(t){t=o.parse(t);var e=t.words;if(1398893684==e[0]&&1701076831==e[1]){var n=r.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return c.create({ciphertext:t,salt:n})}},f=n.SerializableCipher=i.extend({cfg:i.extend({format:d}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var r=t.createEncryptor(n,i);return e=r.finalize(e),r=r.cfg,c.create({ciphertext:e,key:n,iv:r.iv,algorithm:t,mode:r.mode,padding:r.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),e=(e.kdf={}).OpenSSL={execute:function(t,e,n,i){return i||(i=r.random(8)),t=s.create({keySize:e+n}).compute(t,i),n=r.create(t.words.slice(e),4*n),t.sigBytes=4*e,c.create({key:t,iv:n,salt:i})}},p=n.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:e}),encrypt:function(t,e,n,i){return i=this.cfg.extend(i),n=i.kdf.execute(n,t.keySize,t.ivSize),i.iv=n.iv,t=f.encrypt.call(this,t,e,n.key,i),t.mixIn(n),t},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),n=i.kdf.execute(n,t.keySize,t.ivSize,e.salt),i.iv=n.iv,f.decrypt.call(this,t,e,n.key,i)}})}(),function(){for(var t=CryptoJS,e=t.lib.BlockCipher,n=t.algo,i=[],r=[],a=[],o=[],s=[],l=[],d=[],u=[],h=[],c=[],f=[],p=0;256>p;p++)f[p]=128>p?p<<1:p<<1^283;for(var g=0,m=0,p=0;256>p;p++){var v=m^m<<1^m<<2^m<<3^m<<4,v=v>>>8^255&v^99;i[g]=v,r[v]=g;var b=f[g],y=f[b],w=f[y],x=257*f[v]^16843008*v;a[g]=x<<24|x>>>8,o[g]=x<<16|x>>>16,s[g]=x<<8|x>>>24,l[g]=x,x=16843009*w^65537*y^257*b^16843008*g,d[v]=x<<24|x>>>8,u[v]=x<<16|x>>>16,h[v]=x<<8|x>>>24,c[v]=x,g?(g=b^f[f[f[w^b]]],m^=f[f[m]]):g=m=1}var C=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=e.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes/4,t=4*((this._nRounds=n+6)+1),r=this._keySchedule=[],a=0;t>a;a++)if(n>a)r[a]=e[a];else{var o=r[a-1];a%n?n>6&&4==a%n&&(o=i[o>>>24]<<24|i[o>>>16&255]<<16|i[o>>>8&255]<<8|i[255&o]):(o=o<<8|o>>>24,o=i[o>>>24]<<24|i[o>>>16&255]<<16|i[o>>>8&255]<<8|i[255&o],o^=C[a/n|0]<<24),r[a]=r[a-n]^o}for(e=this._invKeySchedule=[],n=0;t>n;n++)a=t-n,o=n%4?r[a]:r[a-4],e[n]=4>n||4>=a?o:d[i[o>>>24]]^u[i[o>>>16&255]]^h[i[o>>>8&255]]^c[i[255&o]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,o,s,l,i)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,d,u,h,c,r),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,r,a,o,s){for(var l=this._nRounds,d=t[e]^n[0],u=t[e+1]^n[1],h=t[e+2]^n[2],c=t[e+3]^n[3],f=4,p=1;l>p;p++)var g=i[d>>>24]^r[u>>>16&255]^a[h>>>8&255]^o[255&c]^n[f++],m=i[u>>>24]^r[h>>>16&255]^a[c>>>8&255]^o[255&d]^n[f++],v=i[h>>>24]^r[c>>>16&255]^a[d>>>8&255]^o[255&u]^n[f++],c=i[c>>>24]^r[d>>>16&255]^a[u>>>8&255]^o[255&h]^n[f++],d=g,u=m,h=v;g=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[h>>>8&255]<<8|s[255&c])^n[f++],m=(s[u>>>24]<<24|s[h>>>16&255]<<16|s[c>>>8&255]<<8|s[255&d])^n[f++],v=(s[h>>>24]<<24|s[c>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[f++],c=(s[c>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&h])^n[f++],t[e]=g,t[e+1]=m,t[e+2]=v,t[e+3]=c},keySize:8});t.AES=e._createHelper(n)}(),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(t,e){return t.parsleyAdaptedCallback||(t.parsleyAdaptedCallback=function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(this),t.apply(e||T,n)}),t.parsleyAdaptedCallback}function n(t){return 0===t.lastIndexOf(D,0)?t.substr(D.length):t}"undefined"==typeof t&&"undefined"!=typeof window.jQuery&&(t=window.jQuery);var i=1,r={},a={attr:function(t,e,n){var i,r,a=new RegExp("^"+e,"i");if("undefined"==typeof n)n={};else for(var o in n)n.hasOwnProperty(o)&&delete n[o];if("undefined"==typeof t||"undefined"==typeof t[0])return n;r=t[0].attributes;for(var o=r.length;o--;)i=r[o],i&&i.specified&&a.test(i.name)&&(n[this.camelize(i.name.slice(e.length))]=this.deserializeValue(i.value));return n},checkAttr:function(t,e,n){return t.is("["+e+n+"]")},setAttr:function(t,e,n,i){t[0].setAttribute(this.dasherize(e+n),String(i))},generateID:function(){return""+i++},deserializeValue:function(e){var n;try{return e?"true"==e||("false"==e?!1:"null"==e?null:isNaN(n=Number(e))?/^[\[\{]/.test(e)?t.parseJSON(e):e:n):e}catch(i){return e}},camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},warn:function(){window.console&&"function"==typeof window.console.warn&&window.console.warn.apply(window.console,arguments)},warnOnce:function(t){r[t]||(r[t]=!0,this.warn.apply(this,arguments))},_resetWarnings:function(){r={}},trimString:function(t){return t.replace(/^\s+|\s+$/g,"")},objectCreate:Object.create||function(){var t=function(){};return function(e){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=typeof e)throw TypeError("Argument must be an object");t.prototype=e;var n=new t;return t.prototype=null,n}}()},o={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},s=function(){};s.prototype={asyncSupport:!0,actualizeOptions:function(){return a.attr(this.$element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function(t){this.domOptions=a.objectCreate(this.parent.options),this.options=a.objectCreate(this.domOptions);for(var e in t)t.hasOwnProperty(e)&&(this.options[e]=t[e]);this.actualizeOptions()},_listeners:null,on:function(t,e){this._listeners=this._listeners||{};var n=this._listeners[t]=this._listeners[t]||[];return n.push(e),this},subscribe:function(e,n){t.listenTo(this,e.toLowerCase(),n)},off:function(t,e){var n=this._listeners&&this._listeners[t];if(n)if(e)for(var i=n.length;i--;)n[i]===e&&n.splice(i,1);else delete this._listeners[t];return this},unsubscribe:function(e){t.unsubscribeTo(this,e.toLowerCase())},trigger:function(t,e){e=e||this;var n,i=this._listeners&&this._listeners[t];if(i)for(var r=i.length;r--;)if(n=i[r].call(e,e),n===!1)return n;return this.parent?this.parent.trigger(t,e):!0},reset:function(){if("ParsleyForm"!==this.__class__)return this._trigger("reset");for(var t=0;t<this.fields.length;t++)this.fields[t]._trigger("reset");this._trigger("reset")},destroy:function(){if("ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void this._trigger("destroy");for(var t=0;t<this.fields.length;t++)this.fields[t].destroy();this.$element.removeData("Parsley"),this._trigger("destroy")},asyncIsValid:function(){return a.warnOnce("asyncIsValid is deprecated; please use whenIsValid instead"),this.whenValid.apply(this,arguments)},_findRelatedMultiple:function(){return this.parent.$element.find("["+this.options.namespace+'multiple="'+this.options.multiple+'"]')}};var l={string:function(t){return t},integer:function(t){if(isNaN(t))throw'Requirement is not an integer: "'+t+'"';return parseInt(t,10)},number:function(t){if(isNaN(t))throw'Requirement is not a number: "'+t+'"';return parseFloat(t)},reference:function(e){var n=t(e);if(0===n.length)throw'No such reference: "'+e+'"';return n},"boolean":function(t){return"false"!==t},object:function(t){return a.deserializeValue(t)},regexp:function(t){var e="";return/^\/.*\/(?:[gimy]*)$/.test(t)&&(e=t.replace(/.*\/([gimy]*)$/,"$1"),t=t.replace(new RegExp("^/(.*?)/"+e+"$"),"$1")),new RegExp(t,e)}},d=function(t,e){var n=t.match(/^\s*\[(.*)\]\s*$/);if(!n)throw'Requirement is not an array: "'+t+'"';var i=n[1].split(",").map(a.trimString);if(i.length!==e)throw"Requirement has "+i.length+" values when "+e+" are needed";return i},u=function(t,e){var n=l[t||"string"];if(!n)throw'Unknown requirement specification: "'+t+'"';return n(e)},h=function(t,e,n){var i=null,r={};for(var a in t)if(a){var o=n(a);"string"==typeof o&&(o=u(t[a],o)),r[a]=o}else i=u(t[a],e);return[i,r]},c=function(e){t.extend(!0,this,e)};c.prototype={validate:function(e,n){if(this.fn)return arguments.length>3&&(n=[].slice.call(arguments,1,-1)),this.fn.call(this,e,n);if(t.isArray(e)){if(!this.validateMultiple)throw"Validator `"+this.name+"` does not handle multiple values";return this.validateMultiple.apply(this,arguments)}if(this.validateNumber)return isNaN(e)?!1:(e=parseFloat(e),this.validateNumber.apply(this,arguments));if(this.validateString)return this.validateString.apply(this,arguments);throw"Validator `"+this.name+"` only handles multiple values"},parseRequirements:function(e,n){if("string"!=typeof e)return t.isArray(e)?e:[e];var i=this.requirementType;if(t.isArray(i)){for(var r=d(e,i.length),a=0;a<r.length;a++)r[a]=u(i[a],r[a]);return r}return t.isPlainObject(i)?h(i,e,n):[u(i,e)]},requirementType:"string",priority:2};var f=function(t,e){this.__class__="ParsleyValidatorRegistry",this.locale="en",this.init(t||{},e||{})},p={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$","i")};p.range=p.number,f.prototype={init:function(e,n){this.catalog=n,this.validators=t.extend({},this.validators);for(var i in e)this.addValidator(i,e[i].fn,e[i].priority);window.Parsley.trigger("parsley:validator:init")},setLocale:function(t){if("undefined"==typeof this.catalog[t])throw new Error(t+" is not available in the catalog");return this.locale=t,this},addCatalog:function(t,e,n){return"object"==typeof e&&(this.catalog[t]=e),!0===n?this.setLocale(t):this},addMessage:function(t,e,n){return"undefined"==typeof this.catalog[t]&&(this.catalog[t]={}),this.catalog[t][e.toLowerCase()]=n,this},addValidator:function(t){if(this.validators[t])a.warn('Validator "'+t+'" is already defined.');else if(o.hasOwnProperty(t))return void a.warn('"'+t+'" is a restricted keyword and is not a valid validator name.');return this._setValidator.apply(this,arguments)},updateValidator:function(t){return this.validators[t]?this._setValidator(this,arguments):(a.warn('Validator "'+t+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function(t){return this.validators[t]||a.warn('Validator "'+t+'" is not defined.'),delete this.validators[t],this},_setValidator:function(t,e,n){"object"!=typeof e&&(e={fn:e,priority:n}),e.validate||(e=new c(e)),this.validators[t]=e;for(var i in e.messages||{})this.addMessage(i,t,e.messages[i]);return this},getErrorMessage:function(t){var e;if("type"===t.name){var n=this.catalog[this.locale][t.name]||{};e=n[t.requirements]}else e=this.formatMessage(this.catalog[this.locale][t.name],t.requirements);return e||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function(t,e){if("object"==typeof e){for(var n in e)t=this.formatMessage(t,e[n]);return t}return"string"==typeof t?t.replace(new RegExp("%s","i"),e):""},validators:{notblank:{validateString:function(t){return/\S/.test(t)},priority:2},required:{validateMultiple:function(t){return t.length>0},validateString:function(t){return/\S/.test(t)},priority:512},type:{validateString:function(t,e){var n=p[e];if(!n)throw new Error("validator type `"+e+"` is not supported");return n.test(t)},priority:256},pattern:{validateString:function(t,e){return e.test(t)},requirementType:"regexp",priority:64},minlength:{validateString:function(t,e){return t.length>=e},requirementType:"integer",priority:30},maxlength:{validateString:function(t,e){return t.length<=e},requirementType:"integer",priority:30},length:{validateString:function(t,e,n){return t.length>=e&&t.length<=n},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function(t,e){return t.length>=e},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function(t,e){return t.length<=e},requirementType:"integer",priority:30},check:{validateMultiple:function(t,e,n){return t.length>=e&&t.length<=n},requirementType:["integer","integer"],priority:30},min:{validateNumber:function(t,e){return t>=e},requirementType:"number",priority:30},max:{validateNumber:function(t,e){return e>=t},requirementType:"number",priority:30},range:{validateNumber:function(t,e,n){return t>=e&&n>=t},requirementType:["number","number"],priority:30},equalto:{validateString:function(e,n){var i=t(n);return i.length?e===i.val():e===n},priority:256}}};var g=function(){this.__class__="ParsleyUI"};g.prototype={listen:function(){var t=this;return window.Parsley.on("form:init",function(){t.setupForm(this)}).on("field:init",function(){t.setupField(this)}).on("field:validated",function(){t.reflow(this)}).on("form:validated",function(){t.focus(this)}).on("field:reset",function(){t.reset(this)}).on("form:destroy",function(){t.destroy(this)}).on("field:destroy",function(){t.destroy(this)}),this},reflow:function(t){if("undefined"!=typeof t._ui&&!1!==t._ui.active){var e=this._diff(t.validationResult,t._ui.lastValidationResult);t._ui.lastValidationResult=t.validationResult,t._ui.validatedOnce=!0,this.manageStatusClass(t),this.manageErrorsMessages(t,e),this.actualizeTriggers(t),(e.kept.length||e.added.length)&&!0!==t._ui.failedOnce&&this.manageFailingFieldTrigger(t)}},getErrorsMessages:function(t){if(!0===t.validationResult)return[];for(var e=[],n=0;n<t.validationResult.length;n++)e.push(this._getErrorMessage(t,t.validationResult[n].assert));return e},manageStatusClass:function(t){t.hasConstraints()&&t.needsValidation()&&!0===t.validationResult?this._successClass(t):t.validationResult.length>0?this._errorClass(t):this._resetClass(t)},manageErrorsMessages:function(e,n){if("undefined"==typeof e.options.errorsMessagesDisabled){if("undefined"!=typeof e.options.errorMessage)return n.added.length||n.kept.length?(this._insertErrorWrapper(e),0===e._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&e._ui.$errorsWrapper.append(t(e.options.errorTemplate).addClass("parsley-custom-error-message")),e._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(e.options.errorMessage)):e._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var i=0;i<n.removed.length;i++)this.removeError(e,n.removed[i].assert.name,!0);for(i=0;i<n.added.length;i++)this.addError(e,n.added[i].assert.name,void 0,n.added[i].assert,!0);for(i=0;i<n.kept.length;i++)this.updateError(e,n.kept[i].assert.name,void 0,n.kept[i].assert,!0)}},addError:function(e,n,i,r,a){this._insertErrorWrapper(e),e._ui.$errorsWrapper.addClass("filled").append(t(e.options.errorTemplate).addClass("parsley-"+n).html(i||this._getErrorMessage(e,r))),!0!==a&&this._errorClass(e)},updateError:function(t,e,n,i,r){t._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(n||this._getErrorMessage(t,i)),!0!==r&&this._errorClass(t)},removeError:function(t,e,n){t._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove(),!0!==n&&this.manageStatusClass(t)},focus:function(t){if(t._focusedField=null,!0===t.validationResult||"none"===t.options.focus)return null;for(var e=0;e<t.fields.length;e++){var n=t.fields[e];if(!0!==n.validationResult&&n.validationResult.length>0&&"undefined"==typeof n.options.noFocus&&(t._focusedField=n.$element,"first"===t.options.focus))break}return null===t._focusedField?null:t._focusedField.focus()},_getErrorMessage:function(t,e){var n=e.name+"Message";return"undefined"!=typeof t.options[n]?window.Parsley.formatMessage(t.options[n],e.requirements):window.Parsley.getErrorMessage(e)},_diff:function(t,e,n){for(var i=[],r=[],a=0;a<t.length;a++){for(var o=!1,s=0;s<e.length;s++)if(t[a].assert.name===e[s].assert.name){o=!0;break}o?r.push(t[a]):i.push(t[a])}return{kept:r,added:i,removed:n?[]:this._diff(e,t,!0).added}},setupForm:function(e){e.$element.on("submit.Parsley",!1,t.proxy(e.onSubmitValidate,e)),!1!==e.options.uiEnabled&&e.$element.attr("novalidate","")},setupField:function(e){var n={active:!1};!1!==e.options.uiEnabled&&(n.active=!0,e.$element.attr(e.options.namespace+"id",e.__id__),n.$errorClassHandler=this._manageClassHandler(e),n.errorsWrapperId="parsley-id-"+(e.options.multiple?"multiple-"+e.options.multiple:e.__id__),n.$errorsWrapper=t(e.options.errorsWrapper).attr("id",n.errorsWrapperId),n.lastValidationResult=[],n.validatedOnce=!1,n.validationInformationVisible=!1,e._ui=n,this.actualizeTriggers(e))},_manageClassHandler:function(e){if("string"==typeof e.options.classHandler&&t(e.options.classHandler).length)return t(e.options.classHandler);var n=e.options.classHandler(e);return"undefined"!=typeof n&&n.length?n:!e.options.multiple||e.$element.is("select")?e.$element:e.$element.parent()},_insertErrorWrapper:function(e){var n;if(0!==e._ui.$errorsWrapper.parent().length)return e._ui.$errorsWrapper.parent();if("string"==typeof e.options.errorsContainer){if(t(e.options.errorsContainer).length)return t(e.options.errorsContainer).append(e._ui.$errorsWrapper);a.warn("The errors container `"+e.options.errorsContainer+"` does not exist in DOM")}else"function"==typeof e.options.errorsContainer&&(n=e.options.errorsContainer(e));if("undefined"!=typeof n&&n.length)return n.append(e._ui.$errorsWrapper);var i=e.$element;return e.options.multiple&&(i=i.parent()),i.after(e._ui.$errorsWrapper)},actualizeTriggers:function(e){var n=e.$element;if(e.options.multiple&&(n=t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]')),n.off(".Parsley"),!1!==e.options.trigger){var i=e.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");""!==i&&n.on(i.split(" ").join(".Parsley ")+".Parsley",t.proxy("function"==typeof e.eventValidate?e.eventValidate:this.eventValidate,e))}},eventValidate:function(t){new RegExp("key").test(t.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.validate())},manageFailingFieldTrigger:function(e){return e._ui.failedOnce=!0,e.options.multiple&&t("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){return new RegExp("change","i").test(t(this).parsley().options.trigger||"")?void 0:t(this).on("change.ParsleyFailedOnce",!1,t.proxy(e.validate,e))}),e.$element.is("select")&&!new RegExp("change","i").test(e.options.trigger||"")?e.$element.on("change.ParsleyFailedOnce",!1,t.proxy(e.validate,e)):new RegExp("keyup","i").test(e.options.trigger||"")?void 0:e.$element.on("keyup.ParsleyFailedOnce",!1,t.proxy(e.validate,e))},reset:function(t){this.actualizeTriggers(t),t.$element.off(".ParsleyFailedOnce"),"undefined"!=typeof t._ui&&"ParsleyForm"!==t.__class__&&(t._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(t),t._ui.validatedOnce=!1,t._ui.lastValidationResult=[],t._ui.validationInformationVisible=!1,t._ui.failedOnce=!1)},destroy:function(t){this.reset(t),"ParsleyForm"!==t.__class__&&("undefined"!=typeof t._ui&&t._ui.$errorsWrapper.remove(),delete t._ui)},_successClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.errorClass).addClass(t.options.successClass)},_errorClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.successClass).addClass(t.options.errorClass)},_resetClass:function(t){t._ui.$errorClassHandler.removeClass(t.options.successClass).removeClass(t.options.errorClass)}};var m=function(e,n,i){this.__class__="ParsleyForm",this.__id__=a.generateID(),this.$element=t(e),this.domOptions=n,this.options=i,this.parent=window.Parsley,this.fields=[],this.validationResult=null},v={pending:null,resolved:!0,rejected:!1};m.prototype={onSubmitValidate:function(t){var e=this;return!0!==t.parsley?(t.stopImmediatePropagation(),t.preventDefault(),this.whenValidate(void 0,void 0,t).done(function(){e._submit()}).always(function(){e._submitSource=null}),this):void 0},_submit:function(){!1!==this._trigger("submit")&&(this.$element.find(".parsley_synthetic_submit_button").remove(),this._submitSource&&t('<input class=".parsley_synthetic_submit_button" type="hidden">').attr("name",this._submitSource.name).attr("value",this._submitSource.value).appendTo(this.$element),this.$element.trigger(t.extend(t.Event("submit"),{parsley:!0})))},validate:function(t,e,n){return v[this.whenValidate(t,e,n).state()]},whenValidate:function(e,n,i){var r=this;this.submitEvent=i,this.validationResult=!0,this._trigger("validate"),this._refreshFields();var a=this._withoutReactualizingFormOptions(function(){return t.map(this.fields,function(t){return!e||r._isFieldInGroup(t,e)?t.whenValidate(n):void 0})});return t.when.apply(t,a).done(function(){r._trigger("success")}).fail(function(){r.validationResult=!1,r._trigger("error")}).always(function(){r._trigger("validated")})},isValid:function(t,e){return v[this.whenValid(t,e).state()]},whenValid:function(e,n){var i=this;this._refreshFields();var r=this._withoutReactualizingFormOptions(function(){return t.map(this.fields,function(t){return!e||i._isFieldInGroup(t,e)?t.whenValid(n):void 0})});return t.when.apply(t,r)},_isFieldInGroup:function(e,n){return t.isArray(e.options.group)?-1!==t.inArray(n,e.options.group):e.options.group===n},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var e=this,n=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions(function(){this.$element.find(this.options.inputs).not(this.options.excluded).each(function(){var t=new k.Factory(this,{},e);"ParsleyField"!==t.__class__&&"ParsleyFieldMultiple"!==t.__class__||!0===t.options.excluded||"undefined"==typeof e.fieldsMappedById[t.__class__+"-"+t.__id__]&&(e.fieldsMappedById[t.__class__+"-"+t.__id__]=t,e.fields.push(t))}),t(n).not(e.fields).each(function(){this._trigger("reset")})}),this},_withoutReactualizingFormOptions:function(t){var e=this.actualizeOptions;this.actualizeOptions=function(){return this};var n=t.call(this);return this.actualizeOptions=e,n},_trigger:function(t){return t="form:"+t,this.trigger.apply(this,arguments)}};var b=function(e,n,i,r,a){if(!new RegExp("ParsleyField").test(e.__class__))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");var o=window.Parsley._validatorRegistry.validators[n],s=new c(o);t.extend(this,{validator:s,name:n,requirements:i,priority:r||e.options[n+"Priority"]||s.priority,isDomConstraint:!0===a}),this._parseRequirements(e.options)},y=function(t){var e=t[0].toUpperCase();return e+t.slice(1)};b.prototype={validate:function(t,e){var n=this.requirementList.slice(0);return n.unshift(t),n.push(e),this.validator.validate.apply(this.validator,n)},_parseRequirements:function(t){var e=this;this.requirementList=this.validator.parseRequirements(this.requirements,function(n){return t[e.name+y(n)]})}};var w=function(e,n,i,r){this.__class__="ParsleyField",this.__id__=a.generateID(),this.$element=t(e),"undefined"!=typeof r&&(this.parent=r),this.options=i,this.domOptions=n,this.constraints=[],this.constraintsByName={},this.validationResult=[],this._bindConstraints()},v={pending:null,resolved:!0,rejected:!1};w.prototype={validate:function(t){var e=this.whenValidate(t);switch(e.state()){case"pending":return null;case"resolved":return!0;case"rejected":return this.validationResult}},whenValidate:function(t){var e=this;return this.value=this.getValue(),this._trigger("validate"),this.whenValid(t,this.value).done(function(){e._trigger("success")}).fail(function(){e._trigger("error")}).always(function(){e._trigger("validated")})},hasConstraints:function(){return 0!==this.constraints.length},needsValidation:function(t){return"undefined"==typeof t&&(t=this.getValue()),t.length||this._isRequired()||"undefined"!=typeof this.options.validateIfEmpty?!0:!1},isValid:function(t,e){return v[this.whenValid(t,e).state()]},whenValid:function(e,n){if(this.refreshConstraints(),this.validationResult=!0,!this.hasConstraints())return t.when();if(("undefined"==typeof n||null===n)&&(n=this.getValue()),!this.needsValidation(n)&&!0!==e)return t.when();var i=this._getGroupedConstraints(),r=[],a=this;return t.each(i,function(e,i){var o=t.when.apply(t,t.map(i,t.proxy(a,"_validateConstraint",n)));return r.push(o),"rejected"===o.state()?!1:void 0}),t.when.apply(t,r)},_validateConstraint:function(e,n){var i=this,r=n.validate(e,this);return!1===r&&(r=t.Deferred().reject()),t.when(r).fail(function(){!0===i.validationResult&&(i.validationResult=[]),i.validationResult.push({assert:n})})},getValue:function(){var t;return t="function"==typeof this.options.value?this.options.value(this):"undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof t||null===t?"":this._handleWhitespace(t)},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(t,e,n,i){if(window.Parsley._validatorRegistry.validators[t]){var r=new b(this,t,e,n,i);"undefined"!==this.constraintsByName[r.name]&&this.removeConstraint(r.name),this.constraints.push(r),this.constraintsByName[r.name]=r}return this},removeConstraint:function(t){for(var e=0;e<this.constraints.length;e++)if(t===this.constraints[e].name){this.constraints.splice(e,1);break}return delete this.constraintsByName[t],this},updateConstraint:function(t,e,n){return this.removeConstraint(t).addConstraint(t,e,n)},_bindConstraints:function(){for(var t=[],e={},n=0;n<this.constraints.length;n++)!1===this.constraints[n].isDomConstraint&&(t.push(this.constraints[n]),e[this.constraints[n].name]=this.constraints[n]);this.constraints=t,this.constraintsByName=e;for(var i in this.options)this.addConstraint(i,this.options[i],void 0,!0);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0),"undefined"!=typeof this.$element.attr("minlength")&&"undefined"!=typeof this.$element.attr("maxlength")?this.addConstraint("length",[this.$element.attr("minlength"),this.$element.attr("maxlength")],void 0,!0):"undefined"!=typeof this.$element.attr("minlength")?this.addConstraint("minlength",this.$element.attr("minlength"),void 0,!0):"undefined"!=typeof this.$element.attr("maxlength")&&this.addConstraint("maxlength",this.$element.attr("maxlength"),void 0,!0);var t=this.$element.attr("type");return"undefined"==typeof t?this:"number"===t?"undefined"==typeof this.$element.attr("step")||0===parseFloat(this.$element.attr("step"))%1?this.addConstraint("type","integer",void 0,!0):this.addConstraint("type","number",void 0,!0):/^(email|url|range)$/i.test(t)?this.addConstraint("type",t,void 0,!0):this},_isRequired:function(){return"undefined"==typeof this.constraintsByName.required?!1:!1!==this.constraintsByName.required.requirements},_trigger:function(t){return t="field:"+t,this.trigger.apply(this,arguments)},_handleWhitespace:function(t){return!0===this.options.trimValue&&a.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(t=t.replace(/\s{2,}/g," ")),("trim"===this.options.whitespace||"squish"===this.options.whitespace||!0===this.options.trimValue)&&(t=a.trimString(t)),t},_getGroupedConstraints:function(){if(!1===this.options.priorityEnabled)return[this.constraints];for(var t=[],e={},n=0;n<this.constraints.length;n++){var i=this.constraints[n].priority;e[i]||t.push(e[i]=[]),e[i].push(this.constraints[n])}return t.sort(function(t,e){return e[0].priority-t[0].priority}),t}};var x=function(){this.__class__="ParsleyFieldMultiple"};x.prototype={addElement:function(t){return this.$elements.push(t),this},refreshConstraints:function(){var e;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var n=0;n<this.$elements.length;n++)if(t("html").has(this.$elements[n]).length){e=this.$elements[n].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var i=0;i<e.length;i++)this.addConstraint(e[i].name,e[i].requirements,e[i].priority,e[i].isDomConstraint)}else this.$elements.splice(n,1);return this},getValue:function(){if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return this._findRelatedMultiple().filter(":checked").val()||"";if(this.$element.is("input[type=checkbox]")){var e=[];return this._findRelatedMultiple().filter(":checked").each(function(){e.push(t(this).val())}),e}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val();
},_init:function(){return this.$elements=[this.$element],this}};var C=function(e,n,i){this.$element=t(e);var r=this.$element.data("Parsley");if(r)return"undefined"!=typeof i&&r.parent===window.Parsley&&(r.parent=i,r._resetOptions(r.options)),r;if(!this.$element.length)throw new Error("You must bind Parsley on an existing element.");if("undefined"!=typeof i&&"ParsleyForm"!==i.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.parent=i||window.Parsley,this.init(n)};C.prototype={init:function(t){return this.__class__="Parsley",this.__version__="2.2.0-rc1",this.__id__=a.generateID(),this._resetOptions(t),this.$element.is("form")||a.checkAttr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(){var e,n,i=this;if(this.options.multiple||("undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?this.options.multiple=e=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(this.options.multiple=this.$element.attr("id"))),this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple"))return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple");if(!this.options.multiple)return a.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),"undefined"!=typeof e&&t('input[name="'+e+'"]').each(function(){t(this).is("input[type=radio], input[type=checkbox]")&&t(this).attr(i.options.namespace+"multiple",i.options.multiple)});for(var r=this._findRelatedMultiple(),o=0;o<r.length;o++)if(n=t(r.get(o)).data("Parsley"),"undefined"!=typeof n){this.$element.data("ParsleyFieldMultiple")||n.addElement(this.$element);break}return this.bind("parsleyField",!0),n||this.bind("parsleyFieldMultiple")},bind:function(e,n){var i;switch(e){case"parsleyForm":i=t.extend(new m(this.$element,this.domOptions,this.options),window.ParsleyExtend)._bindFields();break;case"parsleyField":i=t.extend(new w(this.$element,this.domOptions,this.options,this.parent),window.ParsleyExtend);break;case"parsleyFieldMultiple":i=t.extend(new w(this.$element,this.domOptions,this.options,this.parent),new x,window.ParsleyExtend)._init();break;default:throw new Error(e+"is not a supported Parsley type")}return this.options.multiple&&a.setAttr(this.$element,this.options.namespace,"multiple",this.options.multiple),"undefined"!=typeof n?(this.$element.data("ParsleyFieldMultiple",i),i):(this.$element.data("Parsley",i),i._trigger("init"),i)}};var T=t({}),S=function(){a.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")},D="parsley:";t.listen=function(t,i){var r;if(S(),"object"==typeof arguments[1]&&"function"==typeof arguments[2]&&(r=arguments[1],i=arguments[2]),"function"!=typeof arguments[1])throw new Error("Wrong parameters");window.Parsley.on(n(t),e(i,r))},t.listenTo=function(t,i,r){if(S(),!(t instanceof w||t instanceof m))throw new Error("Must give Parsley instance");if("string"!=typeof i||"function"!=typeof r)throw new Error("Wrong parameters");t.on(n(i),e(r))},t.unsubscribe=function(t,e){if(S(),"string"!=typeof t||"function"!=typeof e)throw new Error("Wrong arguments");window.Parsley.off(n(t),e.parsleyAdaptedCallback)},t.unsubscribeTo=function(t,e){if(S(),!(t instanceof w||t instanceof m))throw new Error("Must give Parsley instance");t.off(n(e))},t.unsubscribeAll=function(e){S(),window.Parsley.off(n(e)),t("form,input,textarea,select").each(function(){var i=t(this).data("Parsley");i&&i.off(n(e))})},t.emit=function(t,e){S();var i=e instanceof w||e instanceof m,r=Array.prototype.slice.call(arguments,i?2:1);r.unshift(n(t)),i||(e=window.Parsley),e.trigger.apply(e,r)},window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.en=jQuery.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,!0);var k=t.extend(new s,{$element:t(document),actualizeOptions:null,_resetOptions:null,Factory:C,version:"2.2.0-rc1"});t.extend(w.prototype,s.prototype),t.extend(m.prototype,s.prototype),t.extend(C.prototype,s.prototype),t.fn.parsley=t.fn.psly=function(e){if(this.length>1){var n=[];return this.each(function(){n.push(t(this).parsley(e))}),n}return t(this).length?new C(this,e):void a.warn("You must bind Parsley on an existing element.")},"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),k.options=t.extend(a.objectCreate(o),window.ParsleyConfig),window.ParsleyConfig=k.options,window.Parsley=window.psly=k,window.ParsleyUtils=a;var _=window.Parsley._validatorRegistry=new f(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);return window.ParsleyValidator={},t.each("setLocale addCatalog addMessage getErrorMessage formatMessage addValidator updateValidator removeValidator".split(" "),function(e,n){window.Parsley[n]=t.proxy(_,n),window.ParsleyValidator[n]=function(){return a.warnOnce("Accessing the method `"+n+"` through ParsleyValidator is deprecated. Simply call `window.Parsley."+n+"(...)`"),window.Parsley[n].apply(window.Parsley,arguments)}}),window.ParsleyUI="function"==typeof window.ParsleyConfig.ParsleyUI?(new window.ParsleyConfig.ParsleyUI).listen():(new g).listen(),!1!==window.ParsleyConfig.autoBind&&t(function(){t("[data-parsley-validate]").length&&t("[data-parsley-validate]").parsley()}),window.Parsley}),!function(t){if(t.document){var e=t.document;e.querySelectorAll||(e.querySelectorAll=function(n){var i,r=e.createElement("style"),a=[];for(e.documentElement.firstChild.appendChild(r),e._qsa=[],r.styleSheet.cssText=n+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",t.scrollBy(0,0),r.parentNode.removeChild(r);e._qsa.length;)i=e._qsa.shift(),i.style.removeAttribute("x-qsa"),a.push(i);return e._qsa=null,a}),e.querySelector||(e.querySelector=function(t){var n=e.querySelectorAll(t);return n.length?n[0]:null}),e.getElementsByClassName||(e.getElementsByClassName=function(t){return t=String(t).replace(/^|\s+/g,"."),e.querySelectorAll(t)}),Object.keys||(Object.keys=function(t){if(t!==Object(t))throw TypeError("Object.keys called on non-object");var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n}),Array.prototype.forEach||(Array.prototype.forEach=function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw TypeError();var i,r=arguments[1];for(i=0;n>i;i++)i in e&&t.call(r,e[i],i,e)}),function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.atob=t.atob||function(t){t=String(t);var n,i=0,r=[],a=0,o=0;if(t=t.replace(/\s/g,""),t.length%4===0&&(t=t.replace(/=+$/,"")),t.length%4===1)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(t))throw Error("InvalidCharacterError");for(;i<t.length;)n=e.indexOf(t.charAt(i)),a=a<<6|n,o+=6,24===o&&(r.push(String.fromCharCode(a>>16&255)),r.push(String.fromCharCode(a>>8&255)),r.push(String.fromCharCode(255&a)),o=0,a=0),i+=1;return 12===o?(a>>=4,r.push(String.fromCharCode(255&a))):18===o&&(a>>=2,r.push(String.fromCharCode(a>>8&255)),r.push(String.fromCharCode(255&a))),r.join("")},t.btoa=t.btoa||function(t){t=String(t);var n,i,r,a,o,s,l,d=0,u=[];if(/[^\x00-\xFF]/.test(t))throw Error("InvalidCharacterError");for(;d<t.length;)n=t.charCodeAt(d++),i=t.charCodeAt(d++),r=t.charCodeAt(d++),a=n>>2,o=(3&n)<<4|i>>4,s=(15&i)<<2|r>>6,l=63&r,d===t.length+2?(s=64,l=64):d===t.length+1&&(l=64),u.push(e.charAt(a),e.charAt(o),e.charAt(s),e.charAt(l));return u.join("")}}(t),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(t){var e=this.__proto__||this.constructor.prototype;return t in this&&(!(t in e)||e[t]!==this[t])}),function(){if("performance"in t==0&&(t.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in t.performance==0){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),t.performance.now=function(){return Date.now()-e}}}(),t.requestAnimationFrame||(t.webkitRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return webkitRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=webkitCancelAnimationFrame}(t):t.mozRequestAnimationFrame?!function(t){t.requestAnimationFrame=function(e){return mozRequestAnimationFrame(function(){e(t.performance.now())})},t.cancelAnimationFrame=mozCancelAnimationFrame}(t):!function(t){t.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)},t.cancelAnimationFrame=t.clearTimeout}(t))}}(this),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Holder=e():t.Holder=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){(function(e){function i(t,e,n,i){var o=r(n.substr(n.lastIndexOf(t.domain)),t);o&&a({mode:null,el:i,flags:o,engineSettings:e})}function r(t,e){var n={theme:k(F.settings.themes.gray,null),stylesheets:e.stylesheets,instanceOptions:e},i=t.split("?"),r=i[0].split("/");n.holderURL=t;var a=r[1],o=a.match(/([\d]+p?)x([\d]+p?)/);if(!o)return!1;if(n.fluid=-1!==a.indexOf("p"),n.dimensions={width:o[1].replace("p","%"),height:o[2].replace("p","%")},2===i.length){var s=v.parse(i[1]);if(s.bg&&(n.theme.bg=y.parseColor(s.bg)),s.fg&&(n.theme.fg=y.parseColor(s.fg)),s.bg&&!s.fg&&(n.autoFg=!0),s.theme&&n.instanceOptions.themes.hasOwnProperty(s.theme)&&(n.theme=k(n.instanceOptions.themes[s.theme],null)),s.text&&(n.text=s.text),s.textmode&&(n.textmode=s.textmode),s.size&&(n.size=s.size),s.font&&(n.font=s.font),s.align&&(n.align=s.align),s.lineWrap&&(n.lineWrap=s.lineWrap),n.nowrap=y.truthy(s.nowrap),n.auto=y.truthy(s.auto),n.outline=y.truthy(s.outline),y.truthy(s.random)){F.vars.cache.themeKeys=F.vars.cache.themeKeys||Object.keys(n.instanceOptions.themes);var l=F.vars.cache.themeKeys[0|Math.random()*F.vars.cache.themeKeys.length];n.theme=k(n.instanceOptions.themes[l],null)}}return n}function a(t){var e=t.mode,n=t.el,i=t.flags,r=t.engineSettings,a=i.dimensions,s=i.theme,l=a.width+"x"+a.height;e=null==e?i.fluid?"fluid":"image":e;var h=/holder_([a-z]+)/g,c=!1;if(null!=i.text&&(s.text=i.text,"object"===n.nodeName.toLowerCase())){for(var f=s.text.split("\\n"),p=0;p<f.length;p++)f[p]=y.encodeHtmlEntity(f[p]);s.text=f.join("\\n")}if(s.text){var g=s.text.match(h);null!==g&&g.forEach(function(t){"holder_dimensions"===t&&(s.text=s.text.replace(t,l))})}var m=i.holderURL,v=k(r,null);if(i.font&&(s.font=i.font,!v.noFontFallback&&"img"===n.nodeName.toLowerCase()&&F.setup.supportsCanvas&&"svg"===v.renderer&&(v=k(v,{renderer:"canvas"}))),i.font&&"canvas"==v.renderer&&(v.reRender=!0),"background"==e)null==n.getAttribute("data-background-src")&&x.setAttr(n,{"data-background-src":m});else{var b={};b[F.vars.dataAttr]=m,x.setAttr(n,b)}i.theme=s,n.holderData={flags:i,engineSettings:v},("image"==e||"fluid"==e)&&x.setAttr(n,{alt:s.text?c?s.text:s.text+" ["+l+"]":l});var w={mode:e,el:n,holderSettings:{dimensions:a,theme:s,flags:i},engineSettings:v};"image"==e?(i.auto||(n.style.width=a.width+"px",n.style.height=a.height+"px"),"html"==v.renderer?n.style.backgroundColor=s.background:(o(w),"exact"==i.textmode&&(n.holderData.resizeUpdate=!0,F.vars.resizableImages.push(n),d(n)))):"background"==e&&"html"!=v.renderer?o(w):"fluid"==e&&(n.holderData.resizeUpdate=!0,"%"==a.height.slice(-1)?n.style.height=a.height:null!=i.auto&&i.auto||(n.style.height=a.height+"px"),"%"==a.width.slice(-1)?n.style.width=a.width:null!=i.auto&&i.auto||(n.style.width=a.width+"px"),("inline"==n.style.display||""===n.style.display||"none"==n.style.display)&&(n.style.display="block"),u(n),"html"==v.renderer?n.style.backgroundColor=s.background:(F.vars.resizableImages.push(n),d(n)))}function o(t){function n(){var e=null;switch(l.renderer){case"canvas":e=D(u,t);break;case"svg":e=S(u,t);break;default:throw"Holder: invalid renderer: "+l.renderer}return e}var i=null,r=t.mode,a=t.el,o=t.holderSettings,l=t.engineSettings;switch(l.renderer){case"svg":if(!F.setup.supportsSVG)return;break;case"canvas":if(!F.setup.supportsCanvas)return;break;default:return}var d={width:o.dimensions.width,height:o.dimensions.height,theme:o.theme,flags:o.flags},u=s(d);if(i=n(),null==i)throw"Holder: couldn't render placeholder";"background"==r?(a.style.backgroundImage="url("+i+")",a.style.backgroundSize=d.width+"px "+d.height+"px"):("img"===a.nodeName.toLowerCase()?x.setAttr(a,{src:i}):"object"===a.nodeName.toLowerCase()&&x.setAttr(a,{data:i,type:"image/svg+xml"}),l.reRender&&e.setTimeout(function(){var t=n();if(null==t)throw"Holder: couldn't render placeholder";"img"===a.nodeName.toLowerCase()?x.setAttr(a,{src:t}):"object"===a.nodeName.toLowerCase()&&x.setAttr(a,{data:t,type:"image/svg+xml"})},150)),x.setAttr(a,{"data-holder-rendered":!0})}function s(t){function e(t,e,n,i){e.width=n,e.height=i,t.width=Math.max(t.width,e.width),t.height+=e.height}var n=F.defaults.size;switch(parseFloat(t.theme.size)?n=t.theme.size:parseFloat(t.flags.size)&&(n=t.flags.size),t.font={family:t.theme.font?t.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:l(t.width,t.height,n,F.defaults.scale),units:t.theme.units?t.theme.units:F.defaults.units,weight:t.theme.fontweight?t.theme.fontweight:"bold"},t.text=t.theme.text||Math.floor(t.width)+"x"+Math.floor(t.height),t.noWrap=t.theme.nowrap||t.flags.nowrap,t.align=t.theme.align||t.flags.align||"center",t.flags.textmode){case"literal":t.text=t.flags.dimensions.width+"x"+t.flags.dimensions.height;break;case"exact":if(!t.flags.exactDimensions)break;t.text=Math.floor(t.flags.exactDimensions.width)+"x"+Math.floor(t.flags.exactDimensions.height)}var i=t.flags.lineWrap||F.setup.lineWrapRatio,r=t.width*i,a=r,o=new b({width:t.width,height:t.height}),s=o.Shape,d=new s.Rect("holderBg",{fill:t.theme.bg});if(d.resize(t.width,t.height),o.root.add(d),t.flags.outline){var u=new C(d.properties.fill);u=u.lighten(u.lighterThan("7f7f7f")?-.1:.1),d.properties.outline={fill:u.toHex(!0),width:2}}var h=t.theme.fg;if(t.flags.autoFg){var c=new C(d.properties.fill),f=new C("fff"),p=new C("000",{alpha:.285714});h=c.blendAlpha(c.lighterThan("7f7f7f")?p:f).toHex(!0)}var g=new s.Group("holderTextGroup",{text:t.text,align:t.align,font:t.font,fill:h});g.moveTo(null,null,1),o.root.add(g);var m=g.textPositionData=A(o);if(!m)throw"Holder: staging fallback not supported yet.";g.properties.leading=m.boundingBox.height;var v=null,y=null;if(m.lineCount>1){var w,x=0,T=0,S=0;y=new s.Group("line"+S),("left"===t.align||"right"===t.align)&&(a=t.width*(1-2*(1-i)));for(var D=0;D<m.words.length;D++){var k=m.words[D];v=new s.Text(k.text);var _="\\n"==k.text;!t.noWrap&&(x+k.width>=a||_===!0)&&(e(g,y,x,g.properties.leading),g.add(y),x=0,T+=g.properties.leading,S+=1,y=new s.Group("line"+S),y.y=T),_!==!0&&(v.moveTo(x,0),x+=m.spaceWidth+k.width,y.add(v))}if(e(g,y,x,g.properties.leading),g.add(y),"left"===t.align)g.moveTo(t.width-r,null,null);else if("right"===t.align){for(w in g.children)y=g.children[w],y.moveTo(t.width-y.width,null,null);g.moveTo(0-(t.width-r),null,null)}else{for(w in g.children)y=g.children[w],y.moveTo((g.width-y.width)/2,null,null);g.moveTo((t.width-g.width)/2,null,null)}g.moveTo(null,(t.height-g.height)/2,null),(t.height-g.height)/2<0&&g.moveTo(null,0,null)}else v=new s.Text(t.text),y=new s.Group("line0"),y.add(v),g.add(y),"left"===t.align?g.moveTo(t.width-r,null,null):"right"===t.align?g.moveTo(0-(t.width-r),null,null):g.moveTo((t.width-m.boundingBox.width)/2,null,null),g.moveTo(null,(t.height-m.boundingBox.height)/2,null);return o}function l(t,e,n,i){var r=parseInt(t,10),a=parseInt(e,10),o=Math.max(r,a),s=Math.min(r,a),l=.8*Math.min(s,o*i);return Math.round(Math.max(n,l))}function d(t){var e;e=null==t||null==t.nodeType?F.vars.resizableImages:[t];for(var n=0,i=e.length;i>n;n++){var r=e[n];if(r.holderData){var a=r.holderData.flags,s=_(r);if(s){if(!r.holderData.resizeUpdate)continue;if(a.fluid&&a.auto){var l=r.holderData.fluidConfig;switch(l.mode){case"width":s.height=s.width/l.ratio;break;case"height":s.width=s.height*l.ratio}}var d={mode:"image",holderSettings:{dimensions:s,theme:a.theme,flags:a},el:r,engineSettings:r.holderData.engineSettings};"exact"==a.textmode&&(a.exactDimensions=s,d.holderSettings.dimensions=a.dimensions),o(d)}else f(r)}}}function u(t){if(t.holderData){var e=_(t);if(e){var n=t.holderData.flags,i={fluidHeight:"%"==n.dimensions.height.slice(-1),fluidWidth:"%"==n.dimensions.width.slice(-1),mode:null,initialDimensions:e};i.fluidWidth&&!i.fluidHeight?(i.mode="width",i.ratio=i.initialDimensions.width/parseFloat(n.dimensions.height)):!i.fluidWidth&&i.fluidHeight&&(i.mode="height",i.ratio=parseFloat(n.dimensions.width)/i.initialDimensions.height),t.holderData.fluidConfig=i}else f(t)}}function h(){var t,n=[],i=Object.keys(F.vars.invisibleImages);i.forEach(function(e){t=F.vars.invisibleImages[e],_(t)&&"img"==t.nodeName.toLowerCase()&&(n.push(t),delete F.vars.invisibleImages[e])}),n.length&&R.run({images:n}),setTimeout(function(){e.requestAnimationFrame(h)},10)}function c(){F.vars.visibilityCheckStarted||(e.requestAnimationFrame(h),F.vars.visibilityCheckStarted=!0)}function f(t){t.holderData.invisibleId||(F.vars.invisibleId+=1,F.vars.invisibleImages["i"+F.vars.invisibleId]=t,t.holderData.invisibleId=F.vars.invisibleId)}function p(t){F.vars.debounceTimer||t.call(this),F.vars.debounceTimer&&e.clearTimeout(F.vars.debounceTimer),F.vars.debounceTimer=e.setTimeout(function(){F.vars.debounceTimer=null,t.call(this)},F.setup.debounce)}function g(){p(function(){d(null)})}var m=n(2),v=n(3),b=n(6),y=n(7),w=n(8),x=n(9),C=n(10),T=n(11),S=n(12),D=n(15),k=y.extend,_=y.dimensionCheck,E=T.svg_ns,R={version:T.version,addTheme:function(t,e){return null!=t&&null!=e&&(F.settings.themes[t]=e),delete F.vars.cache.themeKeys,this},addImage:function(t,e){var n=x.getNodeArray(e);return n.forEach(function(e){var n=x.newEl("img"),i={};i[F.setup.dataAttr]=t,x.setAttr(n,i),e.appendChild(n)}),this},setResizeUpdate:function(t,e){t.holderData&&(t.holderData.resizeUpdate=!!e,t.holderData.resizeUpdate&&d(t))},run:function(t){t=t||{};var n={},o=k(F.settings,t);F.vars.preempted=!0,F.vars.dataAttr=o.dataAttr||F.setup.dataAttr,n.renderer=o.renderer?o.renderer:F.setup.renderer,-1===F.setup.renderers.join(",").indexOf(n.renderer)&&(n.renderer=F.setup.supportsSVG?"svg":F.setup.supportsCanvas?"canvas":"html");var s=x.getNodeArray(o.images),l=x.getNodeArray(o.bgnodes),d=x.getNodeArray(o.stylenodes),u=x.getNodeArray(o.objects);return n.stylesheets=[],n.svgXMLStylesheet=!0,n.noFontFallback=o.noFontFallback?o.noFontFallback:!1,d.forEach(function(t){if(t.attributes.rel&&t.attributes.href&&"stylesheet"==t.attributes.rel.value){var e=t.attributes.href.value,i=x.newEl("a");i.href=e;var r=i.protocol+"//"+i.host+i.pathname+i.search;n.stylesheets.push(r)}}),l.forEach(function(t){if(e.getComputedStyle){var i=e.getComputedStyle(t,null).getPropertyValue("background-image"),s=t.getAttribute("data-background-src"),l=s||i,d=null,u=o.domain+"/",h=l.indexOf(u);if(0===h)d=l;else if(1===h&&"?"===l[0])d=l.slice(1);else{var c=l.substr(h).match(/([^\"]*)"?\)/);if(null!==c)d=c[1];else if(0===l.indexOf("url("))throw"Holder: unable to parse background URL: "+l}if(null!=d){var f=r(d,o);f&&a({mode:"background",el:t,flags:f,engineSettings:n})}}}),u.forEach(function(t){var e={};try{e.data=t.getAttribute("data"),e.dataSrc=t.getAttribute(F.vars.dataAttr)}catch(r){}var a=null!=e.data&&0===e.data.indexOf(o.domain),s=null!=e.dataSrc&&0===e.dataSrc.indexOf(o.domain);a?i(o,n,e.data,t):s&&i(o,n,e.dataSrc,t)}),s.forEach(function(t){var e={};try{e.src=t.getAttribute("src"),e.dataSrc=t.getAttribute(F.vars.dataAttr),e.rendered=t.getAttribute("data-holder-rendered")}catch(r){}var a=null!=e.src,s=null!=e.dataSrc&&0===e.dataSrc.indexOf(o.domain),l=null!=e.rendered&&"true"==e.rendered;a?0===e.src.indexOf(o.domain)?i(o,n,e.src,t):s&&(l?i(o,n,e.dataSrc,t):!function(t,e,n,r,a){y.imageExists(t,function(t){t||i(e,n,r,a)})}(e.src,o,n,e.dataSrc,t)):s&&i(o,n,e.dataSrc,t)}),this}},F={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",themes:{gray:{bg:"#EEEEEE",fg:"#AAAAAA"},social:{bg:"#3a5a97",fg:"#FFFFFF"},industrial:{bg:"#434A52",fg:"#C2F200"},sky:{bg:"#0D8FDB",fg:"#FFFFFF"},vine:{bg:"#39DBAC",fg:"#1E292C"},lava:{bg:"#F8591A",fg:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16}},A=function(){var t=null,e=null,n=null;return function(i){var r=i.root;if(F.setup.supportsSVG){var a=!1,o=function(t){return document.createTextNode(t)};(null==t||t.parentNode!==document.body)&&(a=!0),t=w.initSVG(t,r.properties.width,r.properties.height),t.style.display="block",a&&(e=x.newEl("text",E),n=o(null),x.setAttr(e,{x:0}),e.appendChild(n),t.appendChild(e),document.body.appendChild(t),t.style.visibility="hidden",t.style.position="absolute",t.style.top="-100%",t.style.left="-100%");var s=r.children.holderTextGroup,l=s.properties;x.setAttr(e,{y:l.font.size,style:y.cssProps({"font-weight":l.font.weight,"font-size":l.font.size+l.font.units,"font-family":l.font.family})}),n.nodeValue=l.text;var d=e.getBBox(),u=Math.ceil(d.width/r.properties.width),h=l.text.split(" "),c=l.text.match(/\\n/g);u+=null==c?0:c.length,n.nodeValue=l.text.replace(/[ ]+/g,"");var f=e.getComputedTextLength(),p=d.width-f,g=Math.round(p/Math.max(1,h.length-1)),m=[];if(u>1){n.nodeValue="";for(var v=0;v<h.length;v++)if(0!==h[v].length){n.nodeValue=y.decodeHtmlEntity(h[v]);var b=e.getBBox();m.push({text:h[v],width:b.width})}}return t.style.display="none",{spaceWidth:g,lineCount:u,boundingBox:d,words:m}}return!1}}();for(var M in F.flags)F.flags.hasOwnProperty(M)&&(F.flags[M].match=function(t){return t.match(this.regex)});F.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,dataAttr:"data-src",renderers:["html","canvas","svg"]},F.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},function(){var t=x.newEl("canvas");t.getContext&&-1!=t.toDataURL("image/png").indexOf("data:image/png")&&(F.setup.renderer="canvas",F.setup.supportsCanvas=!0),document.createElementNS&&document.createElementNS(E,"svg").createSVGRect&&(F.setup.renderer="svg",F.setup.supportsSVG=!0)}(),c(),m&&m(function(){F.vars.preempted||R.run(),e.addEventListener?(e.addEventListener("resize",g,!1),e.addEventListener("orientationchange",g,!1)):e.attachEvent("onresize",g),"object"==typeof e.Turbolinks&&e.document.addEventListener("page:change",function(){R.run()})}),t.exports=R}).call(e,function(){return this}())},function(t,e){function n(t){function e(t){if(!x){if(!o.body)return r(e);for(x=!0;t=C.shift();)r(t)}}function n(t){(y||t.type===l||o[c]===h)&&(i(),e())}function i(){y?(o[b](m,n,d),t[b](l,n,d)):(o[p](v,n),t[p](u,n))}function r(t,e){setTimeout(t,+e>=0?e:1)}function a(t){x?r(t):C.push(t)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function S(){document.removeEventListener("DOMContentLoaded",S,!1),document.readyState="complete"},!1),document.readyState="loading");var o=t.document,s=o.documentElement,l="load",d=!1,u="on"+l,h="complete",c="readyState",f="attachEvent",p="detachEvent",g="addEventListener",m="DOMContentLoaded",v="onreadystatechange",b="removeEventListener",y=g in o,w=d,x=d,C=[];if(o[c]===h)r(e);else if(y)o[g](m,n,d),t[g](l,n,d);else{o[f](v,n),t[f](u,n);try{w=null==t.frameElement&&s}catch(T){}w&&w.doScroll&&!function D(){if(!x){try{w.doScroll("left")}catch(t){return r(D,50)}i(),e()}}()}return a.version="1.4.0",a.isReady=function(){return x},a}t.exports="undefined"!=typeof window&&n(window)},function(t,e,n){var i=encodeURIComponent,r=decodeURIComponent,a=n(4),o=n(5),s=/(\w+)\[(\d+)\]/,l=/\w+\.\w+/;e.parse=function(t){if("string"!=typeof t)return{};if(t=a(t),""===t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e={},n=t.split("&"),i=0;i<n.length;i++){var o,d,u,h=n[i].split("="),c=r(h[0]);if(o=s.exec(c))e[o[1]]=e[o[1]]||[],e[o[1]][o[2]]=r(h[1]);else if(o=l.test(c)){for(o=c.split("."),d=e;o.length;)if(u=o.shift(),u.length){if(d[u]){if(d[u]&&"object"!=typeof d[u])break}else d[u]={};o.length||(d[u]=r(h[1])),d=d[u]}}else e[h[0]]=null==h[1]?"":r(h[1])}return e},e.stringify=function(t){if(!t)return"";var e=[];for(var n in t){var r=t[n];if("array"!=o(r))e.push(i(n)+"="+i(t[n]));else for(var a=0;a<r.length;++a)e.push(i(n+"["+a+"]")+"="+i(r[a]))}return e.join("&")}},function(t,e){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t),typeof t)}},function(t,e){var n=function(t){function e(t,e){for(var n in e)t[n]=e[n];return t}var n=1,i=function(t){n++,this.parent=null,this.children={},this.id=n,this.name="n"+n,"undefined"!=typeof t&&(this.name=t),this.x=this.y=this.z=0,this.width=this.height=0};i.prototype.resize=function(t,e){null!=t&&(this.width=t),null!=e&&(this.height=e)},i.prototype.moveTo=function(t,e,n){this.x=null!=t?t:this.x,this.y=null!=e?e:this.y,this.z=null!=n?n:this.z},i.prototype.add=function(t){var e=t.name;if("undefined"!=typeof this.children[e])throw"SceneGraph: child already exists: "+e;this.children[e]=t,t.parent=this};var r=function(){i.call(this,"root"),this.properties=t};r.prototype=new i;var a=function(t,n){if(i.call(this,t),this.properties={fill:"#000000"},"undefined"!=typeof n)e(this.properties,n);else if("undefined"!=typeof t&&"string"!=typeof t)throw"SceneGraph: invalid node name"};a.prototype=new i;var o=function(){a.apply(this,arguments),this.type="group"};o.prototype=new a;var s=function(){a.apply(this,arguments),this.type="rect"};s.prototype=new a;var l=function(t){a.call(this),this.type="text",this.properties.text=t};l.prototype=new a;var d=new r;return this.Shape={Rect:s,Text:l,Group:o},this.root=d,this};t.exports=n},function(t,e){(function(t){e.extend=function(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);if(null!=e)for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},e.cssProps=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+":"+t[n]);return e.join(";")},e.encodeHtmlEntity=function(t){for(var e=[],n=0,i=t.length-1;i>=0;i--)n=t.charCodeAt(i),n>128?e.unshift(["&#",n,";"].join("")):e.unshift(t[i]);return e.join("")},e.imageExists=function(t,e){var n=new Image;n.onerror=function(){e.call(this,!1)},n.onload=function(){e.call(this,!0)},n.src=t},e.decodeHtmlEntity=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(e)})},e.dimensionCheck=function(t){var e={height:t.clientHeight,width:t.clientWidth};return e.height&&e.width?e:!1},e.truthy=function(t){return"string"==typeof t?"true"===t||"yes"===t||"1"===t||"on"===t||"✓"===t:!!t},e.parseColor=function(t){var e,n=/(^(?:#?)[0-9a-f]{6}$)|(^(?:#?)[0-9a-f]{3}$)/i,i=/^rgb\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,r=/^rgba\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0\.\d{1,}|1)\)$/,a=t.match(n);return null!==a?(e=a[1]||a[2],"#"!==e[0]?"#"+e:e):(a=t.match(i),null!==a?e="rgb("+a.slice(1).join(",")+")":(a=t.match(r),null!==a?e="rgba("+a.slice(1).join(",")+")":null))},e.canvasRatio=function(){var e=1,n=1;if(t.document){var i=t.document.createElement("canvas");if(i.getContext){var r=i.getContext("2d");e=t.devicePixelRatio||1,n=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1}}return e/n}}).call(e,function(){return this}())},function(t,e,n){(function(t){var i=n(9),r="http://www.w3.org/2000/svg",a=8;e.initSVG=function(t,e,n){var o,s,l=!1;t&&t.querySelector?(s=t.querySelector("style"),null===s&&(l=!0)):(t=i.newEl("svg",r),l=!0),l&&(o=i.newEl("defs",r),s=i.newEl("style",r),i.setAttr(s,{type:"text/css"}),o.appendChild(s),t.appendChild(o)),t.webkitMatchesSelector&&t.setAttribute("xmlns",r);for(var d=0;d<t.childNodes.length;d++)t.childNodes[d].nodeType===a&&t.removeChild(t.childNodes[d]);for(;s.childNodes.length;)s.removeChild(s.childNodes[0]);return i.setAttr(t,{width:e,height:n,viewBox:"0 0 "+e+" "+n,preserveAspectRatio:"none"}),t},e.svgStringToDataURI=function(){var e="data:image/svg+xml;charset=UTF-8,",n="data:image/svg+xml;charset=UTF-8;base64,";return function(i,r){return r?n+btoa(t.unescape(encodeURIComponent(i))):e+encodeURIComponent(i)}}(),e.serializeSVG=function(e,n){if(t.XMLSerializer){var r=new XMLSerializer,a="",o=n.stylesheets;if(n.svgXMLStylesheet){for(var s=i.createXML(),l=o.length-1;l>=0;l--){var d=s.createProcessingInstruction("xml-stylesheet",'href="'+o[l]+'" rel="stylesheet"');s.insertBefore(d,s.firstChild)}s.removeChild(s.documentElement),a=r.serializeToString(s)}var u=r.serializeToString(e);return u=u.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),a+u}}}).call(e,function(){return this}())},function(t,e){(function(t){e.newEl=function(e,n){return t.document?null==n?t.document.createElement(e):t.document.createElementNS(n,e):void 0},e.setAttr=function(t,e){for(var n in e)t.setAttribute(n,e[n])},e.createXML=function(){return t.DOMParser?(new DOMParser).parseFromString("<xml />","application/xml"):void 0},e.getNodeArray=function(e){var n=null;return"string"==typeof e?n=document.querySelectorAll(e):t.NodeList&&e instanceof t.NodeList?n=e:t.Node&&e instanceof t.Node?n=[e]:t.HTMLCollection&&e instanceof t.HTMLCollection?n=e:e instanceof Array?n=e:null===e&&(n=[]),n=Array.prototype.slice.call(n)}}).call(e,function(){return this}())},function(t,e){var n=function(t,e){"string"==typeof t&&(this.original=t,"#"===t.charAt(0)&&(t=t.slice(1)),/[^a-f0-9]+/i.test(t)||(3===t.length&&(t=t.replace(/./g,"$&$&")),6===t.length&&(this.alpha=1,e&&e.alpha&&(this.alpha=e.alpha),this.set(parseInt(t,16)))))};n.rgb2hex=function(t,e,n){function i(t){var e=(0|t).toString(16);return 16>t&&(e="0"+e),
e}return[t,e,n].map(i).join("")},n.hsl2rgb=function(t,e,n){var i=t/60,r=(1-Math.abs(2*n-1))*e,a=r*(1-Math.abs(parseInt(i)%2-1)),o=n-r/2,s=0,l=0,d=0;return i>=0&&1>i?(s=r,l=a):i>=1&&2>i?(s=a,l=r):i>=2&&3>i?(l=r,d=a):i>=3&&4>i?(l=a,d=r):i>=4&&5>i?(s=a,d=r):i>=5&&6>i&&(s=r,d=a),s+=o,l+=o,d+=o,s=parseInt(255*s),l=parseInt(255*l),d=parseInt(255*d),[s,l,d]},n.prototype.set=function(t){this.raw=t;var e=(16711680&this.raw)>>16,n=(65280&this.raw)>>8,i=255&this.raw,r=.2126*e+.7152*n+.0722*i,a=-.09991*e-.33609*n+.436*i,o=.615*e-.55861*n-.05639*i;return this.rgb={r:e,g:n,b:i},this.yuv={y:r,u:a,v:o},this},n.prototype.lighten=function(t){var e=Math.min(1,Math.max(0,Math.abs(t)))*(0>t?-1:1),i=255*e|0,r=Math.min(255,Math.max(0,this.rgb.r+i)),a=Math.min(255,Math.max(0,this.rgb.g+i)),o=Math.min(255,Math.max(0,this.rgb.b+i)),s=n.rgb2hex(r,a,o);return new n(s)},n.prototype.toHex=function(t){return(t?"#":"")+this.raw.toString(16)},n.prototype.lighterThan=function(t){return t instanceof n||(t=new n(t)),this.yuv.y>t.yuv.y},n.prototype.blendAlpha=function(t){t instanceof n||(t=new n(t));var e=t,i=this,r=e.alpha*e.rgb.r+(1-e.alpha)*i.rgb.r,a=e.alpha*e.rgb.g+(1-e.alpha)*i.rgb.g,o=e.alpha*e.rgb.b+(1-e.alpha)*i.rgb.b;return new n(n.rgb2hex(r,a,o))},t.exports=n},function(t,e){t.exports={version:"2.9.0",svg_ns:"http://www.w3.org/2000/svg"}},function(t,e,n){function i(t,e){return h.element({tag:e,width:t.width,height:t.height,fill:t.properties.fill})}function r(t){return d.cssProps({fill:t.fill,"font-weight":t.font.weight,"font-family":t.font.family+", monospace","font-size":t.font.size+t.font.units})}function a(t,e,n){var i=n/2;return["M",i,i,"H",t-i,"V",e-i,"H",i,"V",0,"M",0,i,"L",t,e-i,"M",0,e-i,"L",t,i].join(" ")}var o=n(13),s=n(8),l=n(11),d=n(7),u=l.svg_ns,h={element:function(t){var e=t.tag,n=t.content||"";return delete t.tag,delete t.content,[e,n,t]}};t.exports=function(t,e){var n=e.engineSettings,l=n.stylesheets,d=l.map(function(t){return'<?xml-stylesheet rel="stylesheet" href="'+t+'"?>'}).join("\n"),c="holder_"+Number(new Date).toString(16),f=t.root,p=f.children.holderTextGroup,g="#"+c+" text { "+r(p.properties)+" } ";p.y+=.8*p.textPositionData.boundingBox.height;var m=[];Object.keys(p.children).forEach(function(t){var e=p.children[t];Object.keys(e.children).forEach(function(t){var n=e.children[t],i=p.x+e.x+n.x,r=p.y+e.y+n.y,a=h.element({tag:"text",content:n.properties.text,x:i,y:r});m.push(a)})});var v=h.element({tag:"g",content:m}),b=null;if(f.children.holderBg.properties.outline){var y=f.children.holderBg.properties.outline;b=h.element({tag:"path",d:a(f.children.holderBg.width,f.children.holderBg.height,y.width),"stroke-width":y.width,stroke:y.fill,fill:"none"})}var w=i(f.children.holderBg,"rect"),x=[];x.push(w),y&&x.push(b),x.push(v);var C=h.element({tag:"g",id:c,content:x}),T=h.element({tag:"style",content:g,type:"text/css"}),S=h.element({tag:"defs",content:T}),D=h.element({tag:"svg",content:[S,C],width:f.properties.width,height:f.properties.height,xmlns:u,viewBox:[0,0,f.properties.width,f.properties.height].join(" "),preserveAspectRatio:"none"}),k=o(D);k=d+k[0];var _=s.svgStringToDataURI(k,"background"===e.mode);return _}},function(t,e,n){n(14),t.exports=function i(t,e,n){"use strict";function r(t){var e=t.match(/^\w+/),i={tag:e?e[0]:"div",attr:{},children:[]},r=t.match(/#([\w-]+)/),a=t.match(/\$([\w-]+)/),o=t.match(/\.[\w-]+/g);return r&&(i.attr.id=r[1],n[r[1]]=i),a&&(n[a[1]]=i),o&&(i.attr["class"]=o.join(" ").replace(/\./g,"")),t.match(/&$/g)&&(f=!1),i}function a(t,e){return null!==e&&e!==!1&&void 0!==e?"string"!=typeof e&&"object"!=typeof e?String(e):e:void 0}function o(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function s(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var l,d,u,h,c=1,f=!0;if(n=n||{},"string"==typeof t[0])t[0]=r(t[0]);else{if(!Array.isArray(t[0]))throw new Error("First element of array must be a string, or an array and not "+JSON.stringify(t[0]));c=0}for(;c<t.length;c++){if(t[c]===!1||null===t[c]){t[0]=!1;break}if(void 0!==t[c]&&t[c]!==!0)if("string"==typeof t[c])f&&(t[c]=s(t[c])),t[0].children.push(t[c]);else if("number"==typeof t[c])t[0].children.push(t[c]);else if(Array.isArray(t[c])){if(Array.isArray(t[c][0])){if(t[c].reverse().forEach(function(e){t.splice(c+1,0,e)}),0!==c)continue;c++}i(t[c],e,n),t[c][0]&&t[0].children.push(t[c][0])}else if("function"==typeof t[c])u=t[c];else{if("object"!=typeof t[c])throw new TypeError('"'+t[c]+'" is not allowed as a value.');for(d in t[c])t[c].hasOwnProperty(d)&&null!==t[c][d]&&t[c][d]!==!1&&("style"===d&&"object"==typeof t[c][d]?t[0].attr[d]=JSON.stringify(t[c][d],a).slice(2,-2).replace(/","/g,";").replace(/":"/g,":").replace(/\\"/g,"'"):t[0].attr[d]=t[c][d])}}if(t[0]!==!1){l="<"+t[0].tag;for(h in t[0].attr)t[0].attr.hasOwnProperty(h)&&(l+=" "+h+'="'+o(t[0].attr[h]||"")+'"');l+=">",t[0].children.forEach(function(t){l+=t}),l+="</"+t[0].tag+">",t[0]=l}return n[0]=t[0],u&&u(t[0]),n}},function(t,e){function n(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}t.exports=n},function(t,e,n){var i=n(9),r=n(7);t.exports=function(){var t=i.newEl("canvas"),e=null;return function(n){null==e&&(e=t.getContext("2d"));var i=r.canvasRatio(),a=n.root;t.width=i*a.properties.width,t.height=i*a.properties.height,e.textBaseline="middle";var o=a.children.holderBg,s=i*o.width,l=i*o.height,d=2,u=d/2;e.fillStyle=o.properties.fill,e.fillRect(0,0,s,l),o.properties.outline&&(e.strokeStyle=o.properties.outline.fill,e.lineWidth=o.properties.outline.width,e.moveTo(u,u),e.lineTo(s-u,u),e.lineTo(s-u,l-u),e.lineTo(u,l-u),e.lineTo(u,u),e.moveTo(0,u),e.lineTo(s,l-u),e.moveTo(0,l-u),e.lineTo(s,u),e.stroke());var h=a.children.holderTextGroup;e.font=h.properties.font.weight+" "+i*h.properties.font.size+h.properties.font.units+" "+h.properties.font.family+", monospace",e.fillStyle=h.properties.fill;for(var c in h.children){var f=h.children[c];for(var p in f.children){var g=f.children[p],m=i*(h.x+f.x+g.x),v=i*(h.y+f.y+g.y+h.properties.leading/2);e.fillText(g.properties.text,m,v)}}return t.toDataURL("image/png")}}()}])}),function(t,e){e&&(Holder=t.Holder)}(this,"undefined"!=typeof Meteor&&"undefined"!=typeof Package),!function(t){"use strict";function e(){var t=document.createElement("mm"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}function n(e){return this.each(function(){var n=t(this),i=n.data("mm"),a=t.extend({},r.DEFAULTS,n.data(),"object"==typeof e&&e);i||n.data("mm",i=new r(this,a)),"string"==typeof e&&i[e]()})}t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one("mmTransitionEnd",function(){n=!0});var a=function(){n||t(r).trigger(i.end)};return setTimeout(a,e),this};var i=e();i&&(t.event.special.mmTransitionEnd={bindType:i.end,delegateType:i.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}});var r=function(e,n){this.$element=t(e),this.options=t.extend({},r.DEFAULTS,n),this.transitioning=null,this.init()};r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0,doubleTapToGo:!1,activeClass:"active"},r.prototype.init=function(){var e=this,n=this.options.activeClass;this.$element.find("li."+n).has("ul").children("ul").addClass("collapse in"),this.$element.find("li").not("."+n).has("ul").children("ul").addClass("collapse"),this.options.doubleTapToGo&&this.$element.find("li."+n).has("ul").children("a").addClass("doubleTapToGo"),this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(i){var r=t(this),a=r.parent("li"),o=a.children("ul");return i.preventDefault(),a.hasClass(n)?e.hide(o):e.show(o),e.options.doubleTapToGo&&e.doubleTapToGo(r)&&"#"!==r.attr("href")&&""!==r.attr("href")?(i.stopPropagation(),void(document.location=r.attr("href"))):void 0})},r.prototype.doubleTapToGo=function(t){var e=this.$element;return t.hasClass("doubleTapToGo")?(t.removeClass("doubleTapToGo"),!0):t.parent().children("ul").length?(e.find(".doubleTapToGo").removeClass("doubleTapToGo"),t.addClass("doubleTapToGo"),!1):void 0},r.prototype.show=function(e){var n=this.options.activeClass,a=t(e),o=a.parent("li");if(!this.transitioning&&!a.hasClass("in")){o.addClass(n),this.options.toggle&&this.hide(o.siblings().children("ul.in")),a.removeClass("collapse").addClass("collapsing").height(0),this.transitioning=1;var s=function(){a.removeClass("collapsing").addClass("collapse in").height(""),this.transitioning=0};return i?void a.one("mmTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION).height(a[0].scrollHeight):s.call(this)}},r.prototype.hide=function(e){var n=this.options.activeClass,a=t(e);if(!this.transitioning&&a.hasClass("in")){a.parent("li").removeClass(n),a.height(a.height())[0].offsetHeight,a.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var o=function(){this.transitioning=0,a.removeClass("collapsing").addClass("collapse")};return i?void a.height(0).one("mmTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(r.TRANSITION_DURATION):o.call(this)}};var a=t.fn.metisMenu;t.fn.metisMenu=n,t.fn.metisMenu.Constructor=r,t.fn.metisMenu.noConflict=function(){return t.fn.metisMenu=a,this}}(jQuery),function(e){e.fn.extend({slimScroll:function(n){var i=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},n);return this.each(function(){function r(t){if(d){t=t||window.event;var n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+i.wrapperClass).is(b.parent())&&a(n,!0),t.preventDefault&&!v&&t.preventDefault(),v||(t.returnValue=!1)}}function a(t,e,n){v=!1;var r=t,a=b.outerHeight()-w.outerHeight();e&&(r=parseInt(w.css("top"))+t*parseInt(i.wheelStep)/100*w.outerHeight(),r=Math.min(Math.max(r,0),a),r=t>0?Math.ceil(r):Math.floor(r),w.css({top:r+"px"})),g=parseInt(w.css("top"))/(b.outerHeight()-w.outerHeight()),r=g*(b[0].scrollHeight-b.outerHeight()),n&&(r=t,t=r/b[0].scrollHeight*b.outerHeight(),t=Math.min(Math.max(t,0),a),w.css({top:t+"px"})),b.scrollTop(r),b.trigger("slimscrolling",~~r),s(),l()}function o(){p=Math.max(b.outerHeight()/b[0].scrollHeight*b.outerHeight(),30),w.css({height:p+"px"});var t=p==b.outerHeight()?"none":"block";w.css({display:t})}function s(){o(),clearTimeout(c),g==~~g?(v=i.allowPageScroll,m!=g&&b.trigger("slimscroll",0==~~g?"top":"bottom")):v=!1,m=g,p>=b.outerHeight()?v=!0:(w.stop(!0,!0).fadeIn("fast"),i.railVisible&&x.stop(!0,!0).fadeIn("fast"))}function l(){i.alwaysVisible||(c=setTimeout(function(){i.disableFadeOut&&d||u||h||(w.fadeOut("slow"),x.fadeOut("slow"))},1e3))}var d,u,h,c,f,p,g,m,v=!1,b=e(this);if(b.parent().hasClass(i.wrapperClass)){var y=b.scrollTop(),w=b.closest("."+i.barClass),x=b.closest("."+i.railClass);if(o(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){b.parent().css("height","auto"),b.css("height","auto");var C=b.parent().parent().height();b.parent().css("height",C),b.css("height",C)}if("scrollTo"in n)y=parseInt(i.scrollTo);else if("scrollBy"in n)y+=parseInt(i.scrollBy);else if("destroy"in n)return w.remove(),x.remove(),void b.unwrap();a(y,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){i.height="auto"==i.height?b.parent().height():i.height,y=e("<div></div>").addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height}),b.css({overflow:"hidden",width:i.width,height:i.height});var x=e("<div></div>").addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),w=e("<div></div>").addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),C="right"==i.position?{right:i.distance}:{left:i.distance};x.css(C),w.css(C),b.wrap(y),b.parent().append(w),b.parent().append(x),i.railDraggable&&w.bind("mousedown",function(n){var i=e(document);return h=!0,t=parseFloat(w.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,w.css("top",currTop),a(0,w.position().top,!1)}),i.bind("mouseup.slimscroll",function(t){h=!1,l(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),x.hover(function(){s()},function(){l()}),w.hover(function(){u=!0},function(){u=!1}),b.hover(function(){d=!0,s(),l()},function(){d=!1,l()}),b.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(f=t.originalEvent.touches[0].pageY)}),b.bind("touchmove",function(t){v||t.originalEvent.preventDefault(),t.originalEvent.touches.length&&(a((f-t.originalEvent.touches[0].pageY)/i.touchScrollStep,!0),f=t.originalEvent.touches[0].pageY)}),o(),"bottom"===i.start?(w.css({top:b.outerHeight()-w.outerHeight()}),a(0,!0)):"top"!==i.start&&(a(e(i.start).position().top,null,!0),i.alwaysVisible||w.hide()),window.addEventListener?(this.addEventListener("DOMMouseScroll",r,!1),this.addEventListener("mousewheel",r,!1)):document.attachEvent("onmousewheel",r)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),function(){var t,e,n,i,r,a,o,s,l,d,u,h,c,f,p,g,m,v,b,y,w,x,C,T,S,D,k,_,E,R,F,A,M,I,O,U,N,P,B,z,V,L,j,H,q,K,$,J,W,Y=[].slice,G={}.hasOwnProperty,Z=function(t,e){function n(){this.constructor=t}for(var i in e)G.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},Q=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};for(w={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},E=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},F=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,y=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==F&&(F=function(t){return setTimeout(t,50)},y=function(t){return clearTimeout(t)}),M=function(t){var e,n;return e=E(),(n=function(){var i;return i=E()-e,i>=33?(e=E(),t(i,function(){return F(n)})):setTimeout(n,33-i)})()},A=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=3<=arguments.length?Y.call(arguments,2):[],"function"==typeof n[e]?n[e].apply(n,t):n[e]},x=function(){var t,e,n,i,r,a,o;for(e=arguments[0],i=2<=arguments.length?Y.call(arguments,1):[],a=0,o=i.length;o>a;a++)if(n=i[a])for(t in n)G.call(n,t)&&(r=n[t],null!=e[t]&&"object"==typeof e[t]&&null!=r&&"object"==typeof r?x(e[t],r):e[t]=r);return e},m=function(t){var e,n,i,r,a;for(n=e=0,r=0,a=t.length;a>r;r++)i=t[r],n+=Math.abs(i),e++;return n/e},T=function(t,e){var n,i,r;if(null==t&&(t="options"),null==e&&(e=!0),r=document.querySelector("[data-pace-"+t+"]")){if(n=r.getAttribute("data-pace-"+t),!e)return n;try{return JSON.parse(n)}catch(a){return i=a,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",i):void 0}}},o=function(){function t(){}return t.prototype.on=function(t,e,n,i){var r;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(r=this.bindings)[t]&&(r[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})},t.prototype.once=function(t,e,n){return this.on(t,e,n,!0)},t.prototype.off=function(t,e){var n,i,r;if(null!=(null!=(i=this.bindings)?i[t]:void 0)){if(null==e)return delete this.bindings[t];for(n=0,r=[];n<this.bindings[t].length;)r.push(this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):n++);return r}},t.prototype.trigger=function(){var t,e,n,i,r,a,o,s,l;if(n=arguments[0],t=2<=arguments.length?Y.call(arguments,1):[],null!=(o=this.bindings)?o[n]:void 0){for(r=0,l=[];r<this.bindings[n].length;)s=this.bindings[n][r],i=s.handler,e=s.ctx,a=s.once,i.apply(null!=e?e:this,t),l.push(a?this.bindings[n].splice(r,1):r++);return l}},t}(),d=window.Pace||{},window.Pace=d,x(d,o.prototype),R=d.options=x({},w,window.paceOptions,T()),$=["ajax","document","eventLag","elements"],j=0,q=$.length;q>j;j++)N=$[j],R[N]===!0&&(R[N]=w[N]);l=function(t){function e(){return J=e.__super__.constructor.apply(this,arguments)}return Z(e,t),e}(Error),e=function(){function t(){this.progress=0}return t.prototype.getElement=function(){var t;if(null==this.el){if(t=document.querySelector(R.target),!t)throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},t.prototype.finish=function(){var t;return t=this.getElement(),t.className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},t.prototype.update=function(t){return this.progress=t,this.render()},t.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){l=t}return this.el=void 0},t.prototype.render=function(){var t,e,n,i,r,a,o;if(null==document.querySelector(R.target))return!1;for(t=this.getElement(),i="translate3d("+this.progress+"%, 0, 0)",o=["webkitTransform","msTransform","transform"],r=0,a=o.length;a>r;r++)e=o[r],t.children[0].style[e]=i;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?n="99":(n=this.progress<10?"0":"",n+=0|this.progress),t.children[0].setAttribute("data-progress",""+n)),this.lastRenderedProgress=this.progress},t.prototype.done=function(){return this.progress>=100},t}(),s=function(){function t(){this.bindings={}}return t.prototype.trigger=function(t,e){var n,i,r,a,o;if(null!=this.bindings[t]){for(a=this.bindings[t],o=[],i=0,r=a.length;r>i;i++)n=a[i],o.push(n.call(this,e));return o}},t.prototype.on=function(t,e){var n;return null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push(e)},t}(),L=window.XMLHttpRequest,V=window.XDomainRequest,z=window.WebSocket,C=function(t,e){var n,i,r,a;a=[];for(i in e.prototype)try{r=e.prototype[i],a.push(null==t[i]&&"function"!=typeof r?t[i]=r:void 0)}catch(o){n=o}return a},k=[],d.ignore=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?Y.call(arguments,1):[],k.unshift("ignore"),n=e.apply(null,t),k.shift(),n},d.track=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?Y.call(arguments,1):[],k.unshift("track"),n=e.apply(null,t),k.shift(),n},U=function(t){var e;if(null==t&&(t="GET"),"track"===k[0])return"force";if(!k.length&&R.ajax){if("socket"===t&&R.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),Q.call(R.ajax.trackMethods,e)>=0)return!0}return!1},u=function(t){function e(){var t,n=this;e.__super__.constructor.apply(this,arguments),t=function(t){var e;return e=t.open,t.open=function(i,r){return U(i)&&n.trigger("request",{type:i,url:r,request:t}),e.apply(t,arguments)}},window.XMLHttpRequest=function(e){var n;return n=new L(e),t(n),n};try{C(window.XMLHttpRequest,L)}catch(i){}if(null!=V){window.XDomainRequest=function(){var e;return e=new V,t(e),e};try{C(window.XDomainRequest,V)}catch(i){}}if(null!=z&&R.ajax.trackWebSockets){window.WebSocket=function(t,e){var i;return i=null!=e?new z(t,e):new z(t),U("socket")&&n.trigger("request",{type:"socket",url:t,protocols:e,request:i}),i};try{C(window.WebSocket,z)}catch(i){}}}return Z(e,t),e}(s),H=null,S=function(){return null==H&&(H=new u),H},O=function(t){var e,n,i,r;for(r=R.ajax.ignoreURLs,n=0,i=r.length;i>n;n++)if(e=r[n],"string"==typeof e){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},S().on("request",function(e){var n,i,r,a,o;return a=e.type,r=e.request,o=e.url,O(o)?void 0:d.running||R.restartOnRequestAfter===!1&&"force"!==U(a)?void 0:(i=arguments,n=R.restartOnRequestAfter||0,"boolean"==typeof n&&(n=0),setTimeout(function(){var e,n,o,s,l,u;if(e="socket"===a?r.readyState<2:0<(s=r.readyState)&&4>s){for(d.restart(),l=d.sources,u=[],n=0,o=l.length;o>n;n++){if(N=l[n],N instanceof t){N.watch.apply(N,i);break}u.push(void 0)}return u}},n))}),t=function(){function t(){var t=this;this.elements=[],S().on("request",function(){return t.watch.apply(t,arguments)})}return t.prototype.watch=function(t){var e,n,i,r;return i=t.type,e=t.request,r=t.url,O(r)?void 0:(n="socket"===i?new f(e):new p(e),this.elements.push(n))},t}(),p=function(){function t(t){var e,n,i,r,a,o,s=this;if(this.progress=0,null!=window.ProgressEvent)for(n=null,t.addEventListener("progress",function(t){return s.progress=t.lengthComputable?100*t.loaded/t.total:s.progress+(100-s.progress)/2},!1),o=["load","abort","timeout","error"],i=0,r=o.length;r>i;i++)e=o[i],t.addEventListener(e,function(){return s.progress=100},!1);else a=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?s.progress=100:3===t.readyState&&(s.progress=50),"function"==typeof a?a.apply(null,arguments):void 0}}return t}(),f=function(){function t(t){var e,n,i,r,a=this;for(this.progress=0,r=["error","open"],n=0,i=r.length;i>n;n++)e=r[n],t.addEventListener(e,function(){return a.progress=100},!1)}return t}(),i=function(){function t(t){var e,n,i,a;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),a=t.selectors,n=0,i=a.length;i>n;n++)e=a[n],this.elements.push(new r(e))}return t}(),r=function(){function t(t){this.selector=t,this.progress=0,this.check()}return t.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},R.elements.checkInterval)},t.prototype.done=function(){return this.progress=100},t}(),n=function(){function t(){var t,e,n=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}return t.prototype.states={loading:0,interactive:50,complete:100},t}(),a=function(){function t(){var t,e,n,i,r,a=this;this.progress=0,t=0,r=[],i=0,n=E(),e=setInterval(function(){var o;return o=E()-n-50,n=E(),r.push(o),r.length>R.eventLag.sampleCount&&r.shift(),t=m(r),++i>=R.eventLag.minSamples&&t<R.eventLag.lagThreshold?(a.progress=100,clearInterval(e)):a.progress=100*(3/(t+3))},50)}return t}(),c=function(){function t(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=R.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=A(this.source,"progress"))}return t.prototype.tick=function(t,e){var n;return null==e&&(e=A(this.source,"progress")),e>=100&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/R.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),n=1-Math.pow(this.progress/100,R.easeFactor),this.progress+=n*this.rate*t,this.progress=Math.min(this.lastProgress+R.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},t}(),P=null,I=null,v=null,B=null,g=null,b=null,d.running=!1,D=function(){return R.restartOnPushState?d.restart():void 0},null!=window.history.pushState&&(K=window.history.pushState,window.history.pushState=function(){return D(),K.apply(window.history,arguments)}),null!=window.history.replaceState&&(W=window.history.replaceState,window.history.replaceState=function(){return D(),W.apply(window.history,arguments)}),h={ajax:t,elements:i,document:n,eventLag:a},(_=function(){var t,n,i,r,a,o,s,l;for(d.sources=P=[],o=["ajax","elements","document","eventLag"],n=0,r=o.length;r>n;n++)t=o[n],R[t]!==!1&&P.push(new h[t](R[t]));for(l=null!=(s=R.extraSources)?s:[],i=0,a=l.length;a>i;i++)N=l[i],P.push(new N(R));return d.bar=v=new e,I=[],B=new c})(),d.stop=function(){return d.trigger("stop"),d.running=!1,v.destroy(),b=!0,null!=g&&("function"==typeof y&&y(g),g=null),_()},d.restart=function(){return d.trigger("restart"),d.stop(),d.start()},d.go=function(){var t;return d.running=!0,v.render(),t=E(),b=!1,g=M(function(e,n){var i,r,a,o,s,l,u,h,f,p,g,m,y,w,x,C;for(h=100-v.progress,r=g=0,a=!0,l=m=0,w=P.length;w>m;l=++m)for(N=P[l],p=null!=I[l]?I[l]:I[l]=[],s=null!=(C=N.elements)?C:[N],u=y=0,x=s.length;x>y;u=++y)o=s[u],f=null!=p[u]?p[u]:p[u]=new c(o),a&=f.done,f.done||(r++,g+=f.tick(e));return i=g/r,v.update(B.tick(e,i)),v.done()||a||b?(v.update(100),d.trigger("done"),setTimeout(function(){return v.finish(),d.running=!1,d.trigger("hide")},Math.max(R.ghostTime,Math.max(R.minTime-(E()-t),0)))):n()})},d.start=function(t){x(R,t),d.running=!0;try{v.render()}catch(e){l=e}return document.querySelector(".pace")?(d.trigger("start"),d.go()):setTimeout(d.start,50)},"function"==typeof define&&define.amd?define(function(){return d}):"object"==typeof exports?module.exports=d:R.startOnPageLoad&&d.start()}.call(this),function(t,e){function n(){var t=this;t.id=null,t.busy=!1,t.start=function(e,n){t.busy||(t.stop(),t.id=setTimeout(function(){e(),t.id=null,t.busy=!1},n),t.busy=!0)},t.stop=function(){null!==t.id&&(clearTimeout(t.id),t.id=null,t.busy=!1)}}function i(i,r,a){var o=this;o.id=a,o.table=i,o.options=r,o.breakpoints=[],o.breakpointNames="",o.columns={},o.plugins=e.footable.plugins.load(o);var s=o.options,l=s.classes,d=s.events,u=s.triggers,h=0;return o.timers={resize:new n,register:function(t){return o.timers[t]=new n,o.timers[t]}},o.init=function(){var n=t(e),i=t(o.table);if(e.footable.plugins.init(o),i.hasClass(l.loaded))return void o.raise(d.alreadyInitialized);o.raise(d.initializing),i.addClass(l.loading),i.find(s.columnDataSelector).each(function(){var t=o.getColumnData(this);o.columns[t.index]=t});for(var r in s.breakpoints)o.breakpoints.push({name:r,width:s.breakpoints[r]}),o.breakpointNames+=r+" ";o.breakpoints.sort(function(t,e){return t.width-e.width}),i.unbind(u.initialize).bind(u.initialize,function(){i.removeData("footable_info"),i.data("breakpoint",""),i.trigger(u.resize),i.removeClass(l.loading),i.addClass(l.loaded).addClass(l.main),o.raise(d.initialized)}).unbind(u.redraw).bind(u.redraw,function(){o.redraw()}).unbind(u.resize).bind(u.resize,function(){o.resize()}).unbind(u.expandFirstRow).bind(u.expandFirstRow,function(){i.find(s.toggleSelector).first().not("."+l.detailShow).trigger(u.toggleRow)}).unbind(u.expandAll).bind(u.expandAll,function(){i.find(s.toggleSelector).not("."+l.detailShow).trigger(u.toggleRow)}).unbind(u.collapseAll).bind(u.collapseAll,function(){i.find("."+l.detailShow).trigger(u.toggleRow)}),i.trigger(u.initialize),n.bind("resize.footable",function(){o.timers.resize.stop(),o.timers.resize.start(function(){o.raise(u.resize)},s.delay)})},o.addRowToggle=function(){if(s.addRowToggle){var e=t(o.table),n=!1;e.find("span."+l.toggle).remove();for(var i in o.columns){var r=o.columns[i];if(r.toggle){n=!0;var a="> tbody > tr:not(."+l.detail+",."+l.disabled+") > td:nth-child("+(parseInt(r.index,10)+1)+"),> tbody > tr:not(."+l.detail+",."+l.disabled+") > th:nth-child("+(parseInt(r.index,10)+1)+")";return void e.find(a).not("."+l.detailCell).prepend(t(s.toggleHTMLElement).addClass(l.toggle))}}n||e.find("> tbody > tr:not(."+l.detail+",."+l.disabled+") > td:first-child").add("> tbody > tr:not(."+l.detail+",."+l.disabled+") > th:first-child").not("."+l.detailCell).prepend(t(s.toggleHTMLElement).addClass(l.toggle))}},o.setColumnClasses=function(){var e=t(o.table);for(var n in o.columns){var i=o.columns[n];if(null!==i.className){var r="",a=!0;t.each(i.matches,function(t,e){a||(r+=", "),r+="> tbody > tr:not(."+l.detail+") > td:nth-child("+(parseInt(e,10)+1)+")",a=!1}),e.find(r).not("."+l.detailCell).addClass(i.className)}}},o.bindToggleSelectors=function(){var e=t(o.table);o.hasAnyBreakpointColumn()&&(e.find(s.toggleSelector).unbind(u.toggleRow).bind(u.toggleRow,function(){var e=t(this).is("tr")?t(this):t(this).parents("tr:first");o.toggleDetail(e)}),e.find(s.toggleSelector).unbind("click.footable").bind("click.footable",function(n){e.is(".breakpoint")&&t(n.target).is("td,th,."+l.toggle)&&t(this).trigger(u.toggleRow)}))},o.parse=function(t,e){var n=s.parsers[e.type]||s.parsers.alpha;return n(t)},o.getColumnData=function(e){var n=t(e),i=n.data("hide"),r=n.index();i=i||"",i=jQuery.map(i.split(","),function(t){return jQuery.trim(t)});var a={index:r,hide:{},type:n.data("type")||"alpha",name:n.data("name")||t.trim(n.text()),ignore:n.data("ignore")||!1,toggle:n.data("toggle")||!1,className:n.data("class")||null,matches:[],names:{},group:n.data("group")||null,groupName:null,isEditable:n.data("editable")};if(null!==a.group){var l=t(o.table).find('> thead > tr.footable-group-row > th[data-group="'+a.group+'"], > thead > tr.footable-group-row > td[data-group="'+a.group+'"]').first();a.groupName=o.parse(l,{type:"alpha"})}var u=parseInt(n.prev().attr("colspan")||0,10);h+=u>1?u-1:0;var c=parseInt(n.attr("colspan")||0,10),f=a.index+h;if(c>1){var p=n.data("names");p=p||"",p=p.split(",");for(var g=0;c>g;g++)a.matches.push(g+f),p.length>g&&(a.names[g+f]=p[g])}else a.matches.push(f);a.hide["default"]="all"===n.data("hide")||t.inArray("default",i)>=0;var m=!1;for(var v in s.breakpoints)a.hide[v]="all"===n.data("hide")||t.inArray(v,i)>=0,m=m||a.hide[v];a.hasBreakpoint=m;var b=o.raise(d.columnData,{column:{data:a,th:e}});return b.column.data},o.getViewportWidth=function(){return window.innerWidth||(document.body?document.body.offsetWidth:0)},o.calculateWidth=function(t,e){return jQuery.isFunction(s.calculateWidthOverride)?s.calculateWidthOverride(t,e):(e.viewportWidth<e.width&&(e.width=e.viewportWidth),e.parentWidth<e.width&&(e.width=e.parentWidth),e)},o.hasBreakpointColumn=function(t){for(var e in o.columns)if(o.columns[e].hide[t]){if(o.columns[e].ignore)continue;return!0}return!1},o.hasAnyBreakpointColumn=function(){for(var t in o.columns)if(o.columns[t].hasBreakpoint)return!0;return!1},o.resize=function(){var e=t(o.table);if(e.is(":visible")){if(!o.hasAnyBreakpointColumn())return void e.trigger(u.redraw);var n={width:e.width(),viewportWidth:o.getViewportWidth(),parentWidth:e.parent().width()};n=o.calculateWidth(e,n);var i=e.data("footable_info");if(e.data("footable_info",n),o.raise(d.resizing,{old:i,info:n}),!i||i&&i.width&&i.width!==n.width){for(var r,a=null,s=0;o.breakpoints.length>s;s++)if(r=o.breakpoints[s],r&&r.width&&n.width<=r.width){a=r;break}var l=null===a?"default":a.name,h=o.hasBreakpointColumn(l),c=e.data("breakpoint");e.data("breakpoint",l).removeClass("default breakpoint").removeClass(o.breakpointNames).addClass(l+(h?" breakpoint":"")),l!==c&&(e.trigger(u.redraw),o.raise(d.breakpoint,{breakpoint:l,info:n}))}o.raise(d.resized,{old:i,info:n})}},o.redraw=function(){o.addRowToggle(),o.bindToggleSelectors(),o.setColumnClasses();
var e=t(o.table),n=e.data("breakpoint"),i=o.hasBreakpointColumn(n);e.find("> tbody > tr:not(."+l.detail+")").data("detail_created",!1).end().find("> thead > tr:last-child > th").each(function(){var i=o.columns[t(this).index()],r="",a=!0;t.each(i.matches,function(t,e){a||(r+=", ");var n=e+1;r+="> tbody > tr:not(."+l.detail+") > td:nth-child("+n+")",r+=", > tfoot > tr:not(."+l.detail+") > td:nth-child("+n+")",r+=", > colgroup > col:nth-child("+n+")",a=!1}),r+=', > thead > tr[data-group-row="true"] > th[data-group="'+i.group+'"]';var s=e.find(r).add(this);if(""!==n&&(i.hide[n]===!1?s.addClass("footable-visible").show():s.removeClass("footable-visible").hide()),1===e.find("> thead > tr.footable-group-row").length){var d=e.find('> thead > tr:last-child > th[data-group="'+i.group+'"]:visible, > thead > tr:last-child > th[data-group="'+i.group+'"]:visible'),u=e.find('> thead > tr.footable-group-row > th[data-group="'+i.group+'"], > thead > tr.footable-group-row > td[data-group="'+i.group+'"]'),h=0;t.each(d,function(){h+=parseInt(t(this).attr("colspan")||1,10)}),h>0?u.attr("colspan",h).show():u.hide()}}).end().find("> tbody > tr."+l.detailShow).each(function(){o.createOrUpdateDetailRow(this)}),e.find("[data-bind-name]").each(function(){o.toggleInput(this)}),e.find("> tbody > tr."+l.detailShow+":visible").each(function(){var e=t(this).next();e.hasClass(l.detail)&&(i?e.show():e.hide())}),e.find("> thead > tr > th.footable-last-column, > tbody > tr > td.footable-last-column").removeClass("footable-last-column"),e.find("> thead > tr > th.footable-first-column, > tbody > tr > td.footable-first-column").removeClass("footable-first-column"),e.find("> thead > tr, > tbody > tr").find("> th.footable-visible:last, > td.footable-visible:last").addClass("footable-last-column").end().find("> th.footable-visible:first, > td.footable-visible:first").addClass("footable-first-column"),o.raise(d.redrawn)},o.toggleDetail=function(e){var n=e.jquery?e:t(e),i=n.next();n.hasClass(l.detailShow)?(n.removeClass(l.detailShow),i.hasClass(l.detail)&&i.hide(),o.raise(d.rowCollapsed,{row:n[0]})):(o.createOrUpdateDetailRow(n[0]),n.addClass(l.detailShow).next().show(),o.raise(d.rowExpanded,{row:n[0]}))},o.removeRow=function(e){var n=e.jquery?e:t(e);n.hasClass(l.detail)&&(n=n.prev());var i=n.next();n.data("detail_created")===!0&&i.remove(),n.remove(),o.raise(d.rowRemoved)},o.appendRow=function(e){var n=e.jquery?e:t(e);t(o.table).find("tbody").append(n),o.redraw()},o.getColumnFromTdIndex=function(e){var n=null;for(var i in o.columns)if(t.inArray(e,o.columns[i].matches)>=0){n=o.columns[i];break}return n},o.createOrUpdateDetailRow=function(e){var n,i=t(e),r=i.next(),a=[];if(i.data("detail_created")===!0)return!0;if(i.is(":hidden"))return!1;if(o.raise(d.rowDetailUpdating,{row:i,detail:r}),i.find("> td:hidden").each(function(){var e=t(this).index(),n=o.getColumnFromTdIndex(e),i=n.name;if(n.ignore===!0)return!0;e in n.names&&(i=n.names[e]);var r=t(this).attr("data-bind-name");if(null!=r&&t(this).is(":empty")){var s=t("."+l.detailInnerValue+'[data-bind-value="'+r+'"]');t(this).html(t(s).contents().detach())}var d;return n.isEditable!==!1&&(n.isEditable||t(this).find(":input").length>0)&&(null==r&&(r="bind-"+t.now()+"-"+e,t(this).attr("data-bind-name",r)),d=t(this).contents().detach()),d||(d=t(this).contents().clone(!0,!0)),a.push({name:i,value:o.parse(this,n),display:d,group:n.group,groupName:n.groupName,bindName:r}),!0}),0===a.length)return!1;var u=i.find("> td:visible").length,h=r.hasClass(l.detail);return h||(r=t('<tr class="'+l.detail+'"><td class="'+l.detailCell+'"><div class="'+l.detailInner+'"></div></td></tr>'),i.after(r)),r.find("> td:first").attr("colspan",u),n=r.find("."+l.detailInner).empty(),s.createDetail(n,a,s.createGroupedDetail,s.detailSeparator,l),i.data("detail_created",!0),o.raise(d.rowDetailUpdated,{row:i,detail:r}),!h},o.raise=function(e,n){o.options.debug===!0&&t.isFunction(o.options.log)&&o.options.log(e,"event"),n=n||{};var i={ft:o};t.extend(!0,i,n);var r=t.Event(e,i);return r.ft||t.extend(!0,r,i),t(o.table).trigger(r),r},o.reset=function(){var e=t(o.table);e.removeData("footable_info").data("breakpoint","").removeClass(l.loading).removeClass(l.loaded),e.find(s.toggleSelector).unbind(u.toggleRow).unbind("click.footable"),e.find("> tbody > tr").removeClass(l.detailShow),e.find("> tbody > tr."+l.detail).remove(),o.raise(d.reset)},o.toggleInput=function(e){var n=t(e).attr("data-bind-name");if(null!=n){var i=t("."+l.detailInnerValue+'[data-bind-value="'+n+'"]');null!=i&&(t(e).is(":visible")?t(i).is(":empty")||t(e).html(t(i).contents().detach()):t(e).is(":empty")||t(i).html(t(e).contents().detach()))}},o.init(),o}e.footable={options:{delay:100,breakpoints:{phone:480,tablet:1024},parsers:{alpha:function(e){return t(e).data("value")||t.trim(t(e).text())},numeric:function(e){var n=t(e).data("value")||t(e).text().replace(/[^0-9.\-]/g,"");return n=parseFloat(n),isNaN(n)&&(n=0),n}},addRowToggle:!0,calculateWidthOverride:null,toggleSelector:" > tbody > tr:not(.footable-row-detail)",columnDataSelector:"> thead > tr:last-child > th, > thead > tr:last-child > td",detailSeparator:":",toggleHTMLElement:"<span />",createGroupedDetail:function(t){for(var e={_none:{name:null,data:[]}},n=0;t.length>n;n++){var i=t[n].group;null!==i?(i in e||(e[i]={name:t[n].groupName||t[n].group,data:[]}),e[i].data.push(t[n])):e._none.data.push(t[n])}return e},createDetail:function(e,n,i,r,a){var o=i(n);for(var s in o)if(0!==o[s].data.length){"_none"!==s&&e.append('<div class="'+a.detailInnerGroup+'">'+o[s].name+"</div>");for(var l=0;o[s].data.length>l;l++){var d=o[s].data[l].name?r:"";e.append(t("<div></div>").addClass(a.detailInnerRow).append(t("<div></div>").addClass(a.detailInnerName).append(o[s].data[l].name+d)).append(t("<div></div>").addClass(a.detailInnerValue).attr("data-bind-value",o[s].data[l].bindName).append(o[s].data[l].display)))}}},classes:{main:"footable",loading:"footable-loading",loaded:"footable-loaded",toggle:"footable-toggle",disabled:"footable-disabled",detail:"footable-row-detail",detailCell:"footable-row-detail-cell",detailInner:"footable-row-detail-inner",detailInnerRow:"footable-row-detail-row",detailInnerGroup:"footable-row-detail-group",detailInnerName:"footable-row-detail-name",detailInnerValue:"footable-row-detail-value",detailShow:"footable-detail-show"},triggers:{initialize:"footable_initialize",resize:"footable_resize",redraw:"footable_redraw",toggleRow:"footable_toggle_row",expandFirstRow:"footable_expand_first_row",expandAll:"footable_expand_all",collapseAll:"footable_collapse_all"},events:{alreadyInitialized:"footable_already_initialized",initializing:"footable_initializing",initialized:"footable_initialized",resizing:"footable_resizing",resized:"footable_resized",redrawn:"footable_redrawn",breakpoint:"footable_breakpoint",columnData:"footable_column_data",rowDetailUpdating:"footable_row_detail_updating",rowDetailUpdated:"footable_row_detail_updated",rowCollapsed:"footable_row_collapsed",rowExpanded:"footable_row_expanded",rowRemoved:"footable_row_removed",reset:"footable_reset"},debug:!1,log:null},version:{major:0,minor:5,toString:function(){return e.footable.version.major+"."+e.footable.version.minor},parse:function(t){var e=/(\d+)\.?(\d+)?\.?(\d+)?/.exec(t);return{major:parseInt(e[1],10)||0,minor:parseInt(e[2],10)||0,patch:parseInt(e[3],10)||0}}},plugins:{_validate:function(n){if(!t.isFunction(n))return e.footable.options.debug===!0&&console.error('Validation failed, expected type "function", received type "{0}".',typeof n),!1;var i=new n;return"string"!=typeof i.name?(e.footable.options.debug===!0&&console.error('Validation failed, plugin does not implement a string property called "name".',i),!1):t.isFunction(i.init)?(e.footable.options.debug===!0&&console.log('Validation succeeded for plugin "'+i.name+'".',i),!0):(e.footable.options.debug===!0&&console.error('Validation failed, plugin "'+i.name+'" does not implement a function called "init".',i),!1)},registered:[],register:function(n,i){e.footable.plugins._validate(n)&&(e.footable.plugins.registered.push(n),"object"==typeof i&&t.extend(!0,e.footable.options,i))},load:function(t){var n,i,r=[];for(i=0;e.footable.plugins.registered.length>i;i++)try{n=e.footable.plugins.registered[i],r.push(new n(t))}catch(a){e.footable.options.debug===!0&&console.error(a)}return r},init:function(t){for(var n=0;t.plugins.length>n;n++)try{t.plugins[n].init(t)}catch(i){e.footable.options.debug===!0&&console.error(i)}}}};var r=0;t.fn.footable=function(n){n=n||{};var a=t.extend(!0,{},e.footable.options,n);return this.each(function(){r++;var e=new i(this,a,r);t(this).data("footable",e)})}}(jQuery,window),function(t,e,n){function i(e){var n=t("<th>"+e.title+"</th>");return t.isPlainObject(e.data)&&n.data(e.data),t.isPlainObject(e.style)&&n.css(e.style),e.className&&n.addClass(e.className),n}function r(e,n){var r=e.find("thead");0===r.size()&&(r=t("<thead>").appendTo(e));for(var a=t("<tr>").appendTo(r),o=0,s=n.cols.length;s>o;o++)a.append(i(n.cols[o]))}function a(e){var n=e.find("tbody");0===n.size()&&(n=t("<tbody>").appendTo(e))}function o(e,n,i){if(i){e.attr("data-page-size",i["page-size"]);var r=e.find("tfoot");0===r.size()&&(r=t('<tfoot class="hide-if-no-paging"></tfoot>').appendTo(e)),r.append("<tr><td colspan="+n.length+"></td></tr>");var a=t("<div>").appendTo(r.find("tr:last-child td"));a.addClass(i["pagination-class"])}}function s(e){for(var n=e[0],i=0,r=e.length;r>i;i++){var a=e[i];if(a.data&&(a.data.toggle===!0||"true"===a.data.toggle))return}n.data=t.extend(n.data,{toggle:!0})}function l(t,e,n){0===t.find("tr.emptyInfo").size()&&t.find("tbody").append('<tr class="emptyInfo"><td colspan="'+e.length+'">'+n+"</td></tr>")}function d(e,n,i,r){e.find("tr:not(."+i+")").each(function(){var e=t(this),i=n.data("index"),a=parseInt(e.data("index"),0),o=a+r;a>=i&&this!==n.get(0)&&e.attr("data-index",o).data("index",o)})}function u(){function e(e,n,i){var r=t("<td>");return e.formatter?r.html(e.formatter(n,r,i)):r.html(n||""),r}var i=this;i.name="Footable Grid",i.init=function(e){var d=e.options.classes.toggle,u=e.options.classes.detail,h=e.options.grid;if(h.cols){i.footable=e;var c=t(e.table);c.data("grid",i),t.isPlainObject(h.data)&&c.data(h.data),i._items=[],s(h.cols),h.showCheckbox&&(h.multiSelect=!0,h.cols.unshift({title:h.checkboxFormatter(!0),name:"",data:{"sort-ignore":!0},formatter:h.checkboxFormatter})),h.showIndex&&h.cols.unshift({title:"#",name:"index",data:{"sort-ignore":!0},formatter:h.indexFormatter}),r(c,h),a(c),o(c,h.cols,h.pagination),c.off(".grid").on({"footable_initialized.grid":function(){h.url||h.ajax?t.ajax(h.ajax||{url:h.url}).then(function(t){i.newItem(t),e.raise(h.events.loaded)},function(){throw"load data from "+(h.url||h.ajax.url)+" fail"}):(i.newItem(h.items||[]),e.raise(h.events.loaded))},"footable_sorted.grid footable_grid_created.grid footable_grid_removed.grid":function(){h.showIndex&&i.getItem().length>0&&c.find("tbody tr:not(."+u+")").each(function(e){var n=t(this).find("td:first");n.html(h.indexFormatter(null,n,e))})},"footable_redrawn.grid footable_row_removed.grid":function(){0===i.getItem().length&&h.showEmptyInfo&&l(c,h.cols,h.emptyInfo)}}).on({"click.grid":function(i){if(t(i.target).closest("td").find(">."+d).size()>0)return!0;var r=t(i.currentTarget);return r.hasClass(u)?!0:(h.multiSelect||r.hasClass(h.activeClass)||c.find("tbody tr."+h.activeClass).removeClass(h.activeClass),r.toggleClass(h.activeClass),h.showCheckbox&&r.find("input:checkbox.check").prop("checked",function(t,e){return i.target===this?e:!e}),e.toggleDetail(r),n)}},"tbody tr").on("click.grid","thead input:checkbox.checkAll",function(t){var e=!!t.currentTarget.checked;e?c.find("tbody tr").addClass(h.activeClass):c.find("tbody tr").removeClass(h.activeClass),c.find("tbody input:checkbox.check").prop("checked",e)})}},i.getSelected=function(){var e=i.footable.options.grid,n=t(i.footable.table).find("tbody>tr."+e.activeClass);return n.map(function(){return t(this).data("index")})},i.getItem=function(e){return e!==n?t.isArray(e)?t.map(e,function(t){return i._items[t]}):i._items[e]:i._items},i._makeRow=function(n,r){var a,o=i.footable.options.grid;if(t.isFunction(o.template))a=t(o.template(t.extend({},{__index:r},n)));else{a=t("<tr>");for(var s=0,l=o.cols.length;l>s;s++){var d=o.cols[s];a.append(e(d,n[d.name]||"",r))}}return a.attr("data-index",r),a},i.newItem=function(e,r,a){var o=t(i.footable.table).find("tbody"),s=i.footable.options.classes.detail;if(o.find("tr.emptyInfo").remove(),t.isArray(e)){for(var l;l=e.pop();)i.newItem(l,r,!0);return i.footable.redraw(),i.footable.raise(i.footable.options.grid.events.created,{item:e,index:r}),n}if(t.isPlainObject(e)){var u,h=i._items.length;if(r===n||0>r||r>h)u=i._makeRow(e,h++),i._items.push(e),o.append(u);else{if(u=i._makeRow(e,r),0===r)i._items.unshift(e),o.prepend(u);else{var c=o.find("tr[data-index="+(r-1)+"]");i._items.splice(r,0,e),c.data("detail_created")===!0&&(c=c.next()),c.after(u)}d(o,u,s,1)}a||(i.footable.redraw(),i.footable.raise(i.footable.options.grid.events.created,{item:e,index:r}))}},i.setItem=function(e,n){if(t.isPlainObject(e)){var r=t(i.footable.table).find("tbody"),a=i._makeRow(e,n);t.extend(i._items[n],e);var o=r.find("tr").eq(n);o.html(a.html()),i.footable.redraw(),i.footable.raise(i.footable.options.grid.events.updated,{item:e,index:n})}},i.removeItem=function(e){var r=t(i.footable.table).find("tbody"),a=i.footable.options.classes.detail,o=[];if(t.isArray(e)){for(var s;s=e.pop();)o.push(i.removeItem(s));return i.footable.raise(i.footable.options.grid.events.removed,{item:o,index:e}),o}if(e===n)r.find("tr").each(function(){o.push(i._items.shift()),i.footable.removeRow(this)});else{var l=r.find("tr[data-index="+e+"]");o=i._items.splice(e,1)[0],i.footable.removeRow(l),d(r,l,a,-1)}return i.footable.raise(i.footable.options.grid.events.removed,{item:o,index:e}),o}}if(e.footable===n||null===e.foobox)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var h={grid:{enabled:!0,data:null,template:null,cols:null,items:null,url:null,ajax:null,activeClass:"active",multiSelect:!1,showIndex:!1,showCheckbox:!1,showEmptyInfo:!1,emptyInfo:'<p class="text-center text-warning">No Data</p>',pagination:{"page-size":20,"pagination-class":"pagination pagination-centered"},indexFormatter:function(t,e,n){return n+1},checkboxFormatter:function(t){return'<input type="checkbox" class="'+(t?"checkAll":"check")+'">'},events:{loaded:"footable_grid_loaded",created:"footable_grid_created",removed:"footable_grid_removed",updated:"footable_grid_updated"}}};e.footable.plugins.register(u,h)}(jQuery,window),function(t,e,n){function i(){var e=this;e.name="Footable Filter",e.init=function(n){if(e.footable=n,n.options.filter.enabled===!0){if(t(n.table).data("filter")===!1)return;n.timers.register("filter"),t(n.table).unbind(".filtering").bind({"footable_initialized.filtering":function(){var i=t(n.table),r={input:i.data("filter")||n.options.filter.input,timeout:i.data("filter-timeout")||n.options.filter.timeout,minimum:i.data("filter-minimum")||n.options.filter.minimum,disableEnter:i.data("filter-disable-enter")||n.options.filter.disableEnter};r.disableEnter&&t(r.input).keypress(function(t){return window.event?13!==window.event.keyCode:13!==t.which}),i.bind("footable_clear_filter",function(){t(r.input).val(""),e.clearFilter()}),i.bind("footable_filter",function(t,n){e.filter(n.filter)}),t(r.input).keyup(function(i){n.timers.filter.stop(),27===i.which&&t(r.input).val(""),n.timers.filter.start(function(){var n=t(r.input).val()||"";e.filter(n)},r.timeout)})},"footable_redrawn.filtering":function(){var i=t(n.table),r=i.data("filter-string");r&&e.filter(r)}}).data("footable-filter",e)}},e.filter=function(n){var i=e.footable,r=t(i.table),a=r.data("filter-minimum")||i.options.filter.minimum,o=!n,s=i.raise("footable_filtering",{filter:n,clear:o});if(!(s&&s.result===!1||s.filter&&a>s.filter.length))if(s.clear)e.clearFilter();else{var l=s.filter.split(" ");r.find("> tbody > tr").hide().addClass("footable-filtered");var d=r.find("> tbody > tr:not(.footable-row-detail)");t.each(l,function(t,e){e&&e.length>0&&(r.data("current-filter",e),d=d.filter(i.options.filter.filterFunction))}),d.each(function(){e.showRow(this,i),t(this).removeClass("footable-filtered")}),r.data("filter-string",s.filter),i.raise("footable_filtered",{filter:s.filter,clear:!1})}},e.clearFilter=function(){var n=e.footable,i=t(n.table);i.find("> tbody > tr:not(.footable-row-detail)").removeClass("footable-filtered").each(function(){e.showRow(this,n)}),i.removeData("filter-string"),n.raise("footable_filtered",{clear:!0})},e.showRow=function(e,n){var i=t(e),r=i.next(),a=t(n.table);i.is(":visible")||(a.hasClass("breakpoint")&&i.hasClass("footable-detail-show")&&r.hasClass("footable-row-detail")?(i.add(r).show(),n.createOrUpdateDetailRow(e)):i.show())}}if(e.footable===n||null===e.footable)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var r={filter:{enabled:!0,input:".footable-filter",timeout:300,minimum:2,disableEnter:!1,filterFunction:function(){var e=t(this),n=e.parents("table:first"),i=n.data("current-filter").toUpperCase(),r=e.find("td").text();return n.data("filter-text-only")||e.find("td[data-value]").each(function(){r+=t(this).data("value")}),r.toUpperCase().indexOf(i)>=0}}};e.footable.plugins.register(i,r)}(jQuery,window),function(t,e,n){function i(e){var n=t(e.table),i=n.data();this.pageNavigation=i.pageNavigation||e.options.pageNavigation,this.pageSize=i.pageSize||e.options.pageSize,this.firstText=i.firstText||e.options.firstText,this.previousText=i.previousText||e.options.previousText,this.nextText=i.nextText||e.options.nextText,this.lastText=i.lastText||e.options.lastText,this.limitNavigation=parseInt(i.limitNavigation||e.options.limitNavigation||a.limitNavigation,10),this.limitPreviousText=i.limitPreviousText||e.options.limitPreviousText,this.limitNextText=i.limitNextText||e.options.limitNextText,this.limit=this.limitNavigation>0,this.currentPage=i.currentPage||0,this.pages=[],this.control=!1}function r(){var e=this;e.name="Footable Paginate",e.init=function(n){if(n.options.paginate===!0){if(t(n.table).data("page")===!1)return;e.footable=n,t(n.table).unbind(".paging").bind({"footable_initialized.paging footable_row_removed.paging footable_redrawn.paging footable_sorted.paging footable_filtered.paging":function(){e.setupPaging()}}).data("footable-paging",e)}},e.setupPaging=function(){var n=e.footable,r=t(n.table).find("> tbody");n.pageInfo=new i(n),e.createPages(n,r),e.createNavigation(n,r),e.fillPage(n,r,n.pageInfo.currentPage)},e.createPages=function(e,n){var i=1,r=e.pageInfo,a=i*r.pageSize,o=[],s=[];r.pages=[];var l=n.find("> tr:not(.footable-filtered,.footable-row-detail)");l.each(function(t,e){o.push(e),t===a-1?(r.pages.push(o),i++,a=i*r.pageSize,o=[]):t>=l.length-l.length%r.pageSize&&s.push(e)}),s.length>0&&r.pages.push(s),r.currentPage>=r.pages.length&&(r.currentPage=r.pages.length-1),0>r.currentPage&&(r.currentPage=0),1===r.pages.length?t(e.table).addClass("no-paging"):t(e.table).removeClass("no-paging")},e.createNavigation=function(n){var i=t(n.table).find(n.pageInfo.pageNavigation);if(0===i.length){if(i=t(n.pageInfo.pageNavigation),i.parents("table:first").length>0&&i.parents("table:first")!==t(n.table))return;i.length>1&&n.options.debug===!0&&console.error("More than one pagination control was found!")}if(0!==i.length){i.is("ul")||(0===i.find("ul:first").length&&i.append("<ul />"),i=i.find("ul")),i.find("li").remove();var r=n.pageInfo;r.control=i,r.pages.length>0&&(i.append('<li class="footable-page-arrow"><a data-page="first" href="#first">'+n.pageInfo.firstText+"</a>"),i.append('<li class="footable-page-arrow"><a data-page="prev" href="#prev">'+n.pageInfo.previousText+"</a></li>"),r.limit&&i.append('<li class="footable-page-arrow"><a data-page="limit-prev" href="#limit-prev">'+n.pageInfo.limitPreviousText+"</a></li>"),r.limit||t.each(r.pages,function(t,e){e.length>0&&i.append('<li class="footable-page"><a data-page="'+t+'" href="#">'+(t+1)+"</a></li>")}),r.limit&&(i.append('<li class="footable-page-arrow"><a data-page="limit-next" href="#limit-next">'+n.pageInfo.limitNextText+"</a></li>"),e.createLimited(i,r,0)),i.append('<li class="footable-page-arrow"><a data-page="next" href="#next">'+n.pageInfo.nextText+"</a></li>"),i.append('<li class="footable-page-arrow"><a data-page="last" href="#last">'+n.pageInfo.lastText+"</a></li>")),i.off("click","a[data-page]").on("click","a[data-page]",function(a){a.preventDefault();var o=t(this).data("page"),s=r.currentPage;if("first"===o)s=0;else if("prev"===o)s>0&&s--;else if("next"===o)r.pages.length-1>s&&s++;else if("last"===o)s=r.pages.length-1;else if("limit-prev"===o){s=-1;var l=i.find(".footable-page:first a").data("page");e.createLimited(i,r,l-r.limitNavigation),e.setPagingClasses(i,r.currentPage,r.pages.length)}else if("limit-next"===o){s=-1;var d=i.find(".footable-page:last a").data("page");e.createLimited(i,r,d+1),e.setPagingClasses(i,r.currentPage,r.pages.length)}else s=o;if(s>=0){if(r.limit&&r.currentPage!=s){for(var u=s;0!==u%r.limitNavigation;)u-=1;e.createLimited(i,r,u)}e.paginate(n,s)}}),e.setPagingClasses(i,r.currentPage,r.pages.length)}},e.createLimited=function(t,e,n){n=n||0,t.find("li.footable-page").remove();var i,r,a=t.find('li.footable-page-arrow > a[data-page="limit-prev"]').parent(),o=t.find('li.footable-page-arrow > a[data-page="limit-next"]').parent();for(i=e.pages.length-1;i>=0;i--)r=e.pages[i],i>=n&&n+e.limitNavigation>i&&r.length>0&&a.after('<li class="footable-page"><a data-page="'+i+'" href="#">'+(i+1)+"</a></li>");0===n?a.hide():a.show(),n+e.limitNavigation>=e.pages.length?o.hide():o.show()},e.paginate=function(n,i){var r=n.pageInfo;if(r.currentPage!==i){var a=t(n.table).find("> tbody"),o=n.raise("footable_paging",{page:i,size:r.pageSize});if(o&&o.result===!1)return;e.fillPage(n,a,i),r.control.find("li").removeClass("active disabled"),e.setPagingClasses(r.control,r.currentPage,r.pages.length)}},e.setPagingClasses=function(t,e,n){t.find("li.footable-page > a[data-page="+e+"]").parent().addClass("active"),e>=n-1&&(t.find('li.footable-page-arrow > a[data-page="next"]').parent().addClass("disabled"),t.find('li.footable-page-arrow > a[data-page="last"]').parent().addClass("disabled")),1>e&&(t.find('li.footable-page-arrow > a[data-page="first"]').parent().addClass("disabled"),t.find('li.footable-page-arrow > a[data-page="prev"]').parent().addClass("disabled"))},e.fillPage=function(n,i,r){n.pageInfo.currentPage=r,t(n.table).data("currentPage",r),i.find("> tr").hide(),t(n.pageInfo.pages[r]).each(function(){e.showRow(this,n)}),n.raise("footable_page_filled")},e.showRow=function(e,n){var i=t(e),r=i.next(),a=t(n.table);a.hasClass("breakpoint")&&i.hasClass("footable-detail-show")&&r.hasClass("footable-row-detail")?(i.add(r).show(),n.createOrUpdateDetailRow(e)):i.show()}}if(e.footable===n||null===e.footable)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var a={paginate:!0,pageSize:10,pageNavigation:".pagination",firstText:"&laquo;",previousText:"&lsaquo;",nextText:"&rsaquo;",lastText:"&raquo;",limitNavigation:0,limitPreviousText:"...",limitNextText:"..."};e.footable.plugins.register(r,a)}(jQuery,window),function(t,e,n){function i(){var e=this;e.name="Footable Sortable",e.init=function(i){e.footable=i,i.options.sort===!0&&t(i.table).unbind(".sorting").bind({"footable_initialized.sorting":function(){var n,r,a=t(i.table),o=(a.find("> tbody"),i.options.classes.sort);if(a.data("sort")!==!1){a.find("> thead > tr:last-child > th, > thead > tr:last-child > td").each(function(){var e=t(this),n=i.columns[e.index()];n.sort.ignore===!0||e.hasClass(o.sortable)||(e.addClass(o.sortable),t("<span />").addClass(o.indicator).appendTo(e))}),a.find("> thead > tr:last-child > th."+o.sortable+", > thead > tr:last-child > td."+o.sortable).unbind("click.footable").bind("click.footable",function(n){n.preventDefault(),r=t(this);var i=!r.hasClass(o.sorted);return e.doSort(r.index(),i),!1});var s=!1;for(var l in i.columns)if(n=i.columns[l],n.sort.initial){var d="descending"!==n.sort.initial;e.doSort(n.index,d);break}s&&i.bindToggleSelectors()}},"footable_redrawn.sorting":function(){var r=t(i.table),a=i.options.classes.sort;r.data("sorted")>=0&&r.find("> thead > tr:last-child > th").each(function(i){var r=t(this);return r.hasClass(a.sorted)||r.hasClass(a.descending)?(e.doSort(i),n):n})},"footable_column_data.sorting":function(e){var n=t(e.column.th);e.column.data.sort=e.column.data.sort||{},e.column.data.sort.initial=n.data("sort-initial")||!1,e.column.data.sort.ignore=n.data("sort-ignore")||!1,e.column.data.sort.selector=n.data("sort-selector")||null;var i=n.data("sort-match")||0;i>=e.column.data.matches.length&&(i=0),e.column.data.sort.match=e.column.data.matches[i]}}).data("footable-sort",e)},e.doSort=function(i,r){var a=e.footable;if(t(a.table).data("sort")!==!1){var o=t(a.table),s=o.find("> tbody"),l=a.columns[i],d=o.find("> thead > tr:last-child > th:eq("+i+")"),u=a.options.classes.sort,h=a.options.events.sort;if(r=r===n?d.hasClass(u.sorted):"toggle"===r?!d.hasClass(u.sorted):r,l.sort.ignore===!0)return!0;var c=a.raise(h.sorting,{column:l,direction:r?"ASC":"DESC"});c&&c.result===!1||(o.data("sorted",l.index),o.find("> thead > tr:last-child > th, > thead > tr:last-child > td").not(d).removeClass(u.sorted+" "+u.descending),r===n&&(r=d.hasClass(u.sorted)),r?d.removeClass(u.descending).addClass(u.sorted):d.removeClass(u.sorted).addClass(u.descending),e.sort(a,s,l,r),a.bindToggleSelectors(),a.raise(h.sorted,{column:l,direction:r?"ASC":"DESC"}))}},e.rows=function(e,i,r){var a=[];return i.find("> tr").each(function(){var i=t(this),o=null;if(i.hasClass(e.options.classes.detail))return!0;i.next().hasClass(e.options.classes.detail)&&(o=i.next().get(0));var s={row:i,detail:o};return r!==n&&(s.value=e.parse(this.cells[r.sort.match],r)),a.push(s),!0}).detach(),a},e.sort=function(t,n,i,r){var a=e.rows(t,n,i),o=t.options.sorters[i.type]||t.options.sorters.alpha;a.sort(function(t,e){return r?o(t.value,e.value):o(e.value,t.value)});for(var s=0;a.length>s;s++)n.append(a[s].row),null!==a[s].detail&&n.append(a[s].detail)}}if(e.footable===n||null===e.footable)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var r={sort:!0,sorters:{alpha:function(t,e){return"string"==typeof t&&(t=t.toLowerCase()),"string"==typeof e&&(e=e.toLowerCase()),t===e?0:e>t?-1:1},numeric:function(t,e){return t-e}},classes:{sort:{sortable:"footable-sortable",sorted:"footable-sorted",descending:"footable-sorted-desc",indicator:"footable-sort-indicator"}},events:{sort:{sorting:"footable_sorting",sorted:"footable_sorted"}}};e.footable.plugins.register(i,r)}(jQuery,window),function(t,e,n){function i(){var e=this;e.name="Footable Striping",e.init=function(n){e.footable=n,t(n.table).unbind("striping").bind({"footable_initialized.striping footable_row_removed.striping footable_redrawn.striping footable_sorted.striping footable_filtered.striping":function(){t(this).data("striping")!==!1&&e.setupStriping(n)}})},e.setupStriping=function(e){var n=0;t(e.table).find("> tbody > tr:not(.footable-row-detail)").each(function(){var i=t(this);i.removeClass(e.options.classes.striping.even).removeClass(e.options.classes.striping.odd),0===n%2?i.addClass(e.options.classes.striping.even):i.addClass(e.options.classes.striping.odd),n++})}}if(e.footable===n||null===e.foobox)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var r={striping:{enabled:!0},classes:{striping:{odd:"footable-odd",even:"footable-even"}}};e.footable.plugins.register(i,r)}(jQuery,window),function(t,e,n){function i(t,e){e=e?e:location.hash;var i=RegExp("&"+t+"(?:=([^&]*))?(?=&|$)","i");return(e=e.replace(/^\#/,"&").match(i))?e[1]===n?"":decodeURIComponent(e[1]):n}function r(e,n){var i=t(e.table).find("tbody").find("tr:not(.footable-row-detail, .footable-filtered)").length;t(e.table).data("status_num_total",i);var r=t(e.table).find("tbody").find("tr:not(.footable-row-detail)").filter(":visible").length;t(e.table).data("status_num_shown",r);var a=t(e.table).data("sorted"),o=t(e.table).find("th")[a],s=t(o).hasClass("footable-sorted-desc");if(t(e.table).data("status_descending",s),e.pageInfo){var l=e.pageInfo.currentPage;t(e.table).data("status_pagenum",l)}var d="",u=t(e.table).data("filter");t(u).length&&(d=t(u).val()),t(e.table).data("status_filter_val",d);var h,c,f;if("footable_row_expanded"==n.type&&(h=n.row,h&&(c=t(e.table).data("expanded_rows"),f=[],c&&(f=c.split(",")),f.push(h.rowIndex),t(e.table).data("expanded_rows",f.join(",")))),"footable_row_collapsed"==n.type&&(h=n.row)){c=t(e.table).data("expanded_rows"),f=[],c&&(f=c.split(","));var p=[];for(var g in f)if(f[g]==h.rowIndex){p=f.splice(g,1);break}t(e.table).data("expanded_rows",p.join(","))}}function a(){var e=this;e.name="Footable LucidBookmarkable",e.init=function(e){e.options.bookmarkable.enabled&&t(e.table).bind({footable_initialized:function(){var r=e.table.id,a=i(r+"_f"),o=i(r+"_p"),s=i(r+"_s"),l=i(r+"_d"),d=i(r+"_e");if(a){var u=t(e.table).data("filter");t(u).val(a),t(e.table).trigger("footable_filter",{filter:a})}if(o&&t(e.table).data("currentPage",o),s!==n){var h=t(e.table).data("footable-sort"),c=!0;"true"==l&&(c=!1),h.doSort(s,c)}else t(e.table).trigger("footable_setup_paging");if(d){var f=d.split(",");for(var p in f){var g=t(e.table.rows[f[p]]);g.find("> td:first").trigger("footable_toggle_row")}}e.lucid_bookmark_read=!0},"footable_page_filled footable_redrawn footable_filtered footable_sorted footable_row_expanded footable_row_collapsed":function(i){if(r(e,i),e.lucid_bookmark_read){var a=e.table.id,o=a+"_f",s=a+"_p",l=a+"_s",d=a+"_d",u=a+"_e",h=location.hash.replace(/^\#/,"&"),c=[o,s,l,d,u];for(var f in c){var p=RegExp("&"+c[f]+"=([^&]*)","g");h=h.replace(p,"")}var g={};g[o]=t(e.table).data("status_filter_val"),g[s]=t(e.table).data("status_pagenum"),g[l]=t(e.table).data("sorted"),g[d]=t(e.table).data("status_descending"),g[u]=t(e.table).data("expanded_rows");var m=[];for(var v in g)g[v]!==n&&m.push(v+"="+encodeURIComponent(g[v]));h.length&&m.push(h),location.hash=m.join("&")}}})}}if(e.footable===n||null===e.foobox)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var o={bookmarkable:{enabled:!1}};e.footable.plugins.register(a,o)}(jQuery,window),jQuery.base64=function(t){function e(t,e){var n=o.indexOf(t.charAt(e));if(-1===n)throw"Cannot decode base64";return n}function n(t){var n,i,r=0,o=t.length,s=[];if(t=String(t),0===o)return t;if(o%4!==0)throw"Cannot decode base64";for(t.charAt(o-1)===a&&(r=1,t.charAt(o-2)===a&&(r=2),o-=4),n=0;o>n;n+=4)i=e(t,n)<<18|e(t,n+1)<<12|e(t,n+2)<<6|e(t,n+3),s.push(String.fromCharCode(i>>16,i>>8&255,255&i));switch(r){case 1:i=e(t,n)<<18|e(t,n+1)<<12|e(t,n+2)<<6,s.push(String.fromCharCode(i>>16,i>>8&255));break;case 2:i=e(t,n)<<18|e(t,n+1)<<12,s.push(String.fromCharCode(i>>16))}return s.join("")}function i(t,e){var n=t.charCodeAt(e);if(n>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return n}function r(t){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";t=String(t);var e,n,r=[],s=t.length-t.length%3;if(0===t.length)return t;for(e=0;s>e;e+=3)n=i(t,e)<<16|i(t,e+1)<<8|i(t,e+2),r.push(o.charAt(n>>18)),r.push(o.charAt(n>>12&63)),r.push(o.charAt(n>>6&63)),r.push(o.charAt(63&n));switch(t.length-s){case 1:n=i(t,e)<<16,r.push(o.charAt(n>>18)+o.charAt(n>>12&63)+a+a);break;case 2:n=i(t,e)<<16|i(t,e+1)<<8,r.push(o.charAt(n>>18)+o.charAt(n>>12&63)+o.charAt(n>>6&63)+a)}return r.join("")}var a="=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="1.0";return{decode:n,encode:r,VERSION:s}}(jQuery),function(t){t.fn.extend({tableExport:function(e){
function n(t){return"true"==i.htmlContent?content_data=t.html().trim():content_data=t.text().trim(),"true"==i.escape&&(content_data=escape(content_data)),content_data}var i={separator:",",ignoreColumn:[],tableName:"yourTableName",type:"csv",pdfFontSize:14,pdfLeftMargin:20,escape:"true",htmlContent:"false",consoleLog:"false"},e=t.extend(i,e),r=this;if("csv"==i.type||"txt"==i.type){var a="";t(r).find("thead").find("tr").each(function(){a+="\n",t(this).filter(":visible").find("th").each(function(e,r){"none"!=t(this).css("display")&&-1==i.ignoreColumn.indexOf(e)&&(a+='"'+n(t(this))+'"'+i.separator)}),a=t.trim(a),a=t.trim(a).substring(0,a.length-1)}),t(r).find("tbody").find("tr").each(function(){a+="\n",t(this).filter(":visible").find("td").each(function(e,r){"none"!=t(this).css("display")&&-1==i.ignoreColumn.indexOf(e)&&(a+='"'+n(t(this))+'"'+i.separator)}),a=t.trim(a).substring(0,a.length-1)}),"true"==i.consoleLog&&console.log(a);var o="base64,"+t.base64.encode(a);window.open("data:application/"+i.type+";filename=exportData;"+o)}else if("sql"==i.type){var a="INSERT INTO `"+i.tableName+"` (";t(r).find("thead").find("tr").each(function(){t(this).filter(":visible").find("th").each(function(e,r){"none"!=t(this).css("display")&&-1==i.ignoreColumn.indexOf(e)&&(a+="`"+n(t(this))+"`,")}),a=t.trim(a),a=t.trim(a).substring(0,a.length-1)}),a+=") VALUES ",t(r).find("tbody").find("tr").each(function(){a+="(",t(this).filter(":visible").find("td").each(function(e,r){"none"!=t(this).css("display")&&-1==i.ignoreColumn.indexOf(e)&&(a+='"'+n(t(this))+'",')}),a=t.trim(a).substring(0,a.length-1),a+="),"}),a=t.trim(a).substring(0,a.length-1),a+=";","true"==i.consoleLog&&console.log(a);var o="base64,"+t.base64.encode(a);window.open("data:application/sql;filename=exportData;"+o)}else if("json"==i.type){var s=[];t(r).find("thead").find("tr").each(function(){var e=[];t(this).filter(":visible").find("th").each(function(r,a){"none"!=t(this).css("display")&&-1==i.ignoreColumn.indexOf(r)&&e.push(n(t(this)))}),s.push(e)});var l=[];t(r).find("tbody").find("tr").each(function(){var e=[];t(this).filter(":visible").find("td").each(function(r,a){"none"!=t(this).css("display")&&-1==i.ignoreColumn.indexOf(r)&&e.push(n(t(this)))}),l.push(e)});var d=[];d.push({header:s,data:l}),"true"==i.consoleLog&&console.log(JSON.stringify(d));var o="base64,"+t.base64.encode(JSON.stringify(d));window.open("data:application/json;filename=exportData;"+o)}else if("xml"==i.type){var u='<?xml version="1.0" encoding="utf-8"?>';u+="<tabledata><fields>",t(r).find("thead").find("tr").each(function(){t(this).filter(":visible").find("th").each(function(e,r){"none"!=t(this).css("display")&&-1==i.ignoreColumn.indexOf(e)&&(u+="<field>"+n(t(this))+"</field>")})}),u+="</fields><data>";var h=1;t(r).find("tbody").find("tr").each(function(){u+='<row id="'+h+'">';var e=0;t(this).filter(":visible").find("td").each(function(r,a){"none"!=t(this).css("display")&&-1==i.ignoreColumn.indexOf(r)&&(u+="<column-"+e+">"+n(t(this))+"</column-"+e+">"),e++}),h++,u+="</row>"}),u+="</data></tabledata>","true"==i.consoleLog&&console.log(u);var o="base64,"+t.base64.encode(u);window.open("data:application/xml;filename=exportData;"+o)}else if("excel"==i.type||"doc"==i.type||"powerpoint"==i.type){var c="<table>";t(r).find("thead").find("tr").each(function(){c+="<tr>",t(this).filter(":visible").find("th").each(function(e,r){"none"!=t(this).css("display")&&-1==i.ignoreColumn.indexOf(e)&&(c+="<td>"+n(t(this))+"</td>")}),c+="</tr>"});var h=1;t(r).find("tbody").find("tr").each(function(){c+="<tr>";var e=0;t(this).filter(":visible").find("td").each(function(r,a){"none"!=t(this).css("display")&&-1==i.ignoreColumn.indexOf(r)&&(c+="<td>"+n(t(this))+"</td>"),e++}),h++,c+="</tr>"}),c+="</table>","true"==i.consoleLog&&console.log(c);var f="<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:x='urn:schemas-microsoft-com:office:"+i.type+"' xmlns='http://www.w3.org/TR/REC-html40'>";f+="<head>",f+="<!--[if gte mso 9]>",f+="<xml>",f+="<x:ExcelWorkbook>",f+="<x:ExcelWorksheets>",f+="<x:ExcelWorksheet>",f+="<x:Name>",f+="{worksheet}",f+="</x:Name>",f+="<x:WorksheetOptions>",f+="<x:DisplayGridlines/>",f+="</x:WorksheetOptions>",f+="</x:ExcelWorksheet>",f+="</x:ExcelWorksheets>",f+="</x:ExcelWorkbook>",f+="</xml>",f+="<![endif]-->",f+="</head>",f+="<body>",f+=c,f+="</body>",f+="</html>";var o="base64,"+t.base64.encode(f);window.open("data:application/vnd.ms-"+i.type+";filename=exportData.doc;"+o)}else if("png"==i.type)html2canvas(t(r),{onrendered:function(t){var e=t.toDataURL("image/png");window.open(e)}});else if("pdf"==i.type){var p=new jsPDF("p","pt","a4",!0);p.setFontSize(i.pdfFontSize);var g=i.pdfLeftMargin;t(r).find("thead").find("tr").each(function(){t(this).filter(":visible").find("th").each(function(e,r){if("none"!=t(this).css("display")&&-1==i.ignoreColumn.indexOf(e)){var a=g+50*e;p.text(a,20,n(t(this)))}})});var m=20,v=1,b=0;t(r).find("tbody").find("tr").each(function(e,r){rowCalc=e+1,rowCalc%26==0&&(p.addPage(),v++,m+=10),b=m+10*rowCalc-280*(v-1),t(this).filter(":visible").find("td").each(function(e,r){if("none"!=t(this).css("display")&&-1==i.ignoreColumn.indexOf(e)){var a=g+50*e;p.text(a,b,n(t(this)))}})}),p.output("datauri")}}})}(jQuery),function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function r(t){return function(){return this[t].apply(this,arguments)}}function a(e,n){function i(t,e){return e.toLowerCase()}var r,a=t(e).data(),o={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in a)n.test(l)&&(r=l.replace(s,i),o[r]=a[l]);return o}function o(e){var n={};if(p[e]||(e=e.split("-")[0],p[e])){var i=p[e];return t.each(f,function(t,e){e in i&&(n[e]=i[e])}),n}}var s=t(window),l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;i>n;n++)if(this[n].valueOf()===e)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.splice(0)},copy:function(){var t=new l;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),d=function(e,n){this.dates=new l,this.viewDate=i(),this.focusDate=null,this._process_options(n),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(g.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};d.prototype={constructor:d,_process_options:function(e){this._o=t.extend({},this._o,e);var n=this.o=t.extend({},this._o),i=n.language;switch(p[i]||(i=i.split("-")[0],p[i]||(i=c.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.multidate!==!0&&(n.multidate=Number(n.multidate)||!1,n.multidate!==!1?n.multidate=Math.max(0,n.multidate):n.multidate=1),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var r=g.parseFormat(n.format);n.startDate!==-(1/0)&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=g.parseDate(n.startDate,r,n.language):n.startDate=-(1/0)),n.endDate!==1/0&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=g.parseDate(n.endDate,r,n.language):n.endDate=1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)});var a=String(n.orientation).toLowerCase().split(/\s+/g),o=n.orientation.toLowerCase();if(a=t.grep(a,function(t){return/^auto|left|right|top|bottom$/.test(t)}),n.orientation={x:"auto",y:"auto"},o&&"auto"!==o)if(1===a.length)switch(a[0]){case"top":case"bottom":n.orientation.y=a[0];break;case"left":case"right":n.orientation.x=a[0]}else o=t.grep(a,function(t){return/^left|right$/.test(t)}),n.orientation.x=o[0]||"auto",o=t.grep(a,function(t){return/^top|bottom$/.test(t)}),n.orientation.y=o[0]||"auto"},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,i,r,a=0;a<t.length;a++)n=t[a][0],2===t[a].length?(i=e,r=t[a][1]):3===t[a].length&&(i=t[a][1],r=t[a][2]),n.on(r,i)},_unapplyEvents:function(t){for(var n,i,r,a=0;a<t.length;a++)n=t[a][0],2===t[a].length?(r=e,i=t[a][1]):3===t[a].length&&(r=t[a][1],i=t[a][2]),n.off(i,r)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),r=this._utc_to_local(i);this.element.trigger({type:e,date:r,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return g.formatDate(n,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:r("setDates"),setUTCDate:r("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(n){n===e&&(n=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return g.formatDate(t,n,i)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,r=s.width(),a=s.height(),o=s.scrollTop(),l=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+10,d=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),c=d.left,f=d.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(c-=e-h)):(this.picker.addClass("datepicker-orient-left"),d.left<0?c-=d.left-i:d.left+e>r&&(c=r-e-i));var p,g,m=this.o.orientation.y;"auto"===m&&(p=-o+d.top-n,g=o+a-(d.top+u+n),m=Math.max(p,g)===g?"top":"bottom"),this.picker.addClass("datepicker-orient-"+m),"top"===m?f+=u:f-=n+parseInt(this.picker.css("padding-top")),this.picker.css({top:f,left:c,zIndex:l})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),n=[],i=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return g.parseDate(t,this.o.format,this.o.language)},this)),n=t.grep(n,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():n.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';e+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+p[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+p[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),a=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<r?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>r)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===a.getFullYear()&&e.getUTCMonth()===a.getMonth()&&e.getUTCDate()===a.getDate()&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var i,r=new Date(this.viewDate),a=r.getUTCFullYear(),o=r.getUTCMonth(),s=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),d=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=p[this.o.language].today||p.en.today||"",c=p[this.o.language].clear||p.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(p[this.o.language].months[o]+" "+a),this.picker.find("tfoot th.today").text(h).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(c).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var f=n(a,o-1,28),m=g.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(m),f.setUTCDate(m-(f.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(f);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var b,y=[];f.valueOf()<v;){if(f.getUTCDay()===this.o.weekStart&&(y.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),x=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),C=new Date(Number(C=n(x.getUTCFullYear(),0,1))+(11-C.getUTCDay())%7*864e5),T=(x-C)/864e5/7+1;y.push('<td class="cw">'+T+"</td>")}if(b=this.getClassNames(f),b.push("day"),this.o.beforeShowDay!==t.noop){var S=this.o.beforeShowDay(this._utc_to_local(f));S===e?S={}:"boolean"==typeof S?S={enabled:S}:"string"==typeof S&&(S={classes:S}),S.enabled===!1&&b.push("disabled"),S.classes&&(b=b.concat(S.classes.split(/\s+/))),S.tooltip&&(i=S.tooltip)}b=t.unique(b),y.push('<td class="'+b.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+f.getUTCDate()+"</td>"),f.getUTCDay()===this.o.weekEnd&&y.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var D=this.picker.find(".datepicker-months").find("th:eq(1)").text(a).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===a&&D.eq(e.getUTCMonth()).addClass("active")}),(s>a||a>d)&&D.addClass("disabled"),a===s&&D.slice(0,l).addClass("disabled"),a===d&&D.slice(u+1).addClass("disabled"),y="",a=10*parseInt(a/10,10);var k=this.picker.find(".datepicker-years").find("th:eq(1)").text(a+"-"+(a+9)).end().find("td");a-=1;for(var _,E=t.map(this.dates,function(t){return t.getUTCFullYear()}),R=-1;11>R;R++)_=["year"],-1===R?_.push("old"):10===R&&_.push("new"),-1!==t.inArray(a,E)&&_.push("active"),(s>a||a>d)&&_.push("disabled"),y+='<span class="'+_.join(" ")+'">'+a+"</span>",a+=1;k.html(y)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var i,r,a,o=t(e.target).closest("span, td, th");if(1===o.length)switch(o[0].nodeName.toLowerCase()){case"th":switch(o[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=g.modes[this.viewMode].navStep*("prev"===o[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var d="linked"===this.o.todayBtn?null:"view";this._setDate(l,d);break;case"clear":var u;this.isInput?u=this.element:this.component&&(u=this.element.find("input")),u&&u.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":o.is(".disabled")||(this.viewDate.setUTCDate(1),o.is(".month")?(a=1,r=o.parent().find("span").index(o),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(r),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,r,a))):(a=1,r=0,i=parseInt(o.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,r,a))),this.showMode(-1),this.fill());break;case"td":o.is(".day")&&!o.is(".disabled")&&(a=parseInt(o.text(),10)||1,i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),o.is(".old")?0===r?(r=11,i-=1):r-=1:o.is(".new")&&(11===r?(r=0,i+=1):r+=1),this._setDate(n(i,r,a)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,n){if(!t)return e;if(!n)return t;var i,r,a=new Date(t.valueOf()),o=a.getUTCDate(),s=a.getUTCMonth(),l=Math.abs(n);if(n=n>0?1:-1,1===l)r=-1===n?function(){return a.getUTCMonth()===s}:function(){return a.getUTCMonth()!==i},i=s+n,a.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var d=0;l>d;d++)a=this.moveMonth(a,n);i=a.getUTCMonth(),a.setUTCDate(o),r=function(){return i!==a.getUTCMonth()}}for(;r();)a.setUTCDate(--o),a.setUTCMonth(i);return a},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27===t.keyCode&&this.show());var e,n,r,a=!1,o=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),r=this.moveYear(o,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),r=this.moveMonth(o,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+e),r=new Date(o),r.setUTCDate(o.getUTCDate()+e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),r=this.moveYear(o,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),r=this.moveMonth(o,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+7*e),r=new Date(o),r.setUTCDate(o.getUTCDate()+7*e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:o=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(o),a=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(a){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+g.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var u=function(e,n){this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,t(this.inputs).datepicker(n).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var n=t(e.target).data("datepicker"),i=n.getUTCDate(),r=t.inArray(e.target,this.inputs),a=this.inputs.length;if(-1!==r){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(i)}),i<this.dates[r])for(;r>=0&&i<this.dates[r];)this.pickers[r--].setUTCDate(i);else if(i>this.dates[r])for(;a>r&&i>this.dates[r];)this.pickers[r++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var h=t.fn.datepicker;t.fn.datepicker=function(n){var i=Array.apply(null,arguments);i.shift();var r;return this.each(function(){var s=t(this),l=s.data("datepicker"),h="object"==typeof n&&n;if(!l){var f=a(this,"date"),p=t.extend({},c,f,h),g=o(p.language),m=t.extend({},c,g,f,h);if(s.is(".input-daterange")||m.inputs){var v={inputs:m.inputs||s.find("input").toArray()};s.data("datepicker",l=new u(this,t.extend(m,v)))}else s.data("datepicker",l=new d(this,m))}return"string"==typeof n&&"function"==typeof l[n]&&(r=l[n].apply(l,i),r!==e)?!1:void 0}),r!==e?r:this};var c=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},f=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=d;var p=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,g.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(i,r,a){function o(){var t=this.slice(0,c[u].length),e=c[u].slice(0,t.length);return t===e}if(!i)return e;if(i instanceof Date)return i;"string"==typeof r&&(r=g.parseFormat(r));var s,l,u,h=/([\-+]\d+)([dmwy])/,c=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,u=0;u<c.length;u++)switch(s=h.exec(c[u]),l=parseInt(s[1]),s[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=d.prototype.moveMonth.call(d.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=d.prototype.moveYear.call(d.prototype,i,l)}return n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}c=i&&i.match(this.nonpunctuation)||[],i=new Date;var f,m,v={},b=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};y.M=y.MM=y.mm=y.m,y.dd=y.d,i=n(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var w=r.parts.slice();if(c.length!==w.length&&(w=t(w).filter(function(e,n){return-1!==t.inArray(n,b)}).toArray()),c.length===w.length){var x;for(u=0,x=w.length;x>u;u++){if(f=parseInt(c[u],10),s=w[u],isNaN(f))switch(s){case"MM":m=t(p[a].months).filter(o),f=t.inArray(m[0],p[a].months)+1;break;case"M":m=t(p[a].monthsShort).filter(o),f=t.inArray(m[0],p[a].monthsShort)+1}v[s]=f}var C,T;for(u=0;u<b.length;u++)T=b[u],T in v&&!isNaN(v[T])&&(C=new Date(i),y[T](C,v[T]),isNaN(C)||(i=C))}return i},formatDate:function(e,n,i){if(!e)return"";"string"==typeof n&&(n=g.parseFormat(n));var r={d:e.getUTCDate(),D:p[i].daysShort[e.getUTCDay()],DD:p[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:p[i].monthsShort[e.getUTCMonth()],MM:p[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,e=[];for(var a=t.extend([],n.separators),o=0,s=n.parts.length;s>=o;o++)a.length&&e.push(a.shift()),e.push(r[n.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=g,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=h,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),n.datepicker("show"));
}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),!function(t){"function"==typeof define&&define.amd?define(["jquery","codemirror"],t):t(window.jQuery,window.CodeMirror)}(function(t,e){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var n,i,r=this.length>>>0,a=!1;for(1<arguments.length&&(i=e,a=!0),n=0;r>n;++n)this.hasOwnProperty(n)&&(a?i=t(i,this[n],n,this):(i=this[n],a=!0));if(!a)throw new TypeError("Reduce of empty array with no initial value");return i});var n={bMac:navigator.appVersion.indexOf("Mac")>-1,bMSIE:navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1,bFF:navigator.userAgent.indexOf("Firefox")>-1,jqueryVersion:parseFloat(t.fn.jquery),bCodeMirror:!!e},i=function(){var t=function(t){return function(e){return t===e}},e=function(t,e){return t===e},n=function(){return!0},i=function(){return!1},r=function(t){return function(){return!t.apply(t,arguments)}},a=function(t){return t};return{eq:t,eq2:e,ok:n,fail:i,not:r,self:a}}(),r=function(){var t=function(t){return t[0]},e=function(t){return t[t.length-1]},n=function(t){return t.slice(0,t.length-1)},r=function(t){return t.slice(1)},a=function(t,e){var n=t.indexOf(e);return-1===n?null:t[n+1]},o=function(t,e){var n=t.indexOf(e);return-1===n?null:t[n-1]},s=function(t,e){return e=e||i.self,t.reduce(function(t,n){return t+e(n)},0)},l=function(t){for(var e=[],n=-1,i=t.length;++n<i;)e[n]=t[n];return e},d=function(n,i){if(0===n.length)return[];var a=r(n);return a.reduce(function(t,n){var r=e(t);return i(e(r),n)?r[r.length]=n:t[t.length]=[n],t},[[t(n)]])},u=function(t){for(var e=[],n=0,i=t.length;i>n;n++)t[n]&&e.push(t[n]);return e};return{head:t,last:e,initial:n,tail:r,prev:o,next:a,sum:s,from:l,compact:u,clusterBy:d}}(),a=function(){var e=function(e){return e&&t(e).hasClass("note-editable")},o=function(e){return e&&t(e).hasClass("note-control-sizing")},s=function(t){var e=function(e){return function(){return t.find(e)}};return{editor:function(){return t},dropzone:e(".note-dropzone"),toolbar:e(".note-toolbar"),editable:e(".note-editable"),codable:e(".note-codable"),statusbar:e(".note-statusbar"),popover:e(".note-popover"),handle:e(".note-handle"),dialog:e(".note-dialog")}},l=function(t){return function(e){return e&&e.nodeName===t}},d=function(t){return t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName)},u=function(t){return t&&/^UL|^OL/.test(t.nodeName)},h=function(t){return t&&/^TD|^TH/.test(t.nodeName)},c=function(t,n){for(;t;){if(n(t))return t;if(e(t))break;t=t.parentNode}return null},f=function(t,e){e=e||i.fail;var n=[];return c(t,function(t){return n.push(t),e(t)}),n},p=function(e,n){for(var i=f(e),r=n;r;r=r.parentNode)if(t.inArray(r,i)>-1)return r;return null},g=function(t,e){var n=[],i=!1,r=!1;return function a(o){if(o){if(o===t&&(i=!0),i&&!r&&n.push(o),o===e)return void(r=!0);for(var s=0,l=o.childNodes.length;l>s;s++)a(o.childNodes[s])}}(p(t,e)),n},m=function(t,e){e=e||i.fail;for(var n=[];t&&(n.push(t),!e(t));)t=t.previousSibling;return n},v=function(t,e){e=e||i.fail;for(var n=[];t&&(n.push(t),!e(t));)t=t.nextSibling;return n},b=function(t,e){var n=[];return e=e||i.ok,function r(i){t!==i&&e(i)&&n.push(i);for(var a=0,o=i.childNodes.length;o>a;a++)r(i.childNodes[a])}(t),n},y=function(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t},w=function(e,n){return t.each(n,function(t,n){e.appendChild(n)}),e},x=l("#text"),C=function(t){return x(t)?t.nodeValue.length:t.childNodes.length},T=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},S=function(e,n){var a=r.initial(f(n,i.eq(e)));return t.map(a,T).reverse()},D=function(t,e){for(var n=t,i=0,r=e.length;r>i;i++)n=n.childNodes[e[i]];return n},k=function(t,e){if(0===e)return t;if(e>=C(t))return t.nextSibling;if(x(t))return t.splitText(e);var n=t.childNodes[e];return t=y(t.cloneNode(!1),t),w(t,v(n))},_=function(t,e,n){var r=f(e,i.eq(t));return 1===r.length?k(e,n):r.reduce(function(t,i){var r=i.cloneNode(!1);return y(r,i),t===e&&(t=k(t,n)),w(r,v(t)),r})},E=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var n=t.parentNode;if(!e){var i,r,a=[];for(i=0,r=t.childNodes.length;r>i;i++)a.push(t.childNodes[i]);for(i=0,r=a.length;r>i;i++)n.insertBefore(a[i],t)}n.removeChild(t)}},R=function(t){return a.isTextarea(t[0])?t.val():t.html()};return{blank:n.bMSIE?"&nbsp;":"<br/>",emptyPara:"<p><br/></p>",isEditable:e,isControlSizing:o,buildLayoutInfo:s,isText:x,isPara:d,isList:u,isTable:l("TABLE"),isCell:h,isAnchor:l("A"),isDiv:l("DIV"),isLi:l("LI"),isSpan:l("SPAN"),isB:l("B"),isU:l("U"),isS:l("S"),isI:l("I"),isImg:l("IMG"),isTextarea:l("TEXTAREA"),ancestor:c,listAncestor:f,listNext:v,listPrev:m,listDescendant:b,commonAncestor:p,listBetween:g,insertAfter:y,position:T,makeOffsetPath:S,fromOffsetPath:D,split:_,remove:E,html:R}}(),o={version:"0.5.2",options:{width:null,height:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,codemirror:null,lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview"]],["help",["help"]]],oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onToolbarClick:null,keyMap:{pc:{"CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule"},mac:{"CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strike",clear:"Remove Font Style",height:"Line Height",name:"Font Family",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",dragImageHere:"Drag an image here",selectFromFiles:"Select from files",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, or DailyMotion)"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"BackColor",foreground:"FontColor",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style"},history:{undo:"Undo",redo:"Redo"}}}},s=function(){var e=function(e){return t.Deferred(function(n){t.extend(new FileReader,{onload:function(t){var e=t.target.result;n.resolve(e)},onerror:function(){n.reject(this)}}).readAsDataURL(e)}).promise()},n=function(e){return t.Deferred(function(n){t("<img>").one("load",function(){n.resolve(t(this))}).one("error abort",function(){n.reject(t(this))}).css({display:"none"}).appendTo(document.body).attr("src",e)}).promise()};return{readFileAsDataURL:e,createImage:n}}(),l={isEdit:function(t){return-1!==[8,9,13,32].indexOf(t)},nameFromCode:{8:"BACKSPACE",9:"TAB",13:"ENTER",32:"SPACE",48:"NUM0",49:"NUM1",50:"NUM2",51:"NUM3",52:"NUM4",53:"NUM5",54:"NUM6",55:"NUM7",56:"NUM8",66:"B",69:"E",73:"I",74:"J",75:"K",76:"L",82:"R",83:"S",85:"U",89:"Y",90:"Z",191:"SLASH",219:"LEFTBRACKET",220:"BACKSLASH",221:"RIGHTBRACKET"}},d=function(){var e=function(e,i){if(n.jqueryVersion<1.9){var r={};return t.each(i,function(t,n){r[n]=e.css(n)}),r}return e.css.call(e,i)};this.stylePara=function(e,n){t.each(e.nodes(a.isPara),function(e,i){t(i).css(n)})},this.current=function(n,i){var r=t(a.isText(n.sc)?n.sc.parentNode:n.sc),o=["font-family","font-size","text-align","list-style-type","line-height"],s=e(r,o)||{};if(s["font-size"]=parseInt(s["font-size"],10),s["font-bold"]=document.queryCommandState("bold")?"bold":"normal",s["font-italic"]=document.queryCommandState("italic")?"italic":"normal",s["font-underline"]=document.queryCommandState("underline")?"underline":"normal",s["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",n.isOnList()){var l=["circle","disc","disc-leading-zero","square"],d=t.inArray(s["list-style-type"],l)>-1;s["list-style"]=d?"unordered":"ordered"}else s["list-style"]="none";var u=a.ancestor(n.sc,a.isPara);if(u&&u.style["line-height"])s["line-height"]=u.style.lineHeight;else{var h=parseInt(s["line-height"],10)/parseInt(s["font-size"],10);s["line-height"]=h.toFixed(1)}return s.image=a.isImg(i)&&i,s.anchor=n.isOnAnchor()&&a.ancestor(n.sc,a.isAnchor),s.aAncestor=a.listAncestor(n.sc,a.isEditable),s}},u=function(){var e=!!document.createRange,n=function(t,e){var n,i,o=t.parentElement(),s=document.body.createTextRange(),l=r.from(o.childNodes);for(n=0;n<l.length;n++)if(!a.isText(l[n])){if(s.moveToElementText(l[n]),s.compareEndPoints("StartToStart",t)>=0)break;i=l[n]}if(0!==n&&a.isText(l[n-1])){var d=document.body.createTextRange(),u=null;d.moveToElementText(i||o),d.collapse(!i),u=i?i.nextSibling:o.firstChild;var h=t.duplicate();h.setEndPoint("StartToStart",d);for(var c=h.text.replace(/[\r\n]/g,"").length;c>u.nodeValue.length&&u.nextSibling;)c-=u.nodeValue.length,u=u.nextSibling;u.nodeValue,e&&u.nextSibling&&a.isText(u.nextSibling)&&c===u.nodeValue.length&&(c-=u.nodeValue.length,u=u.nextSibling),o=u,n=c}return{cont:o,offset:n}},o=function(t){var e=function(t,n){var o,s;if(a.isText(t)){var l=a.listPrev(t,i.not(a.isText)),d=r.last(l).previousSibling;o=d||t.parentNode,n+=r.sum(r.tail(l),a.length),s=!d}else{if(o=t.childNodes[n]||t,a.isText(o))return e(o,n);n=0,s=!1}return{cont:o,collapseToStart:s,offset:n}},n=document.body.createTextRange(),o=e(t.cont,t.offset);return n.moveToElementText(o.cont),n.collapse(o.collapseToStart),n.moveStart("character",o.offset),n},s=function(n,s,l,d){this.sc=n,this.so=s,this.ec=l,this.eo=d;var u=function(){if(e){var t=document.createRange();return t.setStart(n,s),t.setEnd(l,d),t}var i=o({cont:n,offset:s});return i.setEndPoint("EndToEnd",o({cont:l,offset:d})),i};this.select=function(){var t=u();if(e){var n=document.getSelection();n.rangeCount>0&&n.removeAllRanges(),n.addRange(t)}else t.select()},this.nodes=function(e){var o=a.listBetween(n,l),s=r.compact(t.map(o,function(t){return a.ancestor(t,e)}));return t.map(r.clusterBy(s,i.eq2),r.head)},this.commonAncestor=function(){return a.commonAncestor(n,l)};var h=function(t){return function(){var e=a.ancestor(n,t);return!!e&&e===a.ancestor(l,t)}};this.isOnEditable=h(a.isEditable),this.isOnList=h(a.isList),this.isOnAnchor=h(a.isAnchor),this.isOnCell=h(a.isCell),this.isCollapsed=function(){return n===l&&s===d},this.insertNode=function(t){var n=u();e?n.insertNode(t):n.pasteHTML(t.outerHTML)},this.toString=function(){var t=u();return e?t.toString():t.text},this.bookmark=function(t){return{s:{path:a.makeOffsetPath(t,n),offset:s},e:{path:a.makeOffsetPath(t,l),offset:d}}}};return{create:function(t,i,r,a){if(0===arguments.length)if(e){var o=document.getSelection();if(0===o.rangeCount)return null;var l=o.getRangeAt(0);t=l.startContainer,i=l.startOffset,r=l.endContainer,a=l.endOffset}else{var d=document.selection.createRange(),u=d.duplicate();u.collapse(!1);var h=d;h.collapse(!0);var c=n(h,!0),f=n(u,!1);t=c.cont,i=c.offset,r=f.cont,a=f.offset}else 2===arguments.length&&(r=t,a=i);return new s(t,i,r,a)},createFromNode:function(t){return this.create(t,0,t,1)},createFromBookmark:function(t,e){var n=a.fromOffsetPath(t,e.s.path),i=e.s.offset,r=a.fromOffsetPath(t,e.e.path),o=e.e.offset;return new s(n,i,r,o)}}}(),h=function(){this.tab=function(t,e){var n=a.ancestor(t.commonAncestor(),a.isCell),i=a.ancestor(n,a.isTable),o=a.listDescendant(i,a.isCell),s=r[e?"prev":"next"](o,n);s&&u.create(s,0).select()},this.createTable=function(e,n){for(var i,r=[],o=0;e>o;o++)r.push("<td>"+a.blank+"</td>");i=r.join("");for(var s,l=[],d=0;n>d;d++)l.push("<tr>"+i+"</tr>");s=l.join("");var u='<table class="table table-bordered">'+s+"</table>";return t(u)[0]}},c=function(){var e=new d,i=new h;this.saveRange=function(t){t.data("range",u.create())},this.restoreRange=function(t){var e=t.data("range");e&&e.select()},this.currentStyle=function(t){var n=u.create();return n.isOnEditable()&&e.current(n,t)},this.undo=function(t){t.data("NoteHistory").undo(t)},this.redo=function(t){t.data("NoteHistory").redo(t)};for(var r=this.recordUndo=function(t){t.data("NoteHistory").recordUndo(t)},o=["bold","italic","underline","strikethrough","justifyLeft","justifyCenter","justifyRight","justifyFull","insertOrderedList","insertUnorderedList","indent","outdent","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"],l=0,c=o.length;c>l;l++)this[o[l]]=function(t){return function(e,n){r(e),document.execCommand(t,!1,n)}}(o[l]);var f=function(e,n,i){r(e);var o=new Array(i+1).join("&nbsp;");n.insertNode(t('<span id="noteTab">'+o+"</span>")[0]);var s=t("#noteTab").removeAttr("id");n=u.create(s[0],1),n.select(),a.remove(s[0])};this.tab=function(t,e){var n=u.create();n.isCollapsed()&&n.isOnCell()?i.tab(n):f(t,n,e.tabsize)},this.untab=function(){var t=u.create();t.isCollapsed()&&t.isOnCell()&&i.tab(t,!0)},this.insertImage=function(t,e){s.createImage(e).then(function(e){r(t),e.css({display:"",width:Math.min(t.width(),e.width())}),u.create().insertNode(e[0])}).fail(function(){var e=t.data("callbacks");e.onImageUploadError&&e.onImageUploadError()})},this.insertVideo=function(e,n){r(e);var i,a=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,o=n.match(a),s=/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/,l=n.match(s),d=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/,h=n.match(d),c=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,f=n.match(c),p=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,g=n.match(p);if(o&&11===o[2].length){var m=o[2];i=t("<iframe>").attr("src","//www.youtube.com/embed/"+m).attr("width","640").attr("height","360")}else l&&l[0].length>0?i=t("<iframe>").attr("src",l[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true"):h&&h[0].length>0?i=t("<iframe>").attr("src",h[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed"):f&&f[3].length>0?i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("src","//player.vimeo.com/video/"+f[3]).attr("width","640").attr("height","360"):g&&g[2].length>0&&(i=t("<iframe>").attr("src","//www.dailymotion.com/embed/video/"+g[2]).attr("width","640").attr("height","360"));i&&(i.attr("frameborder",0),u.create().insertNode(i[0]))},this.formatBlock=function(t,e){r(t),e=n.bMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e)},this.formatPara=function(t){this.formatBlock(t,"P")};for(var l=1;6>=l;l++)this["formatH"+l]=function(t){return function(e){this.formatBlock(e,"H"+t)}}(l);this.fontSize=function(t,e){r(t),document.execCommand("fontSize",!1,3),n.bFF?t.find("font[size=3]").removeAttr("size").css("font-size",e+"px"):t.find("span").filter(function(){return"medium"===this.style.fontSize}).css("font-size",e+"px")},this.lineHeight=function(t,n){r(t),e.stylePara(u.create(),{lineHeight:n})},this.unlink=function(t){var e=u.create();if(e.isOnAnchor()){r(t);var n=a.ancestor(e.sc,a.isAnchor);e=u.createFromNode(n),e.select(),document.execCommand("unlink")}},this.createLink=function(e,i,o){var s=u.create();r(e);var l=i;if(-1!==i.indexOf("@")&&-1===i.indexOf(":")?l="mailto:"+i:-1===i.indexOf("://")&&(l="http://"+i),(n.bMSIE||n.bFF)&&s.isCollapsed()){s.insertNode(t('<A id="linkAnchor">'+i+"</A>")[0]);var d=t("#linkAnchor").attr("href",l).removeAttr("id");s=u.createFromNode(d[0]),s.select()}else document.execCommand("createlink",!1,l),s=u.create();t.each(s.nodes(a.isAnchor),function(e,n){o?t(n).attr("target","_blank"):t(n).removeAttr("target")})},this.getLinkInfo=function(){var e=u.create(),n=!0,i="";if(e.isOnAnchor()){var r=a.ancestor(e.sc,a.isAnchor);e=u.createFromNode(r),n="_blank"===t(r).attr("target"),i=r.href}return{text:e.toString(),url:i,newWindow:n}},this.getVideoInfo=function(){var t=u.create();if(t.isOnAnchor()){var e=a.ancestor(t.sc,a.isAnchor);t=u.createFromNode(e)}return{text:t.toString()}},this.color=function(t,e){var n=JSON.parse(e),i=n.foreColor,a=n.backColor;r(t),i&&document.execCommand("foreColor",!1,i),a&&document.execCommand("backColor",!1,a)},this.insertTable=function(t,e){r(t);var n=e.split("x");u.create().insertNode(i.createTable(n[0],n[1]))},this.floatMe=function(t,e,n){r(t),n.css("float",e)},this.resize=function(t,e,n){r(t),n.css({width:t.width()*e+"px",height:""})},this.resizeTo=function(t,e,n){var i;if(n){var r=t.y/t.x,a=e.data("ratio");i={width:a>r?t.x:t.y/a,height:a>r?t.x*a:t.y}}else i={width:t.x,height:t.y};e.css(i)},this.removeMedia=function(t,e,n){r(t),n.detach()}},f=function(){var t=[],e=[],n=function(t){var e=t[0],n=u.create();return{contents:t.html(),bookmark:n.bookmark(e),scrollTop:t.scrollTop()}},i=function(t,e){t.html(e.contents).scrollTop(e.scrollTop),u.createFromBookmark(t[0],e.bookmark).select()};this.undo=function(r){var a=n(r);0!==t.length&&(i(r,t.pop()),e.push(a))},this.redo=function(r){var a=n(r);0!==e.length&&(i(r,e.pop()),t.push(a))},this.recordUndo=function(i){e=[],t.push(n(i))}},p=function(){this.update=function(e,n){var i=function(e,n){e.find(".dropdown-menu li a").each(function(){var e=t(this).data("value")+""==n+"";this.className=e?"checked":""})},a=function(t,n){var i=e.find(t);i.toggleClass("active",n())},o=e.find(".note-fontname");if(o.length>0){var s=n["font-family"];s&&(s=r.head(s.split(",")),s=s.replace(/\'/g,""),o.find(".note-current-fontname").text(s),i(o,s))}var l=e.find(".note-fontsize");l.find(".note-current-fontsize").text(n["font-size"]),i(l,parseFloat(n["font-size"]));var d=e.find(".note-height");i(d,parseFloat(n["line-height"])),a('button[data-event="bold"]',function(){return"bold"===n["font-bold"]}),a('button[data-event="italic"]',function(){return"italic"===n["font-italic"]}),a('button[data-event="underline"]',function(){return"underline"===n["font-underline"]}),a('button[data-event="strikethrough"]',function(){return"strikethrough"===n["font-strikethrough"]}),a('button[data-event="justifyLeft"]',function(){return"left"===n["text-align"]||"start"===n["text-align"]}),a('button[data-event="justifyCenter"]',function(){return"center"===n["text-align"]}),a('button[data-event="justifyRight"]',function(){return"right"===n["text-align"]}),a('button[data-event="justifyFull"]',function(){return"justify"===n["text-align"]}),a('button[data-event="insertUnorderedList"]',function(){return"unordered"===n["list-style"]}),a('button[data-event="insertOrderedList"]',function(){return"ordered"===n["list-style"]})},this.updateRecentColor=function(e,n,i){var r=t(e).closest(".note-color"),a=r.find(".note-recent-color"),o=JSON.parse(a.attr("data-value"));o[n]=i,a.attr("data-value",JSON.stringify(o));var s="backColor"===n?"background-color":"color";a.find("i").css(s,i)},this.updateFullscreen=function(t,e){var n=t.find('button[data-event="fullscreen"]');n.toggleClass("active",e)},this.updateCodeview=function(t,e){var n=t.find('button[data-event="codeview"]');n.toggleClass("active",e)},this.activate=function(t){t.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(t){t.find("button").not('button[data-event="codeview"]').addClass("disabled")}},g=function(){var e=function(e,n){var i=t(n),r=i.position(),a=i.height();e.css({display:"block",left:r.left,top:r.top+a})};this.update=function(t,n){var i=t.find(".note-link-popover");if(n.anchor){var r=i.find("a");r.attr("href",n.anchor.href).html(n.anchor.href),e(i,n.anchor)}else i.hide();var a=t.find(".note-image-popover");n.image?e(a,n.image):a.hide()},this.hide=function(t){t.children().hide()}},m=function(){this.update=function(e,n){var i=e.find(".note-control-selection");if(n.image){var r=t(n.image),a=r.position(),o={w:r.width(),h:r.height()};i.css({display:"block",left:a.left,top:a.top,width:o.w,height:o.h}).data("target",n.image);var s=o.w+"x"+o.h;i.find(".note-control-selection-info").text(s)}else i.hide()},this.hide=function(t){t.children().hide()}},v=function(){var e=function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)};this.showImageDialog=function(n,i){return t.Deferred(function(t){var r=i.find(".note-image-dialog"),a=i.find(".note-image-input"),o=i.find(".note-image-url"),s=i.find(".note-image-btn");r.one("shown.bs.modal",function(){a.replaceWith(a.clone().on("change",function(){r.modal("hide"),t.resolve(this.files)})),s.click(function(e){e.preventDefault(),r.modal("hide"),t.resolve(o.val())}),o.keyup(function(){e(s,o.val())}).val("").focus()}).one("hidden.bs.modal",function(){n.focus(),a.off("change"),o.off("keyup"),s.off("click")}).modal("show")})},this.showVideoDialog=function(n,i,r){return t.Deferred(function(t){var a=i.find(".note-video-dialog"),o=a.find(".note-video-url"),s=a.find(".note-video-btn");a.one("shown.bs.modal",function(){o.val(r.text).keyup(function(){e(s,o.val())}).trigger("keyup").trigger("focus"),s.click(function(e){e.preventDefault(),a.modal("hide"),t.resolve(o.val())})}).one("hidden.bs.modal",function(){n.focus(),o.off("keyup"),s.off("click")}).modal("show")})},this.showLinkDialog=function(n,i,r){return t.Deferred(function(t){var a=i.find(".note-link-dialog"),o=a.find(".note-link-text"),s=a.find(".note-link-url"),l=a.find(".note-link-btn"),d=a.find("input[type=checkbox]");a.one("shown.bs.modal",function(){o.val(r.text),s.keyup(function(){e(l,s.val()),r.text||o.val(s.val())}).val(r.url).trigger("focus"),d.prop("checked",r.newWindow),l.one("click",function(e){e.preventDefault(),a.modal("hide"),t.resolve(s.val(),d.is(":checked"))})}).one("hidden.bs.modal",function(){n.focus(),s.off("keyup")}).modal("show")}).promise()},this.showHelpDialog=function(t,e){var n=e.find(".note-help-dialog");n.one("hidden.bs.modal",function(){t.focus()}).modal("show")}},b=function(){var i=new c,o=new p,d=new g,u=new m,h=new v,b=function(e){var n=t(e).closest(".note-editor");return n.length>0&&a.buildLayoutInfo(n)},y=function(e,n){i.restoreRange(e);var r=e.data("callbacks");r.onImageUpload?r.onImageUpload(n,i,e):t.each(n,function(t,n){s.readFileAsDataURL(n).then(function(t){i.insertImage(e,t)}).fail(function(){r.onImageUploadError&&r.onImageUploadError()})})},w=function(t){a.isImg(t.target)&&t.preventDefault()},x=function(t){var e=b(t.currentTarget||t.target),n=i.currentStyle(t.target);n&&(o.update(e.toolbar(),n),d.update(e.popover(),n),u.update(e.handle(),n))},C=function(t){var e=b(t.currentTarget||t.target);d.hide(e.popover()),u.hide(e.handle())},T=function(t){var e=t.originalEvent;if(e.clipboardData&&e.clipboardData.items&&e.clipboardData.items.length){var n=b(t.currentTarget||t.target),i=r.head(e.clipboardData.items),a="file"===i.kind&&-1!==i.type.indexOf("image/");a&&y(n.editable(),[i.getAsFile()])}},S=function(e){if(a.isControlSizing(e.target)){var n=b(e.target),r=n.handle(),o=n.popover(),s=n.editable(),l=n.editor(),h=r.find(".note-control-selection").data("target"),c=t(h),f=c.offset(),p=t(document).scrollTop();l.on("mousemove",function(t){i.resizeTo({x:t.clientX-f.left,y:t.clientY-(f.top-p)},c,!t.shiftKey),u.update(r,{image:h}),d.update(o,{image:h})}).one("mouseup",function(){l.off("mousemove")}),c.data("ratio")||c.data("ratio",c.height()/c.width()),i.recordUndo(s),e.stopPropagation(),e.preventDefault()}},D=function(e){var n=t(e.target).closest("[data-event]");n.length>0&&e.preventDefault()},k=function(r){var s=t(r.target).closest("[data-event]");if(s.length>0){var l,d,u,c=s.attr("data-event"),f=s.attr("data-value"),p=b(r.target),g=p.editor(),m=p.toolbar(),v=p.dialog(),w=p.editable(),C=p.codable(),T=g.data("options");if(-1!==t.inArray(c,["resize","floatMe","removeMedia"])){var S=p.handle(),D=S.find(".note-control-selection");u=t(D.data("target"))}if(i[c]&&(w.trigger("focus"),i[c](w,f,u)),-1!==t.inArray(c,["backColor","foreColor"]))o.updateRecentColor(s[0],c,f);else if("showLinkDialog"===c){w.focus();var k=i.getLinkInfo();i.saveRange(w),h.showLinkDialog(w,v,k).then(function(t,e){i.restoreRange(w),i.createLink(w,t,e)})}else if("showImageDialog"===c)w.focus(),h.showImageDialog(w,v).then(function(t){"string"==typeof t?(i.restoreRange(w),i.insertImage(w,t)):y(w,t)});else if("showVideoDialog"===c){w.focus();var _=i.getVideoInfo();i.saveRange(w),h.showVideoDialog(w,v,_).then(function(t){i.restoreRange(w),i.insertVideo(w,t)})}else if("showHelpDialog"===c)h.showHelpDialog(w,v);else if("fullscreen"===c){var E=t("html, body"),R=function(t){g.css("width",t.w),w.css("height",t.h),C.css("height",t.h),C.data("cmEditor")&&C.data("cmEditor").setSize(null,t.h)};g.toggleClass("fullscreen");var F=g.hasClass("fullscreen");F?(w.data("orgHeight",w.css("height")),t(window).on("resize",function(){R({w:t(window).width(),h:t(window).height()-m.outerHeight()})}).trigger("resize"),E.css("overflow","hidden")):(t(window).off("resize"),R({w:T.width||"",h:w.data("orgHeight")}),E.css("overflow","auto")),o.updateFullscreen(m,F)}else if("codeview"===c){g.toggleClass("codeview");var A=g.hasClass("codeview");if(A){if(C.val(w.html()),C.height(w.height()),o.deactivate(m),C.focus(),n.bCodeMirror){d=e.fromTextArea(C[0],t.extend({mode:"text/html",lineNumbers:!0},T.codemirror));var M=g.data("options").codemirror.tern||!1;M&&(l=new e.TernServer(M),d.ternServer=l,d.on("cursorActivity",function(t){l.updateArgHints(t)})),d.setSize(null,w.outerHeight()),d.autoFormatRange&&d.autoFormatRange({line:0,ch:0},{line:d.lineCount(),ch:d.getTextArea().value.length}),C.data("cmEditor",d)}}else n.bCodeMirror&&(d=C.data("cmEditor"),C.val(d.getValue()),d.toTextArea()),w.html(C.val()||a.emptyPara),w.height(T.height?C.height():"auto"),o.activate(m),w.focus();o.updateCodeview(p.toolbar(),A)}x(r)}},_=24,E=function(e){var n=t(document),i=b(e.target).editable(),r=i.offset().top-n.scrollTop();n.on("mousemove",function(t){var e=t.clientY-(r+_);i.height(e)}).one("mouseup",function(){n.off("mousemove")}),e.stopPropagation(),e.preventDefault()},R=18,F=function(e){var n,i=t(e.target.parentNode),r=i.next(),a=i.find(".note-dimension-picker-mousecatcher"),o=i.find(".note-dimension-picker-highlighted"),s=i.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var l=t(e.target).offset();n={x:e.pageX-l.left,y:e.pageY-l.top}}else n={x:e.offsetX,y:e.offsetY};var d={c:Math.ceil(n.x/R)||1,r:Math.ceil(n.y/R)||1};o.css({width:d.c+"em",height:d.r+"em"}),a.attr("data-value",d.c+"x"+d.r),3<d.c&&d.c<10&&s.css({width:d.c+1+"em"}),3<d.r&&d.r<10&&s.css({height:d.r+1+"em"}),r.html(d.c+" x "+d.r)},A=function(e){var n=t(),i=e.dropzone,r=e.dropzone.find(".note-dropzone-message");t(document).on("dragenter",function(t){var a=e.editor.hasClass("codeview");a||0!==n.length||(e.editor.addClass("dragover"),i.width(e.editor.width()),i.height(e.editor.height()),r.text("Drag Image Here")),n=n.add(t.target)}).on("dragleave",function(t){n=n.not(t.target),0===n.length&&e.editor.removeClass("dragover")}).on("drop",function(){n=t(),e.editor.removeClass("dragover")}),i.on("dragenter",function(){i.addClass("hover"),r.text("Drop Image")}).on("dragleave",function(){i.removeClass("hover"),r.text("Drag Image Here")}),i.on("drop",function(t){var e=t.originalEvent.dataTransfer;if(e&&e.files){var n=b(t.currentTarget||t.target);n.editable().focus(),y(n.editable(),e.files)}t.preventDefault()}).on("dragover",!1)};this.bindKeyMap=function(t,e){var n=t.editor,r=t.editable;r.on("keydown",function(t){var a=[];t.metaKey&&a.push("CMD"),t.ctrlKey&&a.push("CTRL"),t.shiftKey&&a.push("SHIFT");var o=l.nameFromCode[t.keyCode];o&&a.push(o);var s=e[a.join("+")];s?(t.preventDefault(),i[s](r,n.data("options"))):l.isEdit(t.keyCode)&&i.recordUndo(r)})},this.attach=function(t,e){this.bindKeyMap(t,e.keyMap[n.bMac?"mac":"pc"]),t.editable.on("mousedown",w),t.editable.on("keyup mouseup",x),t.editable.on("scroll",C),t.editable.on("paste",T),e.disableDragAndDrop||A(t),t.handle.on("mousedown",S),t.toolbar.on("click",k),t.popover.on("click",k),t.toolbar.on("mousedown",D),t.popover.on("mousedown",D),t.statusbar.on("mousedown",E);var r=t.toolbar,a=r.find(".note-dimension-picker-mousecatcher");if(a.on("mousemove",F),t.editable.on("blur",function(){i.saveRange(t.editable)}),t.editor.data("options",e),e.styleWithSpan&&!n.bMSIE&&setTimeout(function(){document.execCommand("styleWithCSS",0,!0)}),t.editable.data("NoteHistory",new f),e.onenter&&t.editable.keypress(function(t){t.keyCode===l.ENTER&&e.onenter(t)}),e.onfocus&&t.editable.focus(e.onfocus),e.onblur&&t.editable.blur(e.onblur),e.onkeyup&&t.editable.keyup(e.onkeyup),e.onkeydown&&t.editable.keydown(e.onkeydown),e.onpaste&&t.editable.on("paste",e.onpaste),e.onToolbarClick&&t.toolbar.click(e.onToolbarClick),e.onChange){var o=function(){e.onChange(t.editable,t.editable.html())};n.bMSIE?t.editable.on("DOMCharacterDataModified, DOMSubtreeModified, DOMNodeInserted",o):t.editable.on("input",o)}t.editable.data("callbacks",{onAutoSave:e.onAutoSave,onImageUpload:e.onImageUpload,onImageUploadError:e.onImageUploadError,onFileUpload:e.onFileUpload,onFileUploadError:e.onFileUpload})},this.dettach=function(t){t.editable.off(),t.toolbar.off(),t.handle.off(),t.popover.off()}},y=function(){var e,i,r,o,s;e={picture:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.image+'" data-event="showImageDialog" tabindex="-1"><i class="fa fa-picture-o icon-picture"></i></button>'},link:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.link+'" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-link icon-link"></i></button>'},video:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.video.video+'" data-event="showVideoDialog" tabindex="-1"><i class="fa fa-youtube-play icon-play"></i></button>'},table:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.table.table+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-table icon-table"></i> <span class="caret"></span></button><ul class="dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>';
},style:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.style.style+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-magic icon-magic"></i> <span class="caret"></span></button><ul class="dropdown-menu"><li><a data-event="formatBlock" data-value="p">'+t.style.normal+'</a></li><li><a data-event="formatBlock" data-value="blockquote"><blockquote>'+t.style.blockquote+'</blockquote></a></li><li><a data-event="formatBlock" data-value="pre">'+t.style.pre+'</a></li><li><a data-event="formatBlock" data-value="h1"><h1>'+t.style.h1+'</h1></a></li><li><a data-event="formatBlock" data-value="h2"><h2>'+t.style.h2+'</h2></a></li><li><a data-event="formatBlock" data-value="h3"><h3>'+t.style.h3+'</h3></a></li><li><a data-event="formatBlock" data-value="h4"><h4>'+t.style.h4+'</h4></a></li><li><a data-event="formatBlock" data-value="h5"><h5>'+t.style.h5+'</h5></a></li><li><a data-event="formatBlock" data-value="h6"><h6>'+t.style.h6+"</h6></a></li></ul>"},fontname:function(t){var e=["Serif","Sans","Arial","Arial Black","Courier","Courier New","Comic Sans MS","Helvetica","Impact","Lucida Grande","Lucida Sans","Tahoma","Times","Times New Roman","Verdana"],n='<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.name+'" tabindex="-1"><span class="note-current-fontname">Arial</span> <b class="caret"></b></button>';n+='<ul class="dropdown-menu">';for(var i=0;i<e.length;i++)n+='<li><a data-event="fontName" data-value="'+e[i]+'"><i class="fa fa-check icon-ok"></i> '+e[i]+"</a></li>";return n+="</ul>"},fontsize:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.size+'" tabindex="-1"><span class="note-current-fontsize">11</span> <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="fontSize" data-value="8"><i class="fa fa-check icon-ok"></i> 8</a></li><li><a data-event="fontSize" data-value="9"><i class="fa fa-check icon-ok"></i> 9</a></li><li><a data-event="fontSize" data-value="10"><i class="fa fa-check icon-ok"></i> 10</a></li><li><a data-event="fontSize" data-value="11"><i class="fa fa-check icon-ok"></i> 11</a></li><li><a data-event="fontSize" data-value="12"><i class="fa fa-check icon-ok"></i> 12</a></li><li><a data-event="fontSize" data-value="14"><i class="fa fa-check icon-ok"></i> 14</a></li><li><a data-event="fontSize" data-value="18"><i class="fa fa-check icon-ok"></i> 18</a></li><li><a data-event="fontSize" data-value="24"><i class="fa fa-check icon-ok"></i> 24</a></li><li><a data-event="fontSize" data-value="36"><i class="fa fa-check icon-ok"></i> 36</a></li></ul>'},color:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small note-recent-color" title="'+t.color.recent+'" data-event="color" data-value=\'{"backColor":"yellow"}\' tabindex="-1"><i class="fa fa-font icon-font" style="color:black;background-color:yellow;"></i></button><button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.color.more+'" data-toggle="dropdown" tabindex="-1"><span class="caret"></span></button><ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+t.color.background+'</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+t.color.transparent+'">'+t.color.setTransparent+'</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">'+t.color.foreground+'</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+t.color.reset+'">'+t.color.resetToDefault+'</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>'},bold:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.bold+'" data-shortcut="Ctrl+B" data-mac-shortcut="âŒ˜+B" data-event="bold" tabindex="-1"><i class="fa fa-bold icon-bold"></i></button>'},italic:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.italic+'" data-shortcut="Ctrl+I" data-mac-shortcut="âŒ˜+I" data-event="italic" tabindex="-1"><i class="fa fa-italic icon-italic"></i></button>'},underline:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.underline+'" data-shortcut="Ctrl+U" data-mac-shortcut="âŒ˜+U" data-event="underline" tabindex="-1"><i class="fa fa-underline icon-underline"></i></button>'},strike:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.strike+'" data-event="strikethrough" tabindex="-1"><i class="fa fa-strikethrough icon-strikethrough"></i></button>'},clear:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.clear+'" data-shortcut="Ctrl+\\" data-mac-shortcut="âŒ˜+\\" data-event="removeFormat" tabindex="-1"><i class="fa fa-eraser icon-eraser"></i></button>'},ul:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.lists.unordered+'" data-shortcut="Ctrl+Shift+8" data-mac-shortcut="âŒ˜+â‡§+7" data-event="insertUnorderedList" tabindex="-1"><i class="fa fa-list-ul icon-list-ul"></i></button>'},ol:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.lists.ordered+'" data-shortcut="Ctrl+Shift+7" data-mac-shortcut="âŒ˜+â‡§+8" data-event="insertOrderedList" tabindex="-1"><i class="fa fa-list-ol icon-list-ol"></i></button>'},paragraph:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.paragraph.paragraph+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i>  <span class="caret"></span></button><div class="dropdown-menu"><div class="note-align btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.left+'" data-shortcut="Ctrl+Shift+L" data-mac-shortcut="âŒ˜+â‡§+L" data-event="justifyLeft" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.center+'" data-shortcut="Ctrl+Shift+E" data-mac-shortcut="âŒ˜+â‡§+E" data-event="justifyCenter" tabindex="-1"><i class="fa fa-align-center icon-align-center"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.right+'" data-shortcut="Ctrl+Shift+R" data-mac-shortcut="âŒ˜+â‡§+R" data-event="justifyRight" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.justify+'" data-shortcut="Ctrl+Shift+J" data-mac-shortcut="âŒ˜+â‡§+J" data-event="justifyFull" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="note-list btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.outdent+'" data-shortcut="Ctrl+[" data-mac-shortcut="âŒ˜+[" data-event="outdent" tabindex="-1"><i class="fa fa-outdent icon-indent-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.indent+'" data-shortcut="Ctrl+]" data-mac-shortcut="âŒ˜+]" data-event="indent" tabindex="-1"><i class="fa fa-indent icon-indent-right"></i></button></div></div>'},height:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.height+'" tabindex="-1"><i class="fa fa-text-height icon-text-height"></i>&nbsp; <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="lineHeight" data-value="1.0"><i class="fa fa-check icon-ok"></i> 1.0</a></li><li><a data-event="lineHeight" data-value="1.2"><i class="fa fa-check icon-ok"></i> 1.2</a></li><li><a data-event="lineHeight" data-value="1.4"><i class="fa fa-check icon-ok"></i> 1.4</a></li><li><a data-event="lineHeight" data-value="1.5"><i class="fa fa-check icon-ok"></i> 1.5</a></li><li><a data-event="lineHeight" data-value="1.6"><i class="fa fa-check icon-ok"></i> 1.6</a></li><li><a data-event="lineHeight" data-value="1.8"><i class="fa fa-check icon-ok"></i> 1.8</a></li><li><a data-event="lineHeight" data-value="2.0"><i class="fa fa-check icon-ok"></i> 2.0</a></li><li><a data-event="lineHeight" data-value="3.0"><i class="fa fa-check icon-ok"></i> 3.0</a></li></ul>'},help:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.help+'" data-event="showHelpDialog" tabindex="-1"><i class="fa fa-question icon-question"></i></button>'},fullscreen:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.fullscreen+'" data-event="fullscreen" tabindex="-1"><i class="fa fa-arrows-alt icon-fullscreen"></i></button>'},codeview:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.codeview+'" data-event="codeview" tabindex="-1"><i class="fa fa-code icon-code"></i></button>'},undo:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.history.undo+'" data-event="undo" tabindex="-1"><i class="fa fa-undo icon-undo"></i></button>'},redo:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.history.redo+'" data-event="redo" tabindex="-1"><i class="fa fa-repeat icon-repeat"></i></button>'}},i=function(t){return'<div class="note-popover"><div class="note-link-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-link-content"><a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.edit+'" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-edit icon-edit"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.unlink+'" data-event="unlink" tabindex="-1"><i class="fa fa-unlink icon-unlink"></i></button></div></div></div><div class="note-image-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-image-content"><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeFull+'" data-event="resize" data-value="1" tabindex="-1"><span class="note-fontsize-10">100%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeHalf+'" data-event="resize" data-value="0.5" tabindex="-1"><span class="note-fontsize-10">50%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeQuarter+'" data-event="resize" data-value="0.25" tabindex="-1"><span class="note-fontsize-10">25%</span> </button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatLeft+'" data-event="floatMe" data-value="left" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatRight+'" data-event="floatMe" data-value="right" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatNone+'" data-event="floatMe" data-value="none" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.remove+'" data-event="removeMedia" data-value="none" tabindex="-1"><i class="fa fa-trash-o icon-trash"></i></button></div></div></div></div>'};var r=function(){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>'},l=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.textFormatting+"</th></tr></thead><tbody><tr><td>âŒ˜ + B</td><td>"+t.font.bold+"</td></tr><tr><td>âŒ˜ + I</td><td>"+t.font.italic+"</td></tr><tr><td>âŒ˜ + U</td><td>"+t.font.underline+"</td></tr><tr><td>âŒ˜ + â‡§ + S</td><td>"+t.font.strike+"</td></tr><tr><td>âŒ˜ + \\</td><td>"+t.font.clear+"</td></tr></tr></tbody></table>"},d=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.action+"</th></tr></thead><tbody><tr><td>âŒ˜ + Z</td><td>"+t.history.undo+"</td></tr><tr><td>âŒ˜ + â‡§ + Z</td><td>"+t.history.redo+"</td></tr><tr><td>âŒ˜ + ]</td><td>"+t.paragraph.indent+"</td></tr><tr><td>âŒ˜ + [</td><td>"+t.paragraph.outdent+"</td></tr><tr><td>âŒ˜ + ENTER</td><td>"+t.hr.insert+"</td></tr></tbody></table>"},u=function(t,e){var n='<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.extraKeys+"</th></tr></thead><tbody>";for(var i in e.extraKeys)e.extraKeys.hasOwnProperty(i)&&(n+="<tr><td>"+i+"</td><td>"+e.extraKeys[i]+"</td></tr>");return n+="</tbody></table>"},h=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.paragraphFormatting+"</th></tr></thead><tbody><tr><td>âŒ˜ + â‡§ + L</td><td>"+t.paragraph.left+"</td></tr><tr><td>âŒ˜ + â‡§ + E</td><td>"+t.paragraph.center+"</td></tr><tr><td>âŒ˜ + â‡§ + R</td><td>"+t.paragraph.right+"</td></tr><tr><td>âŒ˜ + â‡§ + J</td><td>"+t.paragraph.justify+"</td></tr><tr><td>âŒ˜ + â‡§ + NUM7</td><td>"+t.lists.ordered+"</td></tr><tr><td>âŒ˜ + â‡§ + NUM8</td><td>"+t.lists.unordered+"</td></tr></tbody></table>"},c=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.documentStyle+"</th></tr></thead><tbody><tr><td>âŒ˜ + NUM0</td><td>"+t.style.normal+"</td></tr><tr><td>âŒ˜ + NUM1</td><td>"+t.style.h1+"</td></tr><tr><td>âŒ˜ + NUM2</td><td>"+t.style.h2+"</td></tr><tr><td>âŒ˜ + NUM3</td><td>"+t.style.h3+"</td></tr><tr><td>âŒ˜ + NUM4</td><td>"+t.style.h4+"</td></tr><tr><td>âŒ˜ + NUM5</td><td>"+t.style.h5+"</td></tr><tr><td>âŒ˜ + NUM6</td><td>"+t.style.h6+"</td></tr></tbody></table>"},f=function(t,e){var n='<table class="note-shortcut-layout"><tbody><tr><td>'+d(t,e)+"</td><td>"+l(t,e)+"</td></tr><tr><td>"+c(t,e)+"</td><td>"+h(t,e)+"</td></tr>";return e.extraKeys&&(n+='<tr><td colspan="2">'+u(t,e)+"</td></tr>"),n+="</tbody</table>"},p=function(t){return t.replace(/âŒ˜/g,"Ctrl").replace(/â‡§/g,"Shift")};o=function(t,e){var i=function(){return'<div class="note-image-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.image.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><h5>'+t.image.selectFromFiles+'</h5><input class="note-image-input" type="file" name="files" accept="image/*" /><h5>'+t.image.url+'</h5><input class="note-image-url form-control span12" type="text" /></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-image-btn disabled" disabled="disabled">'+t.image.insert+"</button></div></div></div></div>"},r=function(){return'<div class="note-link-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.link.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+t.link.textToDisplay+'</label><input class="note-link-text form-control span12" disabled type="text" /></div><div class="form-group"><label>'+t.link.url+'</label><input class="note-link-url form-control span12" type="text" /></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+t.link.openInNewWindow+"</label></div>")+'</div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-link-btn disabled" disabled="disabled">'+t.link.insert+"</button></div></div></div></div>"},a=function(){return'<div class="note-video-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.video.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+t.video.url+'</label>&nbsp;<small class="text-muted">'+t.video.providers+'</small><input class="note-video-url form-control span12" type="text" /></div></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-video-btn disabled" disabled="disabled">'+t.video.insert+"</button></div></div></div></div>"},o=function(){return'<div class="note-help-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+t.shortcut.close+'</a><div class="title">'+t.shortcut.shortcuts+"</div>"+(n.bMac?f(t,e):p(f(t,e)))+'<p class="text-center"><a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.2</a> Â· <a href="//github.com/HackerWins/summernote" target="_blank">Project</a> Â· <a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues</a></p></div></div></div></div>'};return'<div class="note-dialog">'+i()+r()+a()+o()+"</div>"},s=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'};var g=function(e,i){e.find("button").each(function(e,i){var r=t(i),a=r.attr(n.bMac?"data-mac-shortcut":"data-shortcut");a&&r.attr("title",function(t,e){return e+" ("+a+")"})}).tooltip({container:"body",trigger:"hover",placement:i||"top"}).on("click",function(){t(this).tooltip("hide")})},m=[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],v=function(e){e.find(".note-color-palette").each(function(){for(var e=t(this),n=e.attr("data-target-event"),i=[],r=0,a=m.length;a>r;r++){for(var o=m[r],s=[],l=0,d=o.length;d>l;l++){var u=o[l];s.push(['<button type="button" class="note-color-btn" style="background-color:',u,';" data-event="',n,'" data-value="',u,'" title="',u,'" data-toggle="button" tabindex="-1"></button>'].join(""))}i.push("<div>"+s.join("")+"</div>")}e.html(i.join(""))})};this.createLayout=function(n,l){var d=n.next();if(!d||!d.hasClass("note-editor")){var u=t('<div class="note-editor"></div>');l.width&&u.width(l.width),l.height>0&&t('<div class="note-statusbar">'+s()+"</div>").prependTo(u);var h=!n.is(":disabled"),c=t('<div class="note-editable" contentEditable="'+h+'"></div>').prependTo(u);l.height&&c.height(l.height),l.direction&&c.attr("dir",l.direction),c.html(a.html(n)||a.emptyPara),t('<textarea class="note-codable"></textarea>').prependTo(u);for(var f=t.summernote.lang[l.lang],p="",m=0,b=l.toolbar.length;b>m;m++){var y=l.toolbar[m];p+='<div class="note-'+y[0]+' btn-group">';for(var w=0,x=y[1].length;x>w;w++)p+=e[y[1][w]](f);p+="</div>"}p='<div class="note-toolbar btn-toolbar">'+p+"</div>";var C=t(p).prependTo(u);v(C),g(C,"bottom");var T=t(i(f)).prependTo(u);g(T),t(r()).prependTo(u);var S=t(o(f,l)).prependTo(u);S.find("button.close, a.modal-close").click(function(){t(this).closest(".modal").modal("hide")}),t('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(u),u.insertAfter(n),n.hide()}},this.layoutInfoFromHolder=function(t){var e=t.next();if(e.hasClass("note-editor")){var n=a.buildLayoutInfo(e);for(var i in n)n.hasOwnProperty(i)&&(n[i]=n[i].call());return n}},this.removeLayout=function(t){var e=this.layoutInfoFromHolder(t);e&&(t.html(e.editable.html()),e.editor.remove(),t.show())}};t.summernote=t.summernote||{},t.extend(t.summernote,o);var w=new y,x=new b;t.fn.extend({summernote:function(e){if(e=t.extend({},t.summernote.options,e),this.each(function(n,i){var r=t(i);w.createLayout(r,e);var o=w.layoutInfoFromHolder(r);x.attach(o,e),a.isTextarea(r[0])&&r.closest("form").submit(function(){r.html(r.code())})}),this.first()&&e.focus){var n=w.layoutInfoFromHolder(this.first());n.editable.focus()}return this.length>0&&e.oninit&&e.oninit(),this},code:function(e){if(void 0===e){var i=this.first();if(0===i.length)return;var r=w.layoutInfoFromHolder(i);if(r&&r.editable){var a=r.editor.hasClass("codeview");return a&&n.bCodeMirror&&r.codable.data("cmEditor").save(),a?r.codable.val():r.editable.html()}return i.html()}return this.each(function(n,i){var r=w.layoutInfoFromHolder(t(i));r&&r.editable&&r.editable.html(e)}),this},destroy:function(){return this.each(function(e,n){var i=t(n),r=w.layoutInfoFromHolder(i);r&&r.editable&&(x.dettach(r),w.removeLayout(i))}),this}})});