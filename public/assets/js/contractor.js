!function e(t,a,n){function o(s,r){if(!a[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(i)return i(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=a[s]={exports:{}};t[s][0].call(c.exports,function(e){var a=t[s][1][e];return o(a?a:e)},c,c.exports,e,t,a,n)}return a[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({"/home/ford/web/www-job/resources/assets/js/front/contractor.js":[function(e,t,a){"use strict";var n,o=(e("./core"),e("./plugins"),!1);if($("#contractorAccountForm")[0]){n=$("#contractorAccountForm");var i='<div class="row element-top-10"><div class="col-md-3"><input type="text" name="exp_company" class="form-control" placeholder="Company" /></div><div class="col-md-3"><input type="text" name="exp_year" class="form-control" placeholder="Year" /></div><div class="col-md-3"><input type="text" name="exp_salary" class="form-control" placeholder="Salary" /></div><div class="col-md-3"><input type="text" name="exp_position" class="form-control" placeholder="Position" /></div><div class="element-top-10">&nbsp;</div><div class="col-sm-10"><textarea class="form-control" name="exp_desc" maxlength="2000">Explain a little about your job duties.</textarea></div><div class="col-sm-2"><button class="btn btn-danger btn-xs">Remove</button></div></div>',s='<div class="row element-top-10"><div class="col-md-3"><input type="text" name="edu_name" class="form-control" placeholder="Institution Name" /></div><div class="col-md-3"><input type="text" name="edu_type" class="form-control" placeholder="ex. Design/Engineering/Business" /></div><div class="col-md-3"><input type="text" name="edu_gpa" class="form-control" placeholder="GPA/Score" /></div><div class="col-md-3"><input type="text" name="edu_qualification" class="form-control" placeholder="ex. Ph.D" /></div><div class="col-sm-2 element-top-10"><button class="btn btn-danger btn-xs">Remove</button></div></div>',r='<div class="row element-top-10"><div class="col-md-5"><input type="text" name="web_name" class="form-control" placeholder="Name of the web" /></div><div class="col-md-5"><input type="text" name="web_adress" class="form-control" placeholder="http://www.programmechameleon.com" /></div><div class="col-sm-2 element-top-10"><button class="btn btn-danger btn-xs">Remove</button></div></div>',l=["image/gif","image/jpeg","image/pjpeg","image/png"],d=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"];$("input[name=file_cv]").on("change",function(){if(this.files[0].size>5e6)$(this).parent().showMessage("File cannot be more than 5Mb.","danger");else if(-1===$.inArray(this.files[0].type,d))$(this).parent().showMessage("Can only upload .doc or .docx files.","danger");else if(o)alert("Another upload process is running, please wait.");else{o=!0;var e=new FormData;e.append("file",this.files[0]),$(".page-preloader").show(),$.ajax({method:"post",url:window.origin+"/contractor/update-resume",data:e,crossDomain:!1,dataType:"json",cache:!0,processData:!1,contentType:!1,headers:{"X-CSRF-Token":$('meta[name="_t"]').attr("content")}}).done(function(e){o=!1,$(".page-preloader").hide(),alert(e.message),n.showMessage(e.message,e.type)}).fail(function(e,t,a){o=!1,$(".page-preloader").hide(),alert(e.responseText),n.showMessage(e.responseText,"danger")})}}),$("input[name=image]").on("change",function(){if(this.files[0].size>5e6)$(this).parent().showMessage("File cannot be more than 5Mb.","danger");else if(-1===$.inArray(this.files[0].type,l))$(this).parent().showMessage("Can only upload .jpg, .gif, or .png files.","danger");else if(o)alert("Another upload process is running, please wait.");else{o=!0,$(".page-preloader").show();var e=new FormData;e.append("file",this.files[0]),$.ajax({method:"post",url:window.origin+"/contractor/update-avatar",data:e,crossDomain:!1,dataType:"json",cache:!0,processData:!1,contentType:!1,headers:{"X-CSRF-Token":$('meta[name="_t"]').attr("content")}}).done(function(e){o=!1,$(".page-preloader").hide(),alert(e.message),"success"===e.type&&$("img.tmp-img").attr("src",e.image),n.showMessage(e.message,e.type)}).fail(function(e,t,a){o=!1,$(".page-preloader").hide(),alert(e.responseText),n.showMessage(e.responseText,"danger")})}}),$("#expContainer").find("button#addExp").on("click",function(e){e.preventDefault(),$("#expContainer").append(i)}),$("#eduContainer").find("button#addEducation").on("click",function(e){e.preventDefault(),$("#eduContainer").append(s)}),$("#urlContainer").find("button#addWebsite").on("click",function(e){e.preventDefault(),$("#urlContainer").append(r)}),$("#expContainer").on("click","button.btn-danger",function(e){confirm("Remove this experience data? Cannot be undone.")&&$(this).parent().parent().remove()}),$("#eduContainer").on("click","button.btn-danger",function(e){confirm("Remove this education data? Cannot be undone.")&&$(this).parent().parent().remove()}),$("#urlContainer").on("click","button.btn-danger",function(e){confirm("Remove this website data? Cannot be undone.")&&$(this).parent().parent().remove()}),n.find("[type=submit]").on("click",function(e){if(e.preventDefault(),o)alert("Another upload process is running, please wait.");else{o=!0,$(".page-preloader").show(),n.find("[type=submit]").disable(!0);var t=[],a=[],i=[];$("#eduContainer .row").each(function(e){var a={name:$(this).find("input[name=edu_name]").val(),type:$(this).find("input[name=edu_type]").val(),gpa:$(this).find("input[name=edu_gpa]").val(),qualification:$(this).find("input[name=edu_qualification]").val()};t.push(a)}),$("#expContainer .row").each(function(e){var t={company:$(this).find("input[name=exp_company]").val(),year:$(this).find("input[name=exp_year]").val(),position:$(this).find("input[name=exp_position]").val(),salary:$(this).find("input[name=exp_salary]").val(),description:$(this).find("textarea[name=exp_desc]").val()};a.push(t)}),$("#urlContainer .row").each(function(e){var t={name:$(this).find("input[name=web_name]").val(),address:$(this).find("input[name=web_adress]").val()};i.push(t)}),$.post(window.origin+"/contractor/update-account",{data:n.serializeForm(),description:$(".summernote").code(),eduData:JSON.stringify(t),expData:JSON.stringify(a),urlData:JSON.stringify(i)}).done(function(e){o=!1,$(".page-preloader").hide(),n.showMessage(e.message,e.type),alert(e.message),n.find("[type=submit]").disable(!1)}).fail(function(e,t,a){o=!1,$(".page-preloader").hide(),alert(e.responseText),n.showMessage(e.responseText,"danger"),n.find("[type=submit]").disable(!1)})}})}if($("#contractorSalaryRangeForm")[0]){var c=$("#contractorSalaryRangeForm");c.find("[type=button]").on("click",function(e){e.preventDefault(),o?alert("Another upload process is running, please wait"):(o=!0,$(".page-preloader").show(),c.find("[type=button]").disable(!0),$.post(window.origin+"/contractor/update-salary",{data:c.serializeForm()}).done(function(e){o=!1,$(".page-preloader").hide(),c.showMessage(e.message,e.type),c.find("[type=button]").disable(!1)}).fail(function(e,t,a){o=!1,$(".page-preloader").hide(),alert(e.responseText),c.showMessage(e.responseText,"danger"),c.find("[type=button]").disable(!1)}))})}if($("#contractorJobAlertForm")[0]&&(n=$("#contractorJobAlertForm"),n.find("[type=submit]").on("click",function(e){e.preventDefault(),n.parsley().validate()&&!o?(n.find("[type=submit]").disable(!0),o=!0,$(".page-preloader").show(),$.post(window.origin+"/contractor/create-job-alert",{data:n.serializeForm()}).done(function(e){o=!1,$(".page-preloader").hide(),n.showMessage(e.message,e.type),n.find("[type=submit]").disable(!1),"success"===e.type&&location.reload()}).fail(function(e,t,a){o=!1,$(".page-preloader").hide(),n.showMessage(e.responseText,"danger"),n.find("[type=submit]").disable(!1)})):n.showMessage("Another process is running.","info")})),$("#removeAlertBtn")[0]&&$("#removeAlertBtn").on("click",function(e){e.preventDefault();var t=$("#removeAlertBtn");confirm("Remove this alert?")&&(o?alert("Another process is running, please wait"):(o=!0,$(".page-preloader").show(),t.disable(!0),$.post(window.origin+"/contractor/remove-job-alert").done(function(e){o=!1,$(".page-preloader").hide(),t.disable(!1),alert(e.message),"success"===e.type&&location.reload()}).fail(function(e,a,n){o=!1,$(".page-preloader").hide(),alert(e.responseText),t.disable(!1)})))}),$("button[data-init-apply]")[0]&&$.each($("button[data-init-apply]"),function(e,t){var a=$(t);a.on("click",function(e){e.preventDefault(),confirm("Apply for this job?")&&!o?(o=!0,$("button[data-init-apply]").disable(!0),$(".page-preloader").show(),$.post(window.origin+"/job/apply",{job:a.data("job")}).done(function(e){o=!1,$("button[data-init-apply]").disable(!1),$(".page-preloader").hide(),alert(e.message)}).fail(function(e,t,a){o=!1,$("button[data-init-apply]").disable(!1),$(".page-preloader").hide(),alert(e.responseText)})):alert("A process is running, please wait.")})}),$("#resumeList")[0]&&$("#resumeList .btn-remove").on("click",function(e){var t=$(this);confirm("Remove resume file?")&&(o=!0,$("#resumeList .btn-remove").disable(!0),$(".page-preloader").show(),$.post(window.origin+"/contractor/remove-resume",{file:t.data("resume")}).done(function(e){o=!1,$("#resumeList .btn-remove").disable(!1),$(".page-preloader").hide(),alert(e.message),"success"===e.type&&t.parent().parent().remove()}).fail(function(e,t,a){o=!1,$("#resumeList .btn-remove").disable(!1),$(".page-preloader").hide(),alert(e.responseText)}))}),$("#dataFileList")[0]){var p=$("#dataFileList");p.on("click","[data-remove]",function(e){if(e.preventDefault(),confirm("Remove data?")&&!o){var t=$(this),a=t.data("remove"),n=t.data("id");o=!0,$(".page-preloader").show(),$("[btn-remove]").disable(!0),$.post(a,{i:n}).done(function(e){o=!1,$(".page-preloader").hide(),$("[btn-remove]").disable(!1),alert(e.message),"success"===e.type&&p.find("li[data-id="+n+"]").remove()}).fail(function(e,t,a){o=!1,$(".page-preloader").hide(),$("[btn-remove]").disable(!1),alert(e.responseText)})}})}if($("#submitTimesheetForm")[0]){n=$("#submitTimesheetForm");var u=n.data("value"),f=null,m=["application/msword","application/msexcel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.wordprocessingml.document"];$("select[name=report_time]").on("change",function(e){console.log($(this).val()),"daily"===$(this).val()?$("span.hour-text").text("hour"):$("span.hour-text").text("day")}),n.find("input[type=file]").on("change",function(){this.files[0].size>5e6?($(this).parent().showMessage("File cannot be more than 5Mb.","danger"),f=null):-1===$.inArray(this.files[0].type,m)?($(this).parent().showMessage("Can only upload word or excel files.","danger"),f=null):($(this).parent().showMessage("This file can be uploaded.","success"),f=this.files[0])}),n.find("[type=submit]").on("click",function(e){if(e.preventDefault(),n.parsley().validate()&&!o){o=!0,$(".page-preloader").show(),n.find("[type=submit]").disable(!0);var t=new FormData;t.append("file",f),t.append("data",JSON.stringify(n.serializeForm())),t.append("job",u),$.ajax({method:"post",url:window.origin+"/job/submit-timesheet",data:t,crossDomain:!1,dataType:"json",cache:!0,processData:!1,contentType:!1,headers:{"X-CSRF-Token":$('meta[name="_t"]').attr("content")}}).done(function(e){o=!1,$(".page-preloader").hide(),n.showMessage(e.message,e.type),n.find("[type=submit]").disable(!1)}).fail(function(e,t,a){o=!1,$(".page-preloader").hide(),n.showMessage(e.responseText,"danger"),n.find("[type=submit]").disable(!1)})}else alert("A process is still on going, please wait")})}if($("#submitExpenseForm")[0]){n=$("#submitExpenseForm");var u=n.data("value"),f=null,h=["application/msword","application/msexcel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/pdf","image/jpeg","image/pjpeg","image/png"];n.find("input[type=file]").on("change",function(){this.files[0].size>5e6?($(this).parent().showMessage("File cannot be more than 5Mb.","danger"),f=null):-1===$.inArray(this.files[0].type,h)?($(this).parent().showMessage("Can only upload image, office docs, and jpeg or png.","danger"),f=null):($(this).parent().showMessage("This file can be uploaded.","success"),f=this.files[0])}),n.find("[type=submit]").on("click",function(e){if(e.preventDefault(),n.parsley().validate()&&!o){o=!0,$(".page-preloader").show(),n.find("[type=submit]").disable(!0);var t=new FormData;t.append("file",f),t.append("data",JSON.stringify(n.serializeForm())),t.append("job",u),$.ajax({method:"post",url:window.origin+"/job/submit-expense",data:t,crossDomain:!1,dataType:"json",cache:!0,processData:!1,contentType:!1,headers:{"X-CSRF-Token":$('meta[name="_t"]').attr("content")}}).done(function(e){o=!1,$(".page-preloader").hide(),n.showMessage(e.message,e.type),n.find("[type=submit]").disable(!1)}).fail(function(e,t,a){o=!1,$(".page-preloader").hide(),n.showMessage(e.responseText,"danger"),n.find("[type=submit]").disable(!1)})}else alert("A process is still on going, please wait")})}if($("#listNotif")[0]){var p=$("#listNotif");p.find(".btn-mark-notif").on("click",function(e){if(e.preventDefault(),!o){var t=$(this),a=t.data("id");console.log(a),p.find(".btn-mark-notif").disable(!0),o=!0,$.post(window.origin+"/contractor/update-notif",{id:a,read:!0}).done(function(e){p.find(".btn-mark-notif").disable(!1),o=!1,"success"===e.type&&p.find("li[data-id="+a+"]").remove()}).fail(function(e,t,a){p.find(".btn-mark-notif").disable(!1),o=!1})}}),$("#removeReadNotifBtn").on("click",function(e){o||($("#removeReadNotifBtn").disable(!0),o=!0,$.post(window.origin+"/contractor/remove-notif").done(function(e){$("#removeReadNotifBtn").disable(!1),o=!1,alert(e.message)}).fail(function(e,t,a){$("#removeReadNotifBtn").disable(!1),o=!1}))}),$("#markReadBtn").on("click",function(e){o||($("#markReadBtn").disable(!0),o=!0,$.post(window.origin+"/contractor/mark-notif").done(function(e){$("#markReadBtn").disable(!1),o=!1,alert(e.message)}).fail(function(e,t,a){$("#markReadBtn").disable(!1),o=!1}))})}},{"./core":"/home/ford/web/www-job/resources/assets/js/front/core.js","./plugins":"/home/ford/web/www-job/resources/assets/js/front/plugins.js"}],"/home/ford/web/www-job/resources/assets/js/front/core.js":[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();Object.defineProperty(a,"__esModule",{value:!0});a.Core=function(){function e(){n(this,e),this.disable(),this.formMessage(),this.serializeForm(),this.setupAjax(),Number.prototype.formatMoney=function(e,t,a){var n=this,e=isNaN(e=Math.abs(e))?2:e,t=void 0==t?".":t,a=void 0==a?",":a,o=0>n?"-":"",i=parseInt(n=Math.abs(+n||0).toFixed(e))+"",s=(s=i.length)>3?s%3:0;return o+(s?i.substr(0,s)+a:"")+i.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+a)+(e?t+Math.abs(n-i).toFixed(e).slice(2):"")}}return o(e,[{key:"disable",value:function(){$.fn.extend({disable:function(e){return this.each(function(){e?($(this).find("span").hide(),$(this).attr("disabled","disabled").find(".btn-preloader").show()):($(this).find("span").show(),$(this).removeAttr("disabled").find(".btn-preloader").hide())})}})}},{key:"formMessage",value:function(){$.fn.showMessage=function(e,t,a){var n;return n=void 0,void 0===a&&(a=""),$(".status-message").remove(),n="<div class='status-message element-top-10 "+a+"'> <div role='alert' class='fade-in alert alert-dismissable alert-"+t+"'> <button type='button' class='close' data-dismiss='alert'> <span aria-hidden='true'><i class='fa fa-times'></i></span> <span class='sr-only'>Close</span> </button>"+e+"</div></div>",$(n).appendTo(this).hide().fadeIn(900)}}},{key:"serializeForm",value:function(){$.fn.serializeForm=function(){var e,t,a,n;return e=void 0,t=void 0,a=void 0,n=void 0,this.length<1?!1:(e={},t=e,n=':input[type!="checkbox"][type!="radio"], input:checked',a=function(){var a,n,o,i;if(a=void 0,n=void 0,o=void 0,i=void 0,!this.disabled&&(i=this.name.replace(/\[([^\]]+)?\]/g,",$1").split(","),n=i.length-1,a=$(this),i[0])){for(o=0;n>o;)t=t[i[o]]=t[i[o]]||(""===i[o+1]||"0"===i[o+1]?[]:{}),o++;void 0!==t.length?t.push(a.val()):t[i[n]]=a.val(),t=e}},this.filter(n).each(a),this.find(n).each(a),e)}}},{key:"setupAjax",value:function(){$.ajaxSetup({statusCode:{403:function(e){return window.alert("Forbidden content!")},404:function(e){return window.alert("Requested route not found!")},500:function(e){return window.alert("Internal server error!")}},crossDomain:!1,dataType:"json",cache:!0,async:!1,headers:{"X-CSRF-Token":$('meta[name="_t"]').attr("content")}})}}]),e}()},{}],"/home/ford/web/www-job/resources/assets/js/front/plugins.js":[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();Object.defineProperty(a,"__esModule",{value:!0});a.Plugins=function(){function e(){n(this,e),this.initBootstrap();var t={init:"1",home_init:"1"};$("img[data-image-resize]")[0]&&$.each($("img[data-image-resize]"),function(e,t){$(t).parent().imgLiquid({fill:!0,verticalAlign:"center",horizontalAlign:"center"})}),$("#advance-search-option")[0]&&$(".advance-search-toggle").click(function(e){return $("#advance-search-option:visible").length?$("#advance-search-option").slideUp():$("#advance-search-option").slideDown(),!1});var a=$(window).width();a>767||$("li.menu-item-has-children > a").on("click",function(e){e.preventDefault(),$(this).next(".sub-menu").slideToggle("fast")}),$("#job-category-dropdown").minimalect({placeholder:"Select Job Category"}),$("#job-type-dropdown").minimalect({placeholder:"Select Job Type"}),t.init&&($("select#experience_min")[0]&&$("select#experience_max")[0]&&$("select#experience_min, select#experience_max").selectToUISlider({labels:10,labelSrc:"text",tooltip:!0}),$("select#salary_min")[0]&&$("select#salary_max")[0]&&$("select#salary_min, select#salary_max").selectToUISlider({labels:11,labelSrc:"text",tooltip:!0})),$("#job-listing-tabs").tabs({hide:{effect:"fade",duration:"fast"},show:{effect:"fade",duration:"fast"}});var a=$(window).width();if(767>a&&$("li.has-children > a").on("click",function(e){e.preventDefault(),$(this).next(".sub-menu").slideToggle("fast")}),$("#countrySelector")[0]&&this.formCountrySelectorInit(),$(".summernote")[0]&&$(".summernote").summernote({dialogsInBody:!0}),$("[data-checkout-type]")[0]){var o=!1;$.each($("[data-checkout-type]"),function(e,t){$(this).on("click",function(e){if(o)alert("Another payment is processing, please wait.");else{var t=$(this),a=t.data("user");e.preventDefault(),o=!0,$(".page-preloader").show(),t.disable(!0);var n=t.data("checkout-type"),i={};1==n?i={type:"paypal",value:n,user:a}:2==n&&(i={type:"paypal",value:n,amount:t.parent().find("input[name=_cred_amt]").val(),user:a}),$.post(window.origin+"/api/payment/process-payment",i).done(function(e){"success"===e.type?window.open(e.redirect):alert(e.message),t.disable(!1),o=!1,$(".page-preloader").hide()}).fail(function(e,a,n){o=!1,$(".page-preloader").hide(),alert(n.message),t.disable(!1)})}})})}}return o(e,[{key:"initBootstrap",value:function(){$('.panel-tooltip, [data-toggle="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover(),$(".input-daterange input").each(function(){$(this).datepicker({format:"yyyy-mm-dd"})})}},{key:"formCountrySelectorInit",value:function(){$.ajax({type:"get",data:{type:"all"},dataType:"json",url:window.origin+"/api/country",success:function(e){for(var t in e)if(e.hasOwnProperty(t)){var a="";if(""!==$("#countrySelector").data("value")){var n=$("#countrySelector").data("value");a=e[t].Name===n?'selected="selected"':""}else a="GBR"===e[t].Code?'selected="selected"':"";$("#countrySelector").append('<option value="'+e[t].Name+'" data-code="'+e[t].Code+'" '+a+">"+e[t].Name+"</option>")}if($("#citySelector")[0]){var o=!1;$("#citySelector").empty();var i=function(){o=!0,$.ajax({type:"get",data:{value:$("#countrySelector :selected").data("code")},dataType:"json",url:window.origin+"/api/city",success:function(e){o=!1,$("#citySelector").empty();for(var t in e)if(e.hasOwnProperty(t)){var a="";if(""!==$("#citySelector").data("value")){var n=$("#citySelector").data("value");a=e[t].Name===n?'selected="selected"':""}$("#citySelector").append('<option value="'+e[t].Name+'" '+a+">"+e[t].Name+"</option>")}},error:function(e,t,a){o=!1,confirm("Cannot load "+country+"'s city list, reload?")&&location.reload()}})};i(),$("#countrySelector").on("change",function(){o?alert("Please wait while previous list was loaded."):i()})}},error:function(e,t,a){confirm("Cannot load country list, reload?")&&location.reload()}})}}]),e}()},{}]},{},["/home/ford/web/www-job/resources/assets/js/front/contractor.js"]);